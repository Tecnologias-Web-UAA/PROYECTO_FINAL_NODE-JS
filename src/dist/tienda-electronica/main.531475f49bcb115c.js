var xG=Object.defineProperty,EG=Object.defineProperties,TG=Object.getOwnPropertyDescriptors,nF=Object.getOwnPropertySymbols,IG=Object.prototype.hasOwnProperty,DG=Object.prototype.propertyIsEnumerable,rF=(xt,Oe,V)=>Oe in xt?xG(xt,Oe,{enumerable:!0,configurable:!0,writable:!0,value:V}):xt[Oe]=V,CT=(xt,Oe)=>{for(var V in Oe||(Oe={}))IG.call(Oe,V)&&rF(xt,V,Oe[V]);if(nF)for(var V of nF(Oe))DG.call(Oe,V)&&rF(xt,V,Oe[V]);return xt},xT=(xt,Oe)=>EG(xt,TG(Oe));(self.webpackChunkTiendaElectronica=self.webpackChunkTiendaElectronica||[]).push([[179],{2011:(xt,Oe,V)=>{"use strict";V.d(Oe,{hO:()=>ut,xv:()=>Re,Dh:()=>ge,GT:()=>Me,cc:()=>Ge,on:()=>ee,pX:()=>Ee});var l=V(5e3),$=V(127),U=V(5813);xt=V.hmd(xt);const _e=["ngOnDestroy"],Ee=(Ve,ht,ft,He={})=>new Proxy(Ve,{get:(We,je)=>ft.runOutsideAngular(()=>{var gt;if(Ve[je])return(null===(gt=null==He?void 0:He.spy)||void 0===gt?void 0:gt.get)&&He.spy.get(je,Ve[je]),Ve[je];if(_e.indexOf(je)>-1)return()=>{};const me=ht.toPromise().then(H=>{const Fe=H&&H[je];return"function"==typeof Fe?Fe.bind(H):Fe&&Fe.then?Fe.then(se=>ft.run(()=>se)):ft.run(()=>Fe)});return new Proxy(()=>{},{get:(H,Fe)=>me[Fe],apply:(H,Fe,se)=>me.then(ue=>{var pe;const Ce=ue&&ue(...se);return(null===(pe=null==He?void 0:He.spy)||void 0===pe?void 0:pe.apply)&&He.spy.apply(je,se,Ce),Ce})})})}),Me=(Ve,ht)=>{ht.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(He=>{Object.defineProperty(Ve.prototype,He,Object.getOwnPropertyDescriptor(ft.prototype||ft,He))})})};class Pe{constructor(ht){return ht}}const ge=new l.OlP("angularfire2.app.options"),Re=new l.OlP("angularfire2.app.name");function ee(Ve,ht,ft){const We="object"==typeof ft&&ft||{};We.name=We.name||"string"==typeof ft&&ft||"[DEFAULT]";const gt=$.Z.apps.filter(me=>me&&me.name===We.name)[0]||ht.runOutsideAngular(()=>$.Z.initializeApp(Ve,We));try{JSON.stringify(Ve)!==JSON.stringify(gt.options)&&X("error",`${gt.name} Firebase App already initialized with different options${xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(me){}return new Pe(gt)}const X=(Ve,...ht)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ve](...ht)},we={provide:Pe,useFactory:ee,deps:[ge,l.R0b,[new l.FiY,Re]]};let ut=(()=>{class Ve{constructor(ft){$.Z.registerVersion("angularfire",U.q4.full,"core"),$.Z.registerVersion("angularfire",U.q4.full,"app-compat"),$.Z.registerVersion("angular",l.q4F.full,ft.toString())}static initializeApp(ft,He){return{ngModule:Ve,providers:[{provide:ge,useValue:ft},{provide:Re,useValue:He}]}}}return Ve.\u0275fac=function(ft){return new(ft||Ve)(l.LFG(l.Lbi))},Ve.\u0275mod=l.oAB({type:Ve}),Ve.\u0275inj=l.cJS({providers:[we]}),Ve})();function Ge(Ve,ht,ft,He,We){const[,je,gt]=globalThis.\u0275AngularfireInstanceCache.find(me=>me[0]===Ve)||[];if(je)return function rt(Ve,ht){try{return Ve.toString()===ht.toString()}catch(ft){return Ve===ht}}(We,gt)||(Ne("error",`${ht} was already initialized on the ${ft} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),Ne("warn",{is:We,was:gt})),je;{const me=He();return globalThis.\u0275AngularfireInstanceCache.push([Ve,me,We]),me}}const st=!!xt.hot,Ne=(Ve,...ht)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ve](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(xt,Oe,V)=>{"use strict";V.d(Oe,{q4:()=>yc,iC:()=>ia,fc:()=>Qi,HU:()=>pu,vb:()=>fu,JM:()=>Zg});var l=V(5e3),$=V(5867),U=V(5861),_e=V(9681),Ee=V(2090),Me=V(4859),Pe=V(1877),ge=V(8766);const Re="@firebase/installations",ee="0.5.10",we=`w:${ee}`,ut="FIS_v2",ht=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(A){return A instanceof Ee.ZR&&A.code.includes("request-failed")}function He({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function We(A){return{token:A.token,requestStatus:2,expiresIn:ue(A.expiresIn),creationTime:Date.now()}}function je(A,M){return gt.apply(this,arguments)}function gt(){return(gt=(0,U.Z)(function*(A,M){const W=(yield M.json()).error;return ht.create("request-failed",{requestName:A,serverCode:W.code,serverMessage:W.message,serverStatus:W.status})})).apply(this,arguments)}function me({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function H(A,{refreshToken:M}){const F=me(A);return F.append("Authorization",function pe(A){return`${ut} ${A}`}(M)),F}function Fe(A){return se.apply(this,arguments)}function se(){return(se=(0,U.Z)(function*(A){const M=yield A();return M.status>=500&&M.status<600?A():M})).apply(this,arguments)}function ue(A){return Number(A.replace("s","000"))}function Ce(A,M){return Te.apply(this,arguments)}function Te(){return(Te=(0,U.Z)(function*({appConfig:A,heartbeatServiceProvider:M},{fid:F}){const W=He(A),ce=me(A),be=M.getImmediate({optional:!0});if(be){const sn=yield be.getHeartbeatsHeader();sn&&ce.append("x-firebase-client",sn)}const lt={method:"POST",headers:ce,body:JSON.stringify({fid:F,authVersion:ut,appId:A.appId,sdkVersion:we})},Kt=yield Fe(()=>fetch(W,lt));if(Kt.ok){const sn=yield Kt.json();return{fid:sn.fid||F,registrationStatus:2,refreshToken:sn.refreshToken,authToken:We(sn.authToken)}}throw yield je("Create Installation",Kt)})).apply(this,arguments)}function nt(A){return new Promise(M=>{setTimeout(M,A)})}const mn=/^[cdef][\w-]{21}$/;function pt(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const F=function cn(A){return function Ot(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return mn.test(F)?F:""}catch(A){return""}}function Sn(A){return`${A.appName}!${A.appId}`}const Mn=new Map;function hn(A,M){const F=Sn(A);Bn(F,M),function z(A,M){const F=function Q(){return!j&&"BroadcastChannel"in self&&(j=new BroadcastChannel("[Firebase] FID Change"),j.onmessage=A=>{Bn(A.data.key,A.data.fid)}),j}();F&&F.postMessage({key:A,fid:M}),function ne(){0===Mn.size&&j&&(j.close(),j=null)}()}(F,M)}function Bn(A,M){const F=Mn.get(A);if(F)for(const W of F)W(M)}let j=null;const it="firebase-installations-store";let At=null;function Xe(){return At||(At=(0,ge.X3)("firebase-installations-database",1,{upgrade:(A,M)=>{0===M&&A.createObjectStore(it)}})),At}function Cn(A,M){return Un.apply(this,arguments)}function Un(){return(Un=(0,U.Z)(function*(A,M){const F=Sn(A),ce=(yield Xe()).transaction(it,"readwrite"),be=ce.objectStore(it),ke=yield be.get(F);return yield be.put(M,F),yield ce.done,(!ke||ke.fid!==M.fid)&&hn(A,M.fid),M})).apply(this,arguments)}function zt(A){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,U.Z)(function*(A){const M=Sn(A),W=(yield Xe()).transaction(it,"readwrite");yield W.objectStore(it).delete(M),yield W.done})).apply(this,arguments)}function Tr(A,M){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,U.Z)(function*(A,M){const F=Sn(A),ce=(yield Xe()).transaction(it,"readwrite"),be=ce.objectStore(it),ke=yield be.get(F),lt=M(ke);return void 0===lt?yield be.delete(F):yield be.put(lt,F),yield ce.done,lt&&(!ke||ke.fid!==lt.fid)&&hn(A,lt.fid),lt})).apply(this,arguments)}function Lt(A){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,U.Z)(function*(A){let M;const F=yield Tr(A.appConfig,W=>{const ce=Xr(W),be=nn(A,ce);return M=be.registrationPromise,be.installationEntry});return""===F.fid?{installationEntry:yield M}:{installationEntry:F,registrationPromise:M}})).apply(this,arguments)}function Xr(A){return ls(A||{fid:pt(),registrationStatus:0})}function nn(A,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(ht.create("app-offline"))};const F={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},W=function bt(A,M){return mt.apply(this,arguments)}(A,F);return{installationEntry:F,registrationPromise:W}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:pi(A)}:{installationEntry:M}}function mt(){return(mt=(0,U.Z)(function*(A,M){try{const F=yield Ce(A,M);return Cn(A.appConfig,F)}catch(F){throw ft(F)&&409===F.customData.serverCode?yield zt(A.appConfig):yield Cn(A.appConfig,{fid:M.fid,registrationStatus:0}),F}})).apply(this,arguments)}function pi(A){return ei.apply(this,arguments)}function ei(){return(ei=(0,U.Z)(function*(A){let M=yield $t(A.appConfig);for(;1===M.registrationStatus;)yield nt(100),M=yield $t(A.appConfig);if(0===M.registrationStatus){const{installationEntry:F,registrationPromise:W}=yield Lt(A);return W||F}return M})).apply(this,arguments)}function $t(A){return Tr(A,M=>{if(!M)throw ht.create("installation-not-found");return ls(M)})}function ls(A){return function ir(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function kn(A,M){return J.apply(this,arguments)}function J(){return(J=(0,U.Z)(function*({appConfig:A,heartbeatServiceProvider:M},F){const W=ie(A,F),ce=H(A,F),be=M.getImmediate({optional:!0});if(be){const sn=yield be.getHeartbeatsHeader();sn&&ce.append("x-firebase-client",sn)}const lt={method:"POST",headers:ce,body:JSON.stringify({installation:{sdkVersion:we,appId:A.appId}})},Kt=yield Fe(()=>fetch(W,lt));if(Kt.ok)return We(yield Kt.json());throw yield je("Generate Auth Token",Kt)})).apply(this,arguments)}function ie(A,{fid:M}){return`${He(A)}/${M}/authTokens:generate`}function ae(A){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,U.Z)(function*(A,M=!1){let F;const W=yield Tr(A.appConfig,be=>{if(!Gt(be))throw ht.create("not-registered");const ke=be.authToken;if(!M&&On(ke))return be;if(1===ke.requestStatus)return F=K(A,M),be;{if(!navigator.onLine)throw ht.create("app-offline");const lt=vr(be);return F=Ct(A,lt),lt}});return F?yield F:W.authToken})).apply(this,arguments)}function K(A,M){return he.apply(this,arguments)}function he(){return(he=(0,U.Z)(function*(A,M){let F=yield Ke(A.appConfig);for(;1===F.authToken.requestStatus;)yield nt(100),F=yield Ke(A.appConfig);const W=F.authToken;return 0===W.requestStatus?ae(A,M):W})).apply(this,arguments)}function Ke(A){return Tr(A,M=>{if(!Gt(M))throw ht.create("not-registered");return function De(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function Ct(A,M){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,U.Z)(function*(A,M){try{const F=yield kn(A,M),W=Object.assign(Object.assign({},M),{authToken:F});return yield Cn(A.appConfig,W),F}catch(F){if(!ft(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const W=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield Cn(A.appConfig,W)}else yield zt(A.appConfig);throw F}})).apply(this,arguments)}function Gt(A){return void 0!==A&&2===A.registrationStatus}function On(A){return 2===A.requestStatus&&!function Wt(A){const M=Date.now();return M<A.creationTime||A.creationTime+A.expiresIn<M+36e5}(A)}function vr(A){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:M})}function oe(){return(oe=(0,U.Z)(function*(A){const M=A,{installationEntry:F,registrationPromise:W}=yield Lt(M);return W?W.catch(console.error):ae(M).catch(console.error),F.fid})).apply(this,arguments)}function _t(){return(_t=(0,U.Z)(function*(A,M=!1){const F=A;return yield Nt(F),(yield ae(F,M)).token})).apply(this,arguments)}function Nt(A){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,U.Z)(function*(A){const{registrationPromise:M}=yield Lt(A);M&&(yield M)})).apply(this,arguments)}function ha(A){return ht.create("missing-app-config-values",{valueName:A})}const Zt="installations",dn=A=>{const M=A.getProvider("app").getImmediate(),F=function Ur(A){if(!A||!A.options)throw ha("App Configuration");if(!A.name)throw ha("App Name");const M=["projectId","apiKey","appId"];for(const F of M)if(!A.options[F])throw ha(F);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(M);return{app:M,appConfig:F,heartbeatServiceProvider:(0,_e._getProvider)(M,"heartbeat"),_delete:()=>Promise.resolve()}},Kn=A=>{const M=A.getProvider("app").getImmediate(),F=(0,_e._getProvider)(M,Zt).getImmediate();return{getId:()=>function le(A){return oe.apply(this,arguments)}(F),getToken:ce=>function ze(A){return _t.apply(this,arguments)}(F,ce)}};(function oi(){(0,_e._registerComponent)(new Me.wA(Zt,dn,"PUBLIC")),(0,_e._registerComponent)(new Me.wA("installations-internal",Kn,"PRIVATE"))})(),(0,_e.registerVersion)(Re,ee),(0,_e.registerVersion)(Re,ee,"esm2017");const Es="@firebase/remote-config",Xn=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class nc{constructor(M,F,W,ce){this.client=M,this.storage=F,this.storageCache=W,this.logger=ce}isCachedDataFresh(M,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const W=Date.now()-F,ce=W<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${W}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${ce}.`),ce}fetch(M){var F=this;return(0,U.Z)(function*(){const[W,ce]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(ce&&F.isCachedDataFresh(M.cacheMaxAgeMillis,W))return ce;M.eTag=ce&&ce.eTag;const be=yield F.client.fetch(M),ke=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===be.status&&ke.push(F.storage.setLastSuccessfulFetchResponse(be)),yield Promise.all(ke),be})()}}function Is(A=navigator){return A.languages&&A.languages[0]||A.language}class br{constructor(M,F,W,ce,be,ke){this.firebaseInstallations=M,this.sdkVersion=F,this.namespace=W,this.projectId=ce,this.apiKey=be,this.appId=ke}fetch(M){var F=this;return(0,U.Z)(function*(){var W,ce,be;const[ke,lt]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),sn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,An={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},Bt={sdk_version:F.sdkVersion,app_instance_id:ke,app_instance_id_token:lt,app_id:F.appId,language_code:Is()},Pi={method:"POST",headers:An,body:JSON.stringify(Bt)},wi=fetch(sn,Pi),Co=new Promise((gs,Ys)=>{M.signal.addEventListener(()=>{const Sl=new Error("The operation was aborted.");Sl.name="AbortError",Ys(Sl)})});let Ri;try{yield Promise.race([wi,Co]),Ri=yield wi}catch(gs){let Ys="fetch-client-network";throw"AbortError"===(null===(W=gs)||void 0===W?void 0:W.name)&&(Ys="fetch-timeout"),Xn.create(Ys,{originalErrorMessage:null===(ce=gs)||void 0===ce?void 0:ce.message})}let ps=Ri.status;const Za=Ri.headers.get("ETag")||void 0;let Ha,sa;if(200===Ri.status){let gs;try{gs=yield Ri.json()}catch(Ys){throw Xn.create("fetch-client-parse",{originalErrorMessage:null===(be=Ys)||void 0===be?void 0:be.message})}Ha=gs.entries,sa=gs.state}if("INSTANCE_STATE_UNSPECIFIED"===sa?ps=500:"NO_CHANGE"===sa?ps=304:("NO_TEMPLATE"===sa||"EMPTY_CONFIG"===sa)&&(Ha={}),304!==ps&&200!==ps)throw Xn.create("fetch-status",{httpStatus:ps});return{status:ps,eTag:Za,config:Ha}})()}}class Ds{constructor(M,F){this.client=M,this.storage=F}fetch(M){var F=this;return(0,U.Z)(function*(){const W=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(M,W)})()}attemptFetch(M,{throttleEndTimeMillis:F,backoffCount:W}){var ce=this;return(0,U.Z)(function*(){yield function rc(A,M){return new Promise((F,W)=>{const ce=Math.max(M-Date.now(),0),be=setTimeout(F,ce);A.addEventListener(()=>{clearTimeout(be),W(Xn.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,F);try{const be=yield ce.client.fetch(M);return yield ce.storage.deleteThrottleMetadata(),be}catch(be){if(!function Ju(A){if(!(A instanceof Ee.ZR&&A.customData))return!1;const M=Number(A.customData.httpStatus);return 429===M||500===M||503===M||504===M}(be))throw be;const ke={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(W),backoffCount:W+1};return yield ce.storage.setThrottleMetadata(ke),ce.attemptFetch(M,ke)}})()}}class yh{constructor(M,F,W,ce,be){this.app=M,this._client=F,this._storageCache=W,this._storage=ce,this._logger=be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pa(A,M){var F;const W=A.target.error||void 0;return Xn.create(M,{originalErrorMessage:W&&(null===(F=W)||void 0===F?void 0:F.message)})}const Ho="app_namespace_store";class ic{constructor(M,F,W,ce=function qo(){return new Promise((A,M)=>{var F;try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=ce=>{M(pa(ce,"storage-open"))},W.onsuccess=ce=>{A(ce.target.result)},W.onupgradeneeded=ce=>{0===ce.oldVersion&&ce.target.result.createObjectStore(Ho,{keyPath:"compositeKey"})}}catch(W){M(Xn.create("storage-open",{originalErrorMessage:null===(F=W)||void 0===F?void 0:F.message}))}})}()){this.appId=M,this.appName=F,this.namespace=W,this.openDbPromise=ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var F=this;return(0,U.Z)(function*(){const W=yield F.openDbPromise;return new Promise((ce,be)=>{var ke;const Kt=W.transaction([Ho],"readonly").objectStore(Ho),sn=F.createCompositeKey(M);try{const An=Kt.get(sn);An.onerror=Bt=>{be(pa(Bt,"storage-get"))},An.onsuccess=Bt=>{const Pi=Bt.target.result;ce(Pi?Pi.value:void 0)}}catch(An){be(Xn.create("storage-get",{originalErrorMessage:null===(ke=An)||void 0===ke?void 0:ke.message}))}})})()}set(M,F){var W=this;return(0,U.Z)(function*(){const ce=yield W.openDbPromise;return new Promise((be,ke)=>{var lt;const sn=ce.transaction([Ho],"readwrite").objectStore(Ho),An=W.createCompositeKey(M);try{const Bt=sn.put({compositeKey:An,value:F});Bt.onerror=Pi=>{ke(pa(Pi,"storage-set"))},Bt.onsuccess=()=>{be()}}catch(Bt){ke(Xn.create("storage-set",{originalErrorMessage:null===(lt=Bt)||void 0===lt?void 0:lt.message}))}})})()}delete(M){var F=this;return(0,U.Z)(function*(){const W=yield F.openDbPromise;return new Promise((ce,be)=>{var ke;const Kt=W.transaction([Ho],"readwrite").objectStore(Ho),sn=F.createCompositeKey(M);try{const An=Kt.delete(sn);An.onerror=Bt=>{be(pa(Bt,"storage-delete"))},An.onsuccess=()=>{ce()}}catch(An){be(Xn.create("storage-delete",{originalErrorMessage:null===(ke=An)||void 0===ke?void 0:ke.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class zo{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,U.Z)(function*(){const F=M.storage.getLastFetchStatus(),W=M.storage.getLastSuccessfulFetchTimestampMillis(),ce=M.storage.getActiveConfig(),be=yield F;be&&(M.lastFetchStatus=be);const ke=yield W;ke&&(M.lastSuccessfulFetchTimestampMillis=ke);const lt=yield ce;lt&&(M.activeConfig=lt)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Ff(){return ga.apply(this,arguments)}function ga(){return(ga=(0,U.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch(A){return!1}})).apply(this,arguments)}!function vh(){(0,_e._registerComponent)(new Me.wA("remote-config",function A(M,{instanceIdentifier:F}){const W=M.getProvider("app").getImmediate(),ce=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Xn.create("registration-window");if(!(0,Ee.hl)())throw Xn.create("indexed-db-unavailable");const{projectId:be,apiKey:ke,appId:lt}=W.options;if(!be)throw Xn.create("registration-project-id");if(!ke)throw Xn.create("registration-api-key");if(!lt)throw Xn.create("registration-app-id");const Kt=new ic(lt,W.name,F=F||"firebase"),sn=new zo(Kt),An=new Pe.Yd(Es);An.logLevel=Pe.in.ERROR;const Bt=new br(ce,_e.SDK_VERSION,F,be,ke,lt),Pi=new Ds(Bt,Kt),wi=new nc(Pi,Kt,sn,An),Co=new yh(W,wi,sn,Kt,An);return function Pn(A){const M=(0,Ee.m9)(A);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(Co),Co},"PUBLIC").setMultipleInstances(!0)),(0,_e.registerVersion)(Es,"0.3.9"),(0,_e.registerVersion)(Es,"0.3.9","esm2017")}();const ai="/firebase-messaging-sw.js",mi="/firebase-cloud-messaging-push-scope",ho="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ya="google.c.a.c_id",ed="google.c.a.c_l",bh="google.c.a.ts",ds="google.c.a.e";var hs=(()=>{return(A=hs||(hs={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",hs;var A})();function qi(A){const M=new Uint8Array(A);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xc(A){const F=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),W=atob(F),ce=new Uint8Array(W.length);for(let be=0;be<W.length;++be)ce[be]=W.charCodeAt(be);return ce}const Vr="fcm_token_details_db",eu="fcm_token_object_Store";function tu(A){return dl.apply(this,arguments)}function dl(){return dl=(0,U.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(be=>be.name).includes(Vr))return null;let M=null;return(yield(0,ge.X3)(Vr,5,{upgrade:(W=(0,U.Z)(function*(ce,be,ke,lt){var Kt;if(be<2||!ce.objectStoreNames.contains(eu))return;const sn=lt.objectStore(eu),An=yield sn.index("fcmSenderId").get(A);if(yield sn.clear(),An)if(2===be){const Bt=An;if(!Bt.auth||!Bt.p256dh||!Bt.endpoint)return;M={token:Bt.fcmToken,createTime:null!==(Kt=Bt.createTime)&&void 0!==Kt?Kt:Date.now(),subscriptionOptions:{auth:Bt.auth,p256dh:Bt.p256dh,endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:"string"==typeof Bt.vapidKey?Bt.vapidKey:qi(Bt.vapidKey)}}}else if(3===be){const Bt=An;M={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:qi(Bt.auth),p256dh:qi(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:qi(Bt.vapidKey)}}}else if(4===be){const Bt=An;M={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:qi(Bt.auth),p256dh:qi(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:qi(Bt.vapidKey)}}}}),function(be,ke,lt,Kt){return W.apply(this,arguments)})})).close(),yield(0,ge.Lj)(Vr),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),hl(M)?M:null;var W}),dl.apply(this,arguments)}function hl(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:M}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const Ss="firebase-messaging-store";let oc=null;function jn(){return oc||(oc=(0,ge.X3)("firebase-messaging-database",1,{upgrade:(A,M)=>{0===M&&A.createObjectStore(Ss)}})),oc}function fo(A){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,U.Z)(function*(A){const M=Br(A),W=yield(yield jn()).transaction(Ss).objectStore(Ss).get(M);if(W)return W;{const ce=yield tu(A.appConfig.senderId);if(ce)return yield Rn(A,ce),ce}})).apply(this,arguments)}function Rn(A,M){return pl.apply(this,arguments)}function pl(){return(pl=(0,U.Z)(function*(A,M){const F=Br(A),ce=(yield jn()).transaction(Ss,"readwrite");return yield ce.objectStore(Ss).put(M,F),yield ce.done,M})).apply(this,arguments)}function _a(A){return zi.apply(this,arguments)}function zi(){return(zi=(0,U.Z)(function*(A){const M=Br(A),W=(yield jn()).transaction(Ss,"readwrite");yield W.objectStore(Ss).delete(M),yield W.done})).apply(this,arguments)}function Br({appConfig:A}){return A.appId}const or=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ks(A,M){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,U.Z)(function*(A,M){const F=yield qs(A),W=ba(M),ce={method:"POST",headers:F,body:JSON.stringify(W)};let be;try{be=yield(yield fetch(Hs(A.appConfig),ce)).json()}catch(ke){throw or.create("token-subscribe-failed",{errorInfo:ke})}if(be.error)throw or.create("token-subscribe-failed",{errorInfo:be.error.message});if(!be.token)throw or.create("token-subscribe-no-token");return be.token})).apply(this,arguments)}function $o(A,M){return Si.apply(this,arguments)}function Si(){return(Si=(0,U.Z)(function*(A,M){const F=yield qs(A),W=ba(M.subscriptionOptions),ce={method:"PATCH",headers:F,body:JSON.stringify(W)};let be;try{be=yield(yield fetch(`${Hs(A.appConfig)}/${M.token}`,ce)).json()}catch(ke){throw or.create("token-update-failed",{errorInfo:ke})}if(be.error)throw or.create("token-update-failed",{errorInfo:be.error.message});if(!be.token)throw or.create("token-update-no-token");return be.token})).apply(this,arguments)}function gl(A,M){return yi.apply(this,arguments)}function yi(){return(yi=(0,U.Z)(function*(A,M){const W={method:"DELETE",headers:yield qs(A)};try{const be=yield(yield fetch(`${Hs(A.appConfig)}/${M}`,W)).json();if(be.error)throw or.create("token-unsubscribe-failed",{errorInfo:be.error.message})}catch(ce){throw or.create("token-unsubscribe-failed",{errorInfo:ce})}})).apply(this,arguments)}function Hs({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function qs(A){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,U.Z)(function*({appConfig:A,installations:M}){const F=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function ba({p256dh:A,auth:M,endpoint:F,vapidKey:W}){const ce={web:{endpoint:F,auth:M,p256dh:A}};return W!==ho&&(ce.web.applicationPubKey=W),ce}const wa=6048e5;function ac(A){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,U.Z)(function*(A){const M=yield ar(A.swRegistration,A.vapidKey),F={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:M.endpoint,auth:qi(M.getKey("auth")),p256dh:qi(M.getKey("p256dh"))},W=yield fo(A.firebaseDependencies);if(W){if(Wo(W.subscriptionOptions,F))return Date.now()>=W.createTime+wa?td(A,{token:W.token,createTime:Date.now(),subscriptionOptions:F}):W.token;try{yield gl(A.firebaseDependencies,W.token)}catch(ce){console.warn(ce)}return rn(A.firebaseDependencies,F)}return rn(A.firebaseDependencies,F)})).apply(this,arguments)}function Go(A){return xa.apply(this,arguments)}function xa(){return(xa=(0,U.Z)(function*(A){const M=yield fo(A.firebaseDependencies);M&&(yield gl(A.firebaseDependencies,M.token),yield _a(A.firebaseDependencies));const F=yield A.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function td(A,M){return $e.apply(this,arguments)}function $e(){return($e=(0,U.Z)(function*(A,M){try{const F=yield $o(A.firebaseDependencies,M),W=Object.assign(Object.assign({},M),{token:F,createTime:Date.now()});return yield Rn(A.firebaseDependencies,W),F}catch(F){throw yield Go(A),F}})).apply(this,arguments)}function rn(A,M){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,U.Z)(function*(A,M){const W={token:yield ks(A,M),createTime:Date.now(),subscriptionOptions:M};return yield Rn(A,W),W.token})).apply(this,arguments)}function ar(A,M){return zs.apply(this,arguments)}function zs(){return(zs=(0,U.Z)(function*(A,M){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xc(M)})})).apply(this,arguments)}function Wo(A,M){return M.vapidKey===A.vapidKey&&M.endpoint===A.endpoint&&M.auth===A.auth&&M.p256dh===A.p256dh}function ni(A){const M={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function ml(A,M){if(!M.notification)return;A.notification={};const F=M.notification.title;F&&(A.notification.title=F);const W=M.notification.body;W&&(A.notification.body=W);const ce=M.notification.image;ce&&(A.notification.image=ce)}(M,A),function lc(A,M){!M.data||(A.data=M.data)}(M,A),function nu(A,M){var F,W,ce,be,ke;if(!M.fcmOptions&&!(null===(F=M.notification)||void 0===F?void 0:F.click_action))return;A.fcmOptions={};const lt=null!==(ce=null===(W=M.fcmOptions)||void 0===W?void 0:W.link)&&void 0!==ce?ce:null===(be=M.notification)||void 0===be?void 0:be.click_action;lt&&(A.fcmOptions.link=lt);const Kt=null===(ke=M.fcmOptions)||void 0===ke?void 0:ke.analytics_label;Kt&&(A.fcmOptions.analyticsLabel=Kt)}(M,A),M}function ru(A){return"object"==typeof A&&!!A&&ya in A}function Ta(A,M){const F=[];for(let W=0;W<A.length;W++)F.push(A.charAt(W)),W<M.length&&F.push(M.charAt(W));return F.join("")}function Dr(A){return or.create("missing-app-config-values",{valueName:A})}Ta("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ta("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $i{constructor(M,F,W){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ce=function Ko(A){if(!A||!A.options)throw Dr("App Configuration Object");if(!A.name)throw Dr("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:F}=A;for(const W of M)if(!F[W])throw Dr(W);return{appName:A.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:ce,installations:F,analyticsProvider:W}}_delete(){return Promise.resolve()}}function cc(A){return fs.apply(this,arguments)}function fs(){return(fs=(0,U.Z)(function*(A){var M;try{A.swRegistration=yield navigator.serviceWorker.register(ai,{scope:mi}),A.swRegistration.update().catch(()=>{})}catch(F){throw or.create("failed-service-worker-registration",{browserErrorMessage:null===(M=F)||void 0===M?void 0:M.message})}})).apply(this,arguments)}function Os(A,M){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,U.Z)(function*(A,M){if(!M&&!A.swRegistration&&(yield cc(A)),M||!A.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw or.create("invalid-sw-registration");A.swRegistration=M}})).apply(this,arguments)}function uc(A,M){return po.apply(this,arguments)}function po(){return(po=(0,U.Z)(function*(A,M){M?A.vapidKey=M:A.vapidKey||(A.vapidKey=ho)})).apply(this,arguments)}function go(){return(go=(0,U.Z)(function*(A,M){if(!navigator)throw or.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw or.create("permission-blocked");return yield uc(A,null==M?void 0:M.vapidKey),yield Os(A,null==M?void 0:M.serviceWorkerRegistration),ac(A)})).apply(this,arguments)}function hc(A,M,F){return Da.apply(this,arguments)}function Da(){return(Da=(0,U.Z)(function*(A,M,F){const W=yl(M);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(W,{message_id:F[ya],message_name:F[ed],message_time:F[bh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function yl(A){switch(A){case hs.NOTIFICATION_CLICKED:return"notification_open";case hs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yo(){return(Yo=(0,U.Z)(function*(A,M){const F=M.data;if(!F.isFirebaseMessaging)return;A.onMessageHandler&&F.messageType===hs.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(ni(F)):A.onMessageHandler.next(ni(F)));const W=F.data;ru(W)&&"1"===W[ds]&&(yield hc(A,F.messageType,W))})).apply(this,arguments)}const $s="@firebase/messaging",Ps=A=>{const M=new $i(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function wh(A,M){return Yo.apply(this,arguments)}(M,F)),M},iu=A=>{const M=A.getProvider("messaging").getImmediate();return{getToken:W=>function dc(A,M){return go.apply(this,arguments)}(M,W)}};function Qo(){return _i.apply(this,arguments)}function _i(){return(_i=(0,U.Z)(function*(){try{yield(0,Ee.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nd(){(0,_e._registerComponent)(new Me.wA("messaging",Ps,"PUBLIC")),(0,_e._registerComponent)(new Me.wA("messaging-internal",iu,"PRIVATE")),(0,_e.registerVersion)($s,"0.9.14"),(0,_e.registerVersion)($s,"0.9.14","esm2017")}();const su="analytics",sd="firebase_id",Aa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vl="https://www.googletagmanager.com/gtag/js",Ar=new Pe.Yd("@firebase/analytics");function fc(A){return Promise.all(A.map(M=>M.catch(F=>F)))}function mo(A,M){const F=document.createElement("script");F.src=`${vl}?l=${A}&id=${M}`,F.async=!0,document.head.appendChild(F)}function ou(A,M,F,W,ce,be){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,U.Z)(function*(A,M,F,W,ce,be){const ke=W[ce];try{if(ke)yield M[ke];else{const Kt=(yield fc(F)).find(sn=>sn.measurementId===ce);Kt&&(yield M[Kt.appId])}}catch(lt){Ar.error(lt)}A("config",ce,be)})).apply(this,arguments)}function Mi(A,M,F,W,ce){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,U.Z)(function*(A,M,F,W,ce){try{let be=[];if(ce&&ce.send_to){let ke=ce.send_to;Array.isArray(ke)||(ke=[ke]);const lt=yield fc(F);for(const Kt of ke){const sn=lt.find(Bt=>Bt.measurementId===Kt),An=sn&&M[sn.appId];if(!An){be=[];break}be.push(An)}}0===be.length&&(be=Object.values(M)),yield Promise.all(be),A("event",W,ce||{})}catch(be){Ar.error(be)}})).apply(this,arguments)}function Yn(){const A=window.document.getElementsByTagName("script");for(const M of Object.values(A))if(M.src&&M.src.includes(vl))return M;return null}const Tt=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),I=new class E{constructor(M={},F=1e3){this.throttleMetadata=M,this.intervalMillis=F}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,F){this.throttleMetadata[M]=F}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function P(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Y(A){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,U.Z)(function*(A){var M;const{appId:F,apiKey:W}=A,ce={method:"GET",headers:P(W)},be=Aa.replace("{app-id}",F),ke=yield fetch(be,ce);if(200!==ke.status&&304!==ke.status){let lt="";try{const Kt=yield ke.json();(null===(M=Kt.error)||void 0===M?void 0:M.message)&&(lt=Kt.error.message)}catch(Kt){}throw Tt.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:lt})}return ke.json()})).apply(this,arguments)}function St(A){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,U.Z)(function*(A,M=I,F){const{appId:W,apiKey:ce,measurementId:be}=A.options;if(!W)throw Tt.create("no-app-id");if(!ce){if(be)return{measurementId:be,appId:W};throw Tt.create("no-api-key")}const ke=M.getThrottleMetadata(W)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lt=new au;return setTimeout((0,U.Z)(function*(){lt.abort()}),void 0!==F?F:6e4),Sr({appId:W,apiKey:ce,measurementId:be},ke,lt,M)})).apply(this,arguments)}function Sr(A,M,F){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,U.Z)(function*(A,{throttleEndTimeMillis:M,backoffCount:F},W,ce=I){const{appId:be,measurementId:ke}=A;try{yield yo(W,M)}catch(lt){if(ke)return Ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${lt.message}]`),{appId:be,measurementId:ke};throw lt}try{const lt=yield Y(A);return ce.deleteThrottleMetadata(be),lt}catch(lt){if(!wl(lt)){if(ce.deleteThrottleMetadata(be),ke)return Ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${lt.message}]`),{appId:be,measurementId:ke};throw lt}const Kt=503===Number(lt.customData.httpStatus)?(0,Ee.$s)(F,ce.intervalMillis,30):(0,Ee.$s)(F,ce.intervalMillis),sn={throttleEndTimeMillis:Date.now()+Kt,backoffCount:F+1};return ce.setThrottleMetadata(be,sn),Ar.debug(`Calling attemptFetch again in ${Kt} millis`),Sr(A,sn,W,ce)}})).apply(this,arguments)}function yo(A,M){return new Promise((F,W)=>{const ce=Math.max(M-Date.now(),0),be=setTimeout(F,ce);A.addEventListener(()=>{clearTimeout(be),W(Tt.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function wl(A){if(!(A instanceof Ee.ZR&&A.customData))return!1;const M=Number(A.customData.httpStatus);return 429===M||500===M||503===M||504===M}class au{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}function xh(){return nr.apply(this,arguments)}function nr(){return(nr=(0,U.Z)(function*(){if(!(0,Ee.hl)())return Ar.warn(Tt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(A){return Ar.warn(Tt.create("indexeddb-unavailable",{errorInfo:A}).message),!1}return!0})).apply(this,arguments)}function _o(){return(_o=(0,U.Z)(function*(A,M,F,W,ce,be,ke){var lt;const Kt=St(A);Kt.then(wi=>{F[wi.measurementId]=wi.appId,A.options.measurementId&&wi.measurementId!==A.options.measurementId&&Ar.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${wi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wi=>Ar.error(wi)),M.push(Kt);const sn=xh().then(wi=>{if(wi)return W.getId()}),[An,Bt]=yield Promise.all([Kt,sn]);Yn()||mo(be,An.measurementId),ce("js",new Date);const Pi=null!==(lt=null==ke?void 0:ke.config)&&void 0!==lt?lt:{};return Pi.origin="firebase",Pi.update=!0,null!=Bt&&(Pi[sd]=Bt),ce("config",An.measurementId,Pi),An.measurementId})).apply(this,arguments)}class Ma{constructor(M){this.app=M}_delete(){return delete Ki[this.app.options.appId],Promise.resolve()}}let Ki={},vi=[];const ea={};let ta,xl,ka="dataLayer",Oa=!1;function Na(A,M,F){!function Ra(){const A=[];if((0,Ee.ru)()&&A.push("This is a browser extension environment."),(0,Ee.zI)()||A.push("Cookies are not available."),A.length>0){const M=A.map((W,ce)=>`(${ce+1}) ${W}`).join(" "),F=Tt.create("invalid-analytics-context",{errorInfo:M});Ar.warn(F.message)}}();const W=A.options.appId;if(!W)throw Tt.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Tt.create("no-api-key");Ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ki[W])throw Tt.create("already-exists",{id:W});if(!Oa){!function Xo(A){let M=[];Array.isArray(window[A])?M=window[A]:window[A]=M}(ka);const{wrappedGtag:be,gtagCore:ke}=function Ch(A,M,F,W,ce){let be=function(...ke){window[W].push(arguments)};return window[ce]&&"function"==typeof window[ce]&&(be=window[ce]),window[ce]=function od(A,M,F,W){function be(){return(be=(0,U.Z)(function*(ke,lt,Kt){try{"event"===ke?yield Mi(A,M,F,lt,Kt):"config"===ke?yield ou(A,M,F,W,lt,Kt):A("set",lt)}catch(sn){Ar.error(sn)}})).apply(this,arguments)}return function ce(ke,lt,Kt){return be.apply(this,arguments)}}(be,A,M,F),{gtagCore:be,wrappedGtag:window[ce]}}(Ki,vi,ea,ka,"gtag");xl=be,ta=ke,Oa=!0}return Ki[W]=function lu(A,M,F,W,ce,be,ke){return _o.apply(this,arguments)}(A,vi,ea,M,ta,ka,F),new Ma(A)}function Zr(){return(Zr=(0,U.Z)(function*(A,M,F,W,ce){if(ce&&ce.global)A("event",F,W);else{const be=yield M;A("event",F,Object.assign(Object.assign({},W),{send_to:be}))}})).apply(this,arguments)}function El(){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,U.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch(A){return!1}})).apply(this,arguments)}const bi="@firebase/analytics";!function ra(){(0,_e._registerComponent)(new Me.wA(su,(M,{options:F})=>Na(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,_e._registerComponent)(new Me.wA("analytics-internal",function A(M){try{const F=M.getProvider(su).getImmediate();return{logEvent:(W,ce,be)=>function Tl(A,M,F,W){A=(0,Ee.m9)(A),function ad(A,M,F,W,ce){return Zr.apply(this,arguments)}(xl,Ki[A.app.options.appId],M,F,W).catch(ce=>Ar.error(ce))}(F,W,ce,be)}}catch(F){throw Tt.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,_e.registerVersion)(bi,"0.7.10"),(0,_e.registerVersion)(bi,"0.7.10","esm2017")}();var Va=V(4408),Mr=V(7565);const gc=new class pc extends Mr.v{}(class Il extends Va.o{constructor(M,F){super(M,F),this.scheduler=M,this.work=F}schedule(M,F=0){return F>0?super.schedule(M,F):(this.delay=F,this.state=M,this.scheduler.flush(this),this)}execute(M,F){return F>0||this.closed?super.execute(M,F):this._execute(M,F)}requestAsyncId(M,F,W=0){return null!=W&&W>0||null==W&&this.delay>0?super.requestAsyncId(M,F,W):M.flush(this)}});var jf=V(4986),ki=V(8505),Oi=V(5363),mc=V(9468);const yc=new l.GfV("7.4.1"),bo="__angularfire_symbol__analyticsIsSupportedValue",uu="__angularfire_symbol__analyticsIsSupported",wo="__angularfire_symbol__remoteConfigIsSupportedValue",_c="__angularfire_symbol__remoteConfigIsSupported",ld="__angularfire_symbol__messagingIsSupportedValue",yn="__angularfire_symbol__messagingIsSupported";function Zg(A,M,F){if(M){if(1===M.length)return M[0];const be=M.filter(ke=>ke.app===F);if(1===be.length)return be[0]}return F.container.getProvider(A).getImmediate({optional:!0})}globalThis[uu]||(globalThis[uu]=El().then(A=>globalThis[bo]=A).catch(()=>globalThis[bo]=!1)),globalThis[yn]||(globalThis[yn]=Qo().then(A=>globalThis[ld]=A).catch(()=>globalThis[ld]=!1)),globalThis[_c]||(globalThis[_c]=Ff().then(A=>globalThis[wo]=A).catch(()=>globalThis[wo]=!1));const fu=(A,M)=>{const F=M?[M]:(0,$.C6)(),W=[];return F.forEach(ce=>{ce.container.getProvider(A).instances.forEach(ke=>{W.includes(ke)||W.push(ke)})}),W};function Dl(){}class Yi{constructor(M,F=gc){this.zone=M,this.delegate=F}now(){return this.delegate.now()}schedule(M,F,W){const ce=this.zone;return this.delegate.schedule(function(ke){ce.runGuarded(()=>{M.apply(this,[ke])})},F,W)}}class Eh{constructor(M){this.zone=M,this.task=null}call(M,F){const W=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Dl,{},Dl,Dl)),F.pipe((0,ki.b)({next:W,complete:W,error:W})).subscribe(M).add(W)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pu=(()=>{class A{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new Yi(Zone.current)),this.insideAngular=F.run(()=>new Yi(Zone.current,jf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(F){return new(F||A)(l.LFG(l.R0b))},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Ks(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Qi(A){return A.pipe((0,Oi.Q)(Ks().outsideAngular))}function ia(A){return Ks(),function Al(A){return function(F){return(F=F.lift(new Eh(A.ngZone))).pipe((0,mc.R)(A.outsideAngular),(0,Oi.Q)(A.insideAngular))}}(Ks())(A)}},2309:(xt,Oe,V)=>{"use strict";V.d(Oe,{$:()=>Hs,A:()=>X,B:()=>Ge,G:()=>Kn,H:()=>xn,J:()=>Ds,L:()=>On,M:()=>ga,N:()=>ma,P:()=>uu,Q:()=>ya,R:()=>ra,T:()=>ed,U:()=>ho,V:()=>hs,W:()=>qi,X:()=>tu,Y:()=>va,Z:()=>ks,_:()=>$o,a:()=>wr,a0:()=>ac,a1:()=>Go,a2:()=>td,a3:()=>rn,a4:()=>ar,a5:()=>Wo,a6:()=>ml,a7:()=>lc,a8:()=>ru,a9:()=>Ta,aA:()=>sa,aB:()=>Co,aC:()=>A,aD:()=>Hg,aE:()=>at,aI:()=>P,aL:()=>ds,aa:()=>cc,ab:()=>Os,ac:()=>uc,af:()=>hc,ag:()=>yl,ah:()=>wh,ak:()=>Ss,al:()=>jr,an:()=>vl,ao:()=>Gi,ap:()=>gr,aq:()=>Fe,ar:()=>pn,as:()=>Nt,at:()=>ft,au:()=>oa,av:()=>Hf,aw:()=>He,ax:()=>me,ay:()=>ue,az:()=>Wt,b:()=>Tt,c:()=>Zg,d:()=>Eh,e:()=>Dl,f:()=>W,g:()=>sn,h:()=>ke,i:()=>Na,j:()=>Pi,k:()=>Gg,l:()=>gc,m:()=>Kg,n:()=>Lw,o:()=>ge,r:()=>jf,s:()=>Mr,u:()=>yc});var l=V(5861),$=V(2090),U=V(9681),_e=V(655),Ee=V(1877),Me=V(4859);const ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},X={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ge=function we(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},rt=function ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new Ee.Yd("@firebase/auth");function ht(C,...y){Ve.logLevel<=Ee.in.ERROR&&Ve.error(`Auth (${U.SDK_VERSION}): ${C}`,...y)}function ft(C,...y){throw gt(C,...y)}function He(C,...y){return gt(C,...y)}function We(C,y,_){const T=Object.assign(Object.assign({},rt()),{[y]:_});return new $.LL("auth","Firebase",T).create(y,{appName:C.name})}function je(C,y,_){if(!(y instanceof _))throw _.name!==y.constructor.name&&ft(C,"argument-error"),We(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gt(C,...y){if("string"!=typeof C){const _=y[0],T=[...y.slice(1)];return T[0]&&(T[0].appName=C.name),C._errorFactory.create(_,...T)}return st.create(C,...y)}function me(C,y,..._){if(!C)throw gt(y,..._)}function H(C){const y="INTERNAL ASSERTION FAILED: "+C;throw ht(y),new Error(y)}function Fe(C,y){C||H(y)}const se=new Map;function ue(C){Fe(C instanceof Function,"Expected a class definition");let y=se.get(C);return y?(Fe(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,se.set(C,y),y)}function Te(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function nt(){return"http:"===Ot()||"https:"===Ot()}function Ot(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class pt{constructor(y,_){this.shortDelay=y,this.longDelay=_,Fe(_>y,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function mn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nt()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cn(C,y){Fe(C.emulator,"Emulator should always be set here");const{url:_}=C.emulator;return y?`${_}${y.startsWith("/")?y.slice(1):y}`:_}class Sn{static initialize(y,_,T){this.fetchImpl=y,_&&(this.headersImpl=_),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void H("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void H("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void H("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},hn=new pt(3e4,6e4);function Qt(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function fn(C,y,_,T){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(C,y,_,T,L={}){return z(C,L,(0,l.Z)(function*(){let Z={},ve={};T&&("GET"===y?ve=T:Z={body:JSON.stringify(T)});const Qe=(0,$.xO)(Object.assign({key:C.config.apiKey},ve)).slice(1),Et=yield C._getAdditionalHeaders();return Et["Content-Type"]="application/json",C.languageCode&&(Et["X-Firebase-Locale"]=C.languageCode),Sn.fetch()(de(C,C.config.apiHost,_,Qe),Object.assign({method:y,headers:Et,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function z(C,y,_){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(C,y,_){C._canInitEmulator=!1;const T=Object.assign(Object.assign({},Mn),y);try{const L=new Ye(C),Z=yield Promise.race([_(),L.promise]);L.clearNetworkTimeout();const ve=yield Z.json();if("needConfirmation"in ve)throw it(C,"account-exists-with-different-credential",ve);if(Z.ok&&!("errorMessage"in ve))return ve;{const Qe=Z.ok?ve.errorMessage:ve.error.message,[Et,Ht]=Qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw it(C,"credential-already-in-use",ve);if("EMAIL_EXISTS"===Et)throw it(C,"email-already-in-use",ve);if("USER_DISABLED"===Et)throw it(C,"user-disabled",ve);const on=T[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(Ht)throw We(C,on,Ht);ft(C,on)}}catch(L){if(L instanceof $.ZR)throw L;ft(C,"network-request-failed")}})).apply(this,arguments)}function Q(C,y,_,T){return ne.apply(this,arguments)}function ne(){return(ne=(0,l.Z)(function*(C,y,_,T,L={}){const Z=yield fn(C,y,_,T,L);return"mfaPendingCredential"in Z&&ft(C,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function de(C,y,_,T){const L=`${y}${_}?${T}`;return C.config.emulator?cn(C.config,L):`${C.config.apiScheme}://${L}`}class Ye{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((_,T)=>{this.timer=setTimeout(()=>T(He(this.auth,"network-request-failed")),hn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function it(C,y,_){const T={appName:C.name};_.email&&(T.email=_.email),_.phoneNumber&&(T.phoneNumber=_.phoneNumber);const L=He(C,y,T);return L.customData._tokenResponse=_,L}function Xe(){return(Xe=(0,l.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Cn(C,y){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function zt(C,y){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Tr(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function Wn(){return(Wn=(0,l.Z)(function*(C,y=!1){const _=(0,$.m9)(C),T=yield _.getIdToken(y),L=nn(T);me(L&&L.exp&&L.auth_time&&L.iat,_.auth,"internal-error");const Z="object"==typeof L.firebase?L.firebase:void 0,ve=null==Z?void 0:Z.sign_in_provider;return{claims:L,token:T,authTime:Tr(Xr(L.auth_time)),issuedAtTime:Tr(Xr(L.iat)),expirationTime:Tr(Xr(L.exp)),signInProvider:ve||null,signInSecondFactor:(null==Z?void 0:Z.sign_in_second_factor)||null}})).apply(this,arguments)}function Xr(C){return 1e3*Number(C)}function nn(C){const[y,_,T]=C.split(".");if(void 0===y||void 0===_||void 0===T)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,$.tV)(_);return L?JSON.parse(L):(ht("Failed to decode base64 JWT payload"),null)}catch(L){return ht("Caught error parsing JWT payload as JSON",L),null}}function mt(C,y){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(C,y,_=!1){if(_)return y;try{return yield y}catch(T){throw T instanceof $.ZR&&ei(T)&&C.auth.currentUser===C&&(yield C.auth.signOut()),T}})).apply(this,arguments)}function ei({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class $t{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var _;if(y){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const L=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(y=!1){var _=this;if(!this.isRunning)return;const T=this.getInterval(y);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),T)}iteration(){var y=this;return(0,l.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&y.schedule(!0))}y.schedule()})()}}class ls{constructor(y,_){this.createdAt=y,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ir(C){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(C){var y;const _=C.auth,T=yield C.getIdToken(),L=yield mt(C,zt(_,{idToken:T}));me(null==L?void 0:L.users.length,_,"internal-error");const Z=L.users[0];C._notifyReloadListener(Z);const ve=(null===(y=Z.providerUserInfo)||void 0===y?void 0:y.length)?Ze(Z.providerUserInfo):[],Qe=ae(C.providerData,ve),on=!!C.isAnonymous&&!(C.email&&Z.passwordHash||(null==Qe?void 0:Qe.length)),sr={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:Qe,metadata:new ls(Z.createdAt,Z.lastLoginAt),isAnonymous:on};Object.assign(C,sr)})).apply(this,arguments)}function ie(){return(ie=(0,l.Z)(function*(C){const y=(0,$.m9)(C);yield ir(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function ae(C,y){return[...C.filter(T=>!y.some(L=>L.providerId===T.providerId)),...y]}function Ze(C){return C.map(y=>{var{providerId:_}=y,T=(0,_e._T)(y,["providerId"]);return{providerId:_,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function he(){return(he=(0,l.Z)(function*(C,y){const _=yield z(C,{},(0,l.Z)(function*(){const T=(0,$.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:L,apiKey:Z}=C.config,ve=de(C,L,"/v1/token",`key=${Z}`),Qe=yield C._getAdditionalHeaders();return Qe["Content-Type"]="application/x-www-form-urlencoded",Sn.fetch()(ve,{method:"POST",headers:Qe,body:T})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){me(y.idToken,"internal-error"),me(void 0!==y.idToken,"internal-error"),me(void 0!==y.refreshToken,"internal-error");const _="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function bt(C){const y=nn(C);return me(y,"internal-error"),me(void 0!==y.exp,"internal-error"),me(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,_)}getToken(y,_=!1){var T=this;return(0,l.Z)(function*(){return me(!T.accessToken||T.refreshToken,y,"user-token-expired"),_||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(y,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,_){var T=this;return(0,l.Z)(function*(){const{accessToken:L,refreshToken:Z,expiresIn:ve}=yield function K(C,y){return he.apply(this,arguments)}(y,_);T.updateTokensAndExpiration(L,Z,Number(ve))})()}updateTokensAndExpiration(y,_,T){this.refreshToken=_||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(y,_){const{refreshToken:T,accessToken:L,expirationTime:Z}=_,ve=new Ke;return T&&(me("string"==typeof T,"internal-error",{appName:y}),ve.refreshToken=T),L&&(me("string"==typeof L,"internal-error",{appName:y}),ve.accessToken=L),Z&&(me("number"==typeof Z,"internal-error",{appName:y}),ve.expirationTime=Z),ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Ke,this.toJSON())}_performRefresh(){return H("not implemented")}}function Ct(C,y){me("string"==typeof C||void 0===C,"internal-error",{appName:y})}class Ft{constructor(y){var{uid:_,auth:T,stsTokenManager:L}=y,Z=(0,_e._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $t(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=T,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new ls(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(y){var _=this;return(0,l.Z)(function*(){const T=yield mt(_,_.stsTokenManager.getToken(_.auth,y));return me(T,_.auth,"internal-error"),_.accessToken!==T&&(_.accessToken=T,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),T})()}getIdTokenResult(y){return function Lt(C){return Wn.apply(this,arguments)}(this,y)}reload(){return function J(C){return ie.apply(this,arguments)}(this)}_assign(y){this!==y&&(me(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(_=>Object.assign({},_)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new Ft(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,_=!1){var T=this;return(0,l.Z)(function*(){let L=!1;y.idToken&&y.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(y),L=!0),_&&(yield ir(T)),yield T.auth._persistUserIfCurrent(T),L&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var y=this;return(0,l.Z)(function*(){const _=yield y.getIdToken();return yield mt(y,function At(C,y){return Xe.apply(this,arguments)}(y.auth,{idToken:_})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,_){var T,L,Z,ve,Qe,Et,Ht,on;const sr=null!==(T=_.displayName)&&void 0!==T?T:void 0,Qs=null!==(L=_.email)&&void 0!==L?L:void 0,aa=null!==(Z=_.phoneNumber)&&void 0!==Z?Z:void 0,Yf=null!==(ve=_.photoURL)&&void 0!==ve?ve:void 0,dd=null!==(Qe=_.tenantId)&&void 0!==Qe?Qe:void 0,kl=null!==(Et=_._redirectEventId)&&void 0!==Et?Et:void 0,Jg=null!==(Ht=_.createdAt)&&void 0!==Ht?Ht:void 0,_u=null!==(on=_.lastLoginAt)&&void 0!==on?on:void 0,{uid:hd,emailVerified:Xg,isAnonymous:Mh,providerData:wc,stsTokenManager:em}=_;me(hd&&em,y,"internal-error");const Qf=Ke.fromJSON(this.name,em);me("string"==typeof hd,y,"internal-error"),Ct(sr,y.name),Ct(Qs,y.name),me("boolean"==typeof Xg,y,"internal-error"),me("boolean"==typeof Mh,y,"internal-error"),Ct(aa,y.name),Ct(Yf,y.name),Ct(dd,y.name),Ct(kl,y.name),Ct(Jg,y.name),Ct(_u,y.name);const fd=new Ft({uid:hd,auth:y,email:Qs,emailVerified:Xg,displayName:sr,isAnonymous:Mh,photoURL:Yf,phoneNumber:aa,tenantId:dd,stsTokenManager:Qf,createdAt:Jg,lastLoginAt:_u});return wc&&Array.isArray(wc)&&(fd.providerData=wc.map(qn=>Object.assign({},qn))),kl&&(fd._redirectEventId=kl),fd}static _fromIdTokenResponse(y,_,T=!1){return(0,l.Z)(function*(){const L=new Ke;L.updateFromServerResponse(_);const Z=new Ft({uid:_.localId,auth:y,stsTokenManager:L,isAnonymous:T});return yield ir(Z),Z})()}}const On=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,T){var L=this;return(0,l.Z)(function*(){L.storage[_]=T})()}_get(_){var T=this;return(0,l.Z)(function*(){const L=T.storage[_];return void 0===L?null:L})()}_remove(_){var T=this;return(0,l.Z)(function*(){delete T.storage[_]})()}_addListener(_,T){}_removeListener(_,T){}}return C.type="NONE",C})();function Wt(C,y,_){return`firebase:${C}:${y}:${_}`}class vr{constructor(y,_,T){this.persistence=y,this.auth=_,this.userKey=T;const{config:L,name:Z}=this.auth;this.fullUserKey=Wt(this.userKey,L.apiKey,Z),this.fullPersistenceKey=Wt("persistence",L.apiKey,Z),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,l.Z)(function*(){const _=yield y.persistence._get(y.fullUserKey);return _?Ft._fromJSON(y.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var _=this;return(0,l.Z)(function*(){if(_.persistence===y)return;const T=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=y,T?_.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,_,T="authUser"){return(0,l.Z)(function*(){if(!_.length)return new vr(ue(On),y,T);const L=(yield Promise.all(_.map(function(){var Ht=(0,l.Z)(function*(on){if(yield on._isAvailable())return on});return function(on){return Ht.apply(this,arguments)}}()))).filter(Ht=>Ht);let Z=L[0]||ue(On);const ve=Wt(T,y.config.apiKey,y.name);let Qe=null;for(const Ht of _)try{const on=yield Ht._get(ve);if(on){const sr=Ft._fromJSON(y,on);Ht!==Z&&(Qe=sr),Z=Ht;break}}catch(on){}const Et=L.filter(Ht=>Ht._shouldAllowMigration);return Z._shouldAllowMigration&&Et.length?(Z=Et[0],Qe&&(yield Z._set(ve,Qe.toJSON())),yield Promise.all(_.map(function(){var Ht=(0,l.Z)(function*(on){if(on!==Z)try{yield on._remove(ve)}catch(sr){}});return function(on){return Ht.apply(this,arguments)}}())),new vr(Z,y,T)):new vr(Z,y,T)})()}}function De(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(_t(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(le(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Jt(y))return"Blackberry";if(vn(y))return"Webos";if(oe(y))return"Safari";if((y.includes("chrome/")||ze(y))&&!y.includes("edge/"))return"Chrome";if(Nt(y))return"Android";{const T=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function le(C=(0,$.z$)()){return/firefox\//i.test(C)}function oe(C=(0,$.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function ze(C=(0,$.z$)()){return/crios\//i.test(C)}function _t(C=(0,$.z$)()){return/iemobile/i.test(C)}function Nt(C=(0,$.z$)()){return/android/i.test(C)}function Jt(C=(0,$.z$)()){return/blackberry/i.test(C)}function vn(C=(0,$.z$)()){return/webos/i.test(C)}function pn(C=(0,$.z$)()){return/iphone|ipad|ipod/i.test(C)}function gr(C=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function ti(C=(0,$.z$)()){return pn(C)||Nt(C)||vn(C)||Jt(C)||/windows phone/i.test(C)||_t(C)}function Ur(C,y=[]){let _;switch(C){case"Browser":_=De((0,$.z$)());break;case"Worker":_=`${De((0,$.z$)())}-${C}`;break;default:_=C}const T=y.length?y.join(","):"FirebaseCore-web";return`${_}/JsCore/${U.SDK_VERSION}/${T}`}class ha{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,_){const T=Z=>new Promise((ve,Qe)=>{try{ve(y(Z))}catch(Et){Qe(Et)}});T.onAbort=_,this.queue.push(T);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(y){var _=this;return(0,l.Z)(function*(){var T;if(_.auth.currentUser===y)return;const L=[];try{for(const Z of _.queue)yield Z(y),Z.onAbort&&L.push(Z.onAbort)}catch(Z){L.reverse();for(const ve of L)try{ve()}catch(Qe){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(T=Z)||void 0===T?void 0:T.message})}})()}}class Zt{constructor(y,_,T){this.app=y,this.heartbeatServiceProvider=_,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dn(this),this.idTokenSubscription=new dn(this),this.beforeStateQueue=new ha(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(y,_){var T=this;return _&&(this._popupRedirectResolver=ue(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var L,Z;if(!T._deleted&&(T.persistenceManager=yield vr.create(T,y),!T._deleted)){if(null===(L=T._popupRedirectResolver)||void 0===L?void 0:L._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(ve){}yield T.initializeCurrentUser(_),T.lastNotifiedUid=(null===(Z=T.currentUser)||void 0===Z?void 0:Z.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,l.Z)(function*(){if(y._deleted)return;const _=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||_){if(y.currentUser&&_&&y.currentUser.uid===_.uid)return y._currentUser._assign(_),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(_,!0)}})()}initializeCurrentUser(y){var _=this;return(0,l.Z)(function*(){var T;const L=yield _.assertedPersistence.getCurrentUser();let Z=L,ve=!1;if(y&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Qe=null===(T=_.redirectUser)||void 0===T?void 0:T._redirectEventId,Et=null==Z?void 0:Z._redirectEventId,Ht=yield _.tryRedirectSignIn(y);(!Qe||Qe===Et)&&(null==Ht?void 0:Ht.user)&&(Z=Ht.user,ve=!0)}if(!Z)return _.directlySetCurrentUser(null);if(!Z._redirectEventId){if(ve)try{yield _.beforeStateQueue.runMiddleware(Z)}catch(Qe){Z=L,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Qe))}return Z?_.reloadAndSetCurrentUserOrClear(Z):_.directlySetCurrentUser(null)}return me(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===Z._redirectEventId?_.directlySetCurrentUser(Z):_.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(y){var _=this;return(0,l.Z)(function*(){let T=null;try{T=yield _._popupRedirectResolver._completeRedirectFn(_,y,!0)}catch(L){yield _._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(y){var _=this;return(0,l.Z)(function*(){try{yield ir(y)}catch(T){if("auth/network-request-failed"!==T.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function ln(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,l.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var _=this;return(0,l.Z)(function*(){const T=y?(0,$.m9)(y):null;return T&&me(T.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(T&&T._clone(_))})()}_updateCurrentUser(y,_=!1){var T=this;return(0,l.Z)(function*(){if(!T._deleted)return y&&me(T.tenantId===y.tenantId,T,"tenant-id-mismatch"),_||(yield T.beforeStateQueue.runMiddleware(y)),T.queue((0,l.Z)(function*(){yield T.directlySetCurrentUser(y),T.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,l.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(ue(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new $.LL("auth","Firebase",y())}onAuthStateChanged(y,_,T){return this.registerStateListener(this.authStateSubscription,y,_,T)}beforeAuthStateChanged(y,_){return this.beforeStateQueue.pushCallback(y,_)}onIdTokenChanged(y,_,T){return this.registerStateListener(this.idTokenSubscription,y,_,T)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,_){var T=this;return(0,l.Z)(function*(){const L=yield T.getOrInitRedirectPersistenceManager(_);return null===y?L.removeCurrentUser():L.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const T=y&&ue(y)||_._popupRedirectResolver;me(T,_,"argument-error"),_.redirectPersistenceManager=yield vr.create(_,[ue(T._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(y){var _=this;return(0,l.Z)(function*(){var T,L;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(T=_._currentUser)||void 0===T?void 0:T._redirectEventId)===y?_._currentUser:(null===(L=_.redirectUser)||void 0===L?void 0:L._redirectEventId)===y?_.redirectUser:null})()}_persistUserIfCurrent(y){var _=this;return(0,l.Z)(function*(){if(y===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(_=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,_,T,L){if(this._deleted)return()=>{};const Z="function"==typeof _?_:_.next.bind(_),ve=this._isInitialized?Promise.resolve():this._initializationPromise;return me(ve,this,"internal-error"),ve.then(()=>Z(this.currentUser)),"function"==typeof _?y.addObserver(_,T,L):y.addObserver(_)}directlySetCurrentUser(y){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==y&&(_._currentUser._stopProactiveRefresh(),y&&_.isProactiveRefreshEnabled&&y._startProactiveRefresh()),_.currentUser=y,y?yield _.assertedPersistence.setCurrentUser(y):yield _.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,l.Z)(function*(){var _;const T={"X-Client-Version":y.clientVersion};y.app.options.appId&&(T["X-Firebase-gmpid"]=y.app.options.appId);const L=yield null===(_=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return L&&(T["X-Firebase-Client"]=L),T})()}}function at(C){return(0,$.m9)(C)}class dn{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,$.ne)(_=>this.observer=_)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kn(C,y,_){const T=at(C);me(T._canInitEmulator,T,"emulator-config-failed"),me(/^https?:\/\//.test(y),T,"invalid-emulator-scheme");const L=!!(null==_?void 0:_.disableWarnings),Z=oi(y),{host:ve,port:Qe}=function Es(C){const y=oi(C),_=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!_)return{host:"",port:null};const T=_[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(T);if(L){const Z=L[1];return{host:Z,port:mr(T.substr(Z.length+1))}}{const[Z,ve]=T.split(":");return{host:Z,port:mr(ve)}}}(y);T.config.emulator={url:`${Z}//${ve}${null===Qe?"":`:${Qe}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ve,port:Qe,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Zi(){function C(){const y=document.createElement("p"),_=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function oi(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function mr(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class xn{constructor(y,_){this.providerId=y,this.signInMethod=_}toJSON(){return H("not implemented")}_getIdTokenResponse(y){return H("not implemented")}_linkToIdToken(y,_){return H("not implemented")}_getReauthenticationResolver(y){return H("not implemented")}}function Vs(C,y){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,l.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:resetPassword",Qt(C,y))})).apply(this,arguments)}function Ut(C,y){return co.apply(this,arguments)}function co(){return(co=(0,l.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Ts(C,y){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:update",Qt(C,y))})).apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(C,y){return Q(C,"POST","/v1/accounts:signInWithPassword",Qt(C,y))})).apply(this,arguments)}function Bs(C,y){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:sendOobCode",Qt(C,y))})).apply(this,arguments)}function tr(C,y){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,l.Z)(function*(C,y){return Bs(C,y)})).apply(this,arguments)}function Kc(C,y){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(C,y){return Bs(C,y)})).apply(this,arguments)}function Hi(C,y){return Di.apply(this,arguments)}function Di(){return(Di=(0,l.Z)(function*(C,y){return Bs(C,y)})).apply(this,arguments)}function Yc(C,y){return ul.apply(this,arguments)}function ul(){return(ul=(0,l.Z)(function*(C,y){return Bs(C,y)})).apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(C,y){return Q(C,"POST","/v1/accounts:signInWithEmailLink",Qt(C,y))})).apply(this,arguments)}function nc(){return(nc=(0,l.Z)(function*(C,y){return Q(C,"POST","/v1/accounts:signInWithEmailLink",Qt(C,y))})).apply(this,arguments)}class Is extends xn{constructor(y,_,T,L=null){super("password",T),this._email=y,this._password=_,this._tenantId=L}static _fromEmailAndPassword(y,_){return new Is(y,_,"password")}static _fromEmailAndCode(y,_,T=null){return new Is(y,_,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(y){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function Zo(C,y){return Dn.apply(this,arguments)}(y,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Zs(C,y){return Ai.apply(this,arguments)}(y,{email:_._email,oobCode:_._password});default:ft(y,"internal-error")}})()}_linkToIdToken(y,_){var T=this;return(0,l.Z)(function*(){switch(T.signInMethod){case"password":return Ut(y,{idToken:_,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function us(C,y){return nc.apply(this,arguments)}(y,{idToken:_,email:T._email,oobCode:T._password});default:ft(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function br(C,y){return rc.apply(this,arguments)}function rc(){return(rc=(0,l.Z)(function*(C,y){return Q(C,"POST","/v1/accounts:signInWithIdp",Qt(C,y))})).apply(this,arguments)}class Ds extends xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const _=new Ds(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(_.idToken=y.idToken),y.accessToken&&(_.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(_.nonce=y.nonce),y.pendingToken&&(_.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(_.accessToken=y.oauthToken,_.secret=y.oauthTokenSecret):ft("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:L}=_,Z=(0,_e._T)(_,["providerId","signInMethod"]);if(!T||!L)return null;const ve=new Ds(T,L);return ve.idToken=Z.idToken||void 0,ve.accessToken=Z.accessToken||void 0,ve.secret=Z.secret,ve.nonce=Z.nonce,ve.pendingToken=Z.pendingToken||null,ve}_getIdTokenResponse(y){return br(y,this.buildRequest())}_linkToIdToken(y,_){const T=this.buildRequest();return T.idToken=_,br(y,T)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,br(y,_)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),y.postBody=(0,$.xO)(_)}return y}}function mh(C,y){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:sendVerificationCode",Qt(C,y))})).apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(C,y){return Q(C,"POST","/v1/accounts:signInWithPhoneNumber",Qt(C,y))})).apply(this,arguments)}function Qc(){return(Qc=(0,l.Z)(function*(C,y){const _=yield Q(C,"POST","/v1/accounts:signInWithPhoneNumber",Qt(C,y));if(_.temporaryProof)throw it(C,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const _h={USER_NOT_FOUND:"user-not-found"};function ic(){return(ic=(0,l.Z)(function*(C,y){return Q(C,"POST","/v1/accounts:signInWithPhoneNumber",Qt(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),_h)})).apply(this,arguments)}class zo extends xn{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,_){return new zo({verificationId:y,verificationCode:_})}static _fromTokenResponse(y,_){return new zo({phoneNumber:y,temporaryProof:_})}_getIdTokenResponse(y){return function yh(C,y){return pa.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,_){return function Ho(C,y){return Qc.apply(this,arguments)}(y,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function qo(C,y){return ic.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:_,verificationId:T,verificationCode:L}=this.params;return y&&_?{temporaryProof:y,phoneNumber:_}:{sessionInfo:T,code:L}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:_,verificationCode:T,phoneNumber:L,temporaryProof:Z}=y;return T||_||L||Z?new zo({verificationId:_,verificationCode:T,phoneNumber:L,temporaryProof:Z}):null}}class As{constructor(y){var _,T,L,Z,ve,Qe;const Et=(0,$.zd)((0,$.pd)(y)),Ht=null!==(_=Et.apiKey)&&void 0!==_?_:null,on=null!==(T=Et.oobCode)&&void 0!==T?T:null,sr=function vh(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Et.mode)&&void 0!==L?L:null);me(Ht&&on&&sr,"argument-error"),this.apiKey=Ht,this.operation=sr,this.code=on,this.continueUrl=null!==(Z=Et.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(ve=Et.languageCode)&&void 0!==ve?ve:null,this.tenantId=null!==(Qe=Et.tenantId)&&void 0!==Qe?Qe:null}static parseLink(y){const _=function Xu(C){const y=(0,$.zd)((0,$.pd)(C)).link,_=y?(0,$.zd)((0,$.pd)(y)).deep_link_id:null,T=(0,$.zd)((0,$.pd)(C)).deep_link_id;return(T?(0,$.zd)((0,$.pd)(T)).link:null)||T||_||y||C}(y);try{return new As(_)}catch(T){return null}}}let ga=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(_,T){return Is._fromEmailAndPassword(_,T)}static credentialWithLink(_,T){const L=As.parseLink(T);return me(L,"argument-error"),Is._fromEmailAndCode(_,L.code,L.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ai{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class mi extends ai{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class ho extends mi{static credentialFromJSON(y){const _="string"==typeof y?JSON.parse(y):y;return me("providerId"in _&&"signInMethod"in _,"argument-error"),Ds._fromParams(_)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return me(y.idToken||y.accessToken,"argument-error"),Ds._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return ho.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return ho.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:_,oauthAccessToken:T,oauthTokenSecret:L,pendingToken:Z,nonce:ve,providerId:Qe}=y;if(!T&&!L&&!_&&!Z||!Qe)return null;try{return new ho(Qe)._credential({idToken:_,accessToken:T,nonce:ve,pendingToken:Z})}catch(Et){return null}}}let ma=(()=>{class C extends mi{constructor(){super("facebook.com")}static credential(_){return Ds._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch(T){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),ya=(()=>{class C extends mi{constructor(){super("google.com"),this.addScope("profile")}static credential(_,T){return Ds._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:T})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:T,oauthAccessToken:L}=_;if(!T&&!L)return null;try{return C.credential(T,L)}catch(Z){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),ed=(()=>{class C extends mi{constructor(){super("github.com")}static credential(_){return Ds._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch(T){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class ds extends xn{constructor(y,_){super(y,y),this.pendingToken=_}_getIdTokenResponse(y){return br(y,this.buildRequest())}_linkToIdToken(y,_){const T=this.buildRequest();return T.idToken=_,br(y,T)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,br(y,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:L,pendingToken:Z}=_;return T&&L&&Z&&T===L?new ds(T,Z):null}static _create(y,_){return new ds(y,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hs extends ai{constructor(y){me(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return hs.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return hs.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const _=ds.fromJSON(y);return me(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:_,providerId:T}=y;if(!_||!T)return null;try{return ds._create(T,_)}catch(L){return null}}}let qi=(()=>{class C extends mi{constructor(){super("twitter.com")}static credential(_,T){return Ds._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:T})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:T,oauthTokenSecret:L}=_;if(!T||!L)return null;try{return C.credential(T,L)}catch(Z){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Xc(C,y){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,l.Z)(function*(C,y){return Q(C,"POST","/v1/accounts:signUp",Qt(C,y))})).apply(this,arguments)}class yr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,_,T,L=!1){return(0,l.Z)(function*(){const Z=yield Ft._fromIdTokenResponse(y,T,L),ve=eu(T);return new yr({user:Z,providerId:ve,_tokenResponse:T,operationType:_})})()}static _forOperation(y,_,T){return(0,l.Z)(function*(){yield y._updateTokensIfNecessary(T,!0);const L=eu(T);return new yr({user:y,providerId:L,_tokenResponse:T,operationType:_})})()}}function eu(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function tu(C){return dl.apply(this,arguments)}function dl(){return(dl=(0,l.Z)(function*(C){var y;const _=at(C);if(yield _._initializationPromise,null===(y=_.currentUser)||void 0===y?void 0:y.isAnonymous)return new yr({user:_.currentUser,providerId:null,operationType:"signIn"});const T=yield Xc(_,{returnSecureToken:!0}),L=yield yr._fromIdTokenResponse(_,"signIn",T,!0);return yield _._updateCurrentUser(L.user),L})).apply(this,arguments)}class hl extends $.ZR{constructor(y,_,T,L){var Z;super(_.code,_.message),this.operationType=T,this.user=L,Object.setPrototypeOf(this,hl.prototype),this.customData={appName:y.name,tenantId:null!==(Z=y.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:_.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(y,_,T,L){return new hl(y,_,T,L)}}function fl(C,y,_,T){return("reauthenticate"===y?_._getReauthenticationResolver(C):_._getIdTokenResponse(C)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?hl._fromErrorAndOperation(C,Z,y,T):Z})}function sc(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function Ss(C,y){return oc.apply(this,arguments)}function oc(){return(oc=(0,l.Z)(function*(C,y){const _=(0,$.m9)(C);yield Ms(!0,_,y);const{providerUserInfo:T}=yield Cn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[y]}),L=sc(T||[]);return _.providerData=_.providerData.filter(Z=>L.has(Z.providerId)),L.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function jn(C,y){return fo.apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(C,y,_=!1){const T=yield mt(C,y._linkToIdToken(C.auth,yield C.getIdToken()),_);return yr._forOperation(C,"link",T)})).apply(this,arguments)}function Ms(C,y,_){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(C,y,_){yield ir(y);const L=!1===C?"provider-already-linked":"no-such-provider";me(sc(y.providerData).has(_)===C,y.auth,L)})).apply(this,arguments)}function pl(C,y){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(C,y,_=!1){const{auth:T}=C,L="reauthenticate";try{const Z=yield mt(C,fl(T,L,y,C),_);me(Z.idToken,T,"internal-error");const ve=nn(Z.idToken);me(ve,T,"internal-error");const{sub:Qe}=ve;return me(C.uid===Qe,T,"user-mismatch"),yr._forOperation(C,L,Z)}catch(Z){throw"auth/user-not-found"===(null==Z?void 0:Z.code)&&ft(T,"user-mismatch"),Z}})).apply(this,arguments)}function zi(C,y){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(C,y,_=!1){const T="signIn",L=yield fl(C,T,y),Z=yield yr._fromIdTokenResponse(C,T,L);return _||(yield C._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function va(C,y){return or.apply(this,arguments)}function or(){return(or=(0,l.Z)(function*(C,y){return zi(at(C),y)})).apply(this,arguments)}function ks(C,y){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(C,y){const _=(0,$.m9)(C);return yield Ms(!1,_,y.providerId),jn(_,y)})).apply(this,arguments)}function $o(C,y){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.Z)(function*(C,y){return pl((0,$.m9)(C),y)})).apply(this,arguments)}function gl(C,y){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(C,y){return Q(C,"POST","/v1/accounts:signInWithCustomToken",Qt(C,y))})).apply(this,arguments)}function Hs(C,y){return qs.apply(this,arguments)}function qs(){return(qs=(0,l.Z)(function*(C,y){const _=at(C),T=yield gl(_,{token:y,returnSecureToken:!0}),L=yield yr._fromIdTokenResponse(_,"signIn",T);return yield _._updateCurrentUser(L.user),L})).apply(this,arguments)}class Vt{constructor(y,_){this.factorId=y,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(y,_){return"phoneInfo"in _?ba._fromServerResponse(y,_):ft(y,"internal-error")}}class ba extends Vt{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,_){return new ba(_)}}function wa(C,y,_){var T;me((null===(T=_.url)||void 0===T?void 0:T.length)>0,C,"invalid-continue-uri"),me(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=_.url,y.dynamicLinkDomain=_.dynamicLinkDomain,y.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(me(_.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=_.iOS.bundleId),_.android&&(me(_.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=_.android.installApp,y.androidMinimumVersionCode=_.android.minimumVersion,y.androidPackageName=_.android.packageName)}function ac(C,y,_){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.Z)(function*(C,y,_){const T=(0,$.m9)(C),L={requestType:"PASSWORD_RESET",email:y};_&&wa(T,L,_),yield Kc(T,L)})).apply(this,arguments)}function Go(C,y,_){return xa.apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(C,y,_){yield Vs((0,$.m9)(C),{oobCode:y,newPassword:_})})).apply(this,arguments)}function td(C,y){return $e.apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(C,y){yield Ts((0,$.m9)(C),{oobCode:y})})).apply(this,arguments)}function rn(C,y){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,l.Z)(function*(C,y){const _=(0,$.m9)(C),T=yield Vs(_,{oobCode:y}),L=T.requestType;switch(me(L,_,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(T.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(T.mfaInfo,_,"internal-error");default:me(T.email,_,"internal-error")}let Z=null;return T.mfaInfo&&(Z=Vt._fromServerResponse(at(_),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:Z},operation:L}})).apply(this,arguments)}function ar(C,y){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(C,y){const{data:_}=yield rn((0,$.m9)(C),y);return _.email})).apply(this,arguments)}function Wo(C,y,_){return ni.apply(this,arguments)}function ni(){return(ni=(0,l.Z)(function*(C,y,_){const T=at(C),L=yield Xc(T,{returnSecureToken:!0,email:y,password:_}),Z=yield yr._fromIdTokenResponse(T,"signIn",L);return yield T._updateCurrentUser(Z.user),Z})).apply(this,arguments)}function ml(C,y,_){return va((0,$.m9)(C),ga.credential(y,_))}function lc(C,y,_){return nu.apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(C,y,_){const T=(0,$.m9)(C),L={requestType:"EMAIL_SIGNIN",email:y};me(_.handleCodeInApp,T,"argument-error"),_&&wa(T,L,_),yield Hi(T,L)})).apply(this,arguments)}function ru(C,y){const _=As.parseLink(y);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function Ta(C,y,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(C,y,_){const T=(0,$.m9)(C),L=ga.credentialWithLink(y,_||Te());return me(L._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),va(T,L)})).apply(this,arguments)}function Dr(C,y){return $i.apply(this,arguments)}function $i(){return($i=(0,l.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:createAuthUri",Qt(C,y))})).apply(this,arguments)}function cc(C,y){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(C,y){const T={identifier:y,continueUri:nt()?Te():"http://localhost"},{signinMethods:L}=yield Dr((0,$.m9)(C),T);return L||[]})).apply(this,arguments)}function Os(C,y){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.Z)(function*(C,y){const _=(0,$.m9)(C),L={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&wa(_.auth,L,y);const{email:Z}=yield tr(_.auth,L);Z!==C.email&&(yield C.reload())})).apply(this,arguments)}function uc(C,y,_){return po.apply(this,arguments)}function po(){return(po=(0,l.Z)(function*(C,y,_){const T=(0,$.m9)(C),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};_&&wa(T.auth,Z,_);const{email:ve}=yield Yc(T.auth,Z);ve!==C.email&&(yield C.reload())})).apply(this,arguments)}function dc(C,y){return go.apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(C,y){return fn(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function hc(C,y){return Da.apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(C,{displayName:y,photoURL:_}){if(void 0===y&&void 0===_)return;const T=(0,$.m9)(C),Z={idToken:yield T.getIdToken(),displayName:y,photoUrl:_,returnSecureToken:!0},ve=yield mt(T,dc(T.auth,Z));T.displayName=ve.displayName||null,T.photoURL=ve.photoUrl||null;const Qe=T.providerData.find(({providerId:Et})=>"password"===Et);Qe&&(Qe.displayName=T.displayName,Qe.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ve)})).apply(this,arguments)}function yl(C,y){return Yo((0,$.m9)(C),y,null)}function wh(C,y){return Yo((0,$.m9)(C),null,y)}function Yo(C,y,_){return $s.apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(C,y,_){const{auth:T}=C,Z={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(Z.email=y),_&&(Z.password=_);const ve=yield mt(C,Ut(T,Z));yield C._updateTokensIfNecessary(ve,!0)})).apply(this,arguments)}class Ps{constructor(y,_,T={}){this.isNewUser=y,this.providerId=_,this.profile=T}}class iu extends Ps{constructor(y,_,T,L){super(y,_,T),this.username=L}}class nd extends Ps{constructor(y,_){super(y,"facebook.com",_)}}class Qo extends iu{constructor(y,_){super(y,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class _i extends Ps{constructor(y,_){super(y,"google.com",_)}}class rd extends iu{constructor(y,_,T){super(y,"twitter.com",_,T)}}function jr(C){const{user:y,_tokenResponse:_}=C;return y.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function _l(C){var y,_;if(!C)return null;const{providerId:T}=C,L=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},Z=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!T&&(null==C?void 0:C.idToken)){const ve=null===(_=null===(y=nn(C.idToken))||void 0===y?void 0:y.firebase)||void 0===_?void 0:_.sign_in_provider;if(ve)return new Ps(Z,"anonymous"!==ve&&"custom"!==ve?ve:null)}if(!T)return null;switch(T){case"facebook.com":return new nd(Z,L);case"github.com":return new Qo(Z,L);case"google.com":return new _i(Z,L);case"twitter.com":return new rd(Z,L,C.screenName||null);case"custom":case"anonymous":return new Ps(Z,null);default:return new Ps(Z,T,L)}}(_)}class Ns{constructor(y,_){this.type=y,this.credential=_}static _fromIdtoken(y){return new Ns("enroll",y)}static _fromMfaPendingCredential(y){return new Ns("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var _,T;if(null==y?void 0:y.multiFactorSession){if(null===(_=y.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Ns._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(T=y.multiFactorSession)||void 0===T?void 0:T.idToken)return Ns._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Aa{constructor(y,_,T){this.session=y,this.hints=_,this.signInResolver=T}static _fromError(y,_){const T=at(y),L=_.customData._serverResponse,Z=(L.mfaInfo||[]).map(Qe=>Vt._fromServerResponse(T,Qe));me(L.mfaPendingCredential,T,"internal-error");const ve=Ns._fromMfaPendingCredential(L.mfaPendingCredential);return new Aa(ve,Z,function(){var Qe=(0,l.Z)(function*(Et){const Ht=yield Et._process(T,ve);delete L.mfaInfo,delete L.mfaPendingCredential;const on=Object.assign(Object.assign({},L),{idToken:Ht.idToken,refreshToken:Ht.refreshToken});switch(_.operationType){case"signIn":const sr=yield yr._fromIdTokenResponse(T,_.operationType,on);return yield T._updateCurrentUser(sr.user),sr;case"reauthenticate":return me(_.user,T,"internal-error"),yr._forOperation(_.user,_.operationType,on);default:ft(T,"internal-error")}});return function(Et){return Qe.apply(this,arguments)}}())}resolveSignIn(y){var _=this;return(0,l.Z)(function*(){return _.signInResolver(y)})()}}function vl(C,y){var _;const T=(0,$.m9)(C),L=y;return me(y.customData.operationType,T,"argument-error"),me(null===(_=L.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,T,"argument-error"),Aa._fromError(T,L)}function Ar(C,y){return fn(C,"POST","/v2/accounts/mfaEnrollment:start",Qt(C,y))}class Xo{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(T=>Vt._fromServerResponse(y.auth,T)))})}static _fromUser(y){return new Xo(y)}getSession(){var y=this;return(0,l.Z)(function*(){return Ns._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,_){var T=this;return(0,l.Z)(function*(){const L=y,Z=yield T.getSession(),ve=yield mt(T.user,L._process(T.user.auth,Z,_));return yield T.user._updateTokensIfNecessary(ve),T.user.reload()})()}unenroll(y){var _=this;return(0,l.Z)(function*(){const T="string"==typeof y?y:y.uid,L=yield _.user.getIdToken(),Z=yield mt(_.user,function mo(C,y){return fn(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(C,y))}(_.user.auth,{idToken:L,mfaEnrollmentId:T}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ve})=>ve!==T),yield _.user._updateTokensIfNecessary(Z);try{yield _.user.reload()}catch(ve){if("auth/user-token-expired"!==ve.code)throw ve}})()}}const ou=new WeakMap;function Gi(C){const y=(0,$.m9)(C);return ou.has(y)||ou.set(y,Xo._fromUser(y)),ou.get(y)}const Mi="__sak";class Sa{constructor(y,_){this.storageRetriever=y,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Mi,"1"),this.storage.removeItem(Mi),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,_){return this.storage.setItem(y,JSON.stringify(_)),Promise.resolve()}_get(y){const _=this.storage.getItem(y);return Promise.resolve(_?JSON.parse(_):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tt=(()=>{class C extends Sa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,T)=>this.onStorageEvent(_,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function od(){const C=(0,$.z$)();return oe(C)||pn(C)}()&&function cs(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=ti(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const T of Object.keys(this.listeners)){const L=this.storage.getItem(T),Z=this.localCache[T];L!==Z&&_(T,Z,L)}}onStorageEvent(_,T=!1){if(!_.key)return void this.forAllChangedKeys((Qe,Et,Ht)=>{this.notifyListeners(Qe,Ht)});const L=_.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Qe=this.storage.getItem(L);if(_.newValue!==Qe)null!==_.newValue?this.storage.setItem(L,_.newValue):this.storage.removeItem(L);else if(this.localCache[L]===_.newValue&&!T)return}const Z=()=>{const Qe=this.storage.getItem(L);!T&&this.localCache[L]===Qe||this.notifyListeners(L,Qe)},ve=this.storage.getItem(L);!function un(){return(0,$.w1)()&&10===document.documentMode}()||ve===_.newValue||_.newValue===_.oldValue?Z():setTimeout(Z,10)}notifyListeners(_,T){this.localCache[_]=T;const L=this.listeners[_];if(L)for(const Z of Array.from(L))Z(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,T,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:T,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,T){var L=()=>super._set,Z=this;return(0,l.Z)(function*(){yield L().call(Z,_,T),Z.localCache[_]=JSON.stringify(T)})()}_get(_){var T=()=>super._get,L=this;return(0,l.Z)(function*(){const Z=yield T().call(L,_);return L.localCache[_]=JSON.stringify(Z),Z})()}_remove(_){var T=()=>super._remove,L=this;return(0,l.Z)(function*(){yield T().call(L,_),delete L.localCache[_]})()}}return C.type="LOCAL",C})(),wr=(()=>{class C extends Sa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,T){}_removeListener(_,T){}}return C.type="SESSION",C})();let I=(()=>{class C{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const T=this.receivers.find(Z=>Z.isListeningto(_));if(T)return T;const L=new C(_);return this.receivers.push(L),L}isListeningto(_){return this.eventTarget===_}handleEvent(_){var T=this;return(0,l.Z)(function*(){const L=_,{eventId:Z,eventType:ve,data:Qe}=L.data,Et=T.handlersMap[ve];if(!(null==Et?void 0:Et.size))return;L.ports[0].postMessage({status:"ack",eventId:Z,eventType:ve});const Ht=Array.from(Et).map(function(){var sr=(0,l.Z)(function*(Qs){return Qs(L.origin,Qe)});return function(Qs){return sr.apply(this,arguments)}}()),on=yield function E(C){return Promise.all(C.map(function(){var y=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(T){return{fulfilled:!1,reason:T}}});return function(_){return y.apply(this,arguments)}}()))}(Ht);L.ports[0].postMessage({status:"done",eventId:Z,eventType:ve,response:on})})()}_subscribe(_,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(T)}_unsubscribe(_,T){this.handlersMap[_]&&T&&this.handlersMap[_].delete(T),(!T||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function P(C="",y=10){let _="";for(let T=0;T<y;T++)_+=Math.floor(10*Math.random());return C+_}class Y{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,_,T=50){var L=this;return(0,l.Z)(function*(){const Z="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let ve,Qe;return new Promise((Et,Ht)=>{const on=P("",20);Z.port1.start();const sr=setTimeout(()=>{Ht(new Error("unsupported_event"))},T);Qe={messageChannel:Z,onMessage(Qs){const aa=Qs;if(aa.data.eventId===on)switch(aa.data.status){case"ack":clearTimeout(sr),ve=setTimeout(()=>{Ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(ve),Et(aa.data.response);break;default:clearTimeout(sr),clearTimeout(ve),Ht(new Error("invalid_response"))}}},L.handlers.add(Qe),Z.port1.addEventListener("message",Qe.onMessage),L.target.postMessage({eventType:y,eventId:on,data:_},[Z.port2])}).finally(()=>{Qe&&L.removeMessageHandler(Qe)})})()}}function Ue(){return window}function Zn(){return void 0!==Ue().WorkerGlobalScope&&"function"==typeof Ue().importScripts}function Dt(){return(Dt=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const au="firebaseLocalStorageDb",nr="firebaseLocalStorage",lu="fbase_key";class _o{constructor(y){this.request=y}toPromise(){return new Promise((y,_)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ma(C,y){return C.transaction([nr],y?"readwrite":"readonly").objectStore(nr)}function vi(){const C=indexedDB.open(au,1);return new Promise((y,_)=>{C.addEventListener("error",()=>{_(C.error)}),C.addEventListener("upgradeneeded",()=>{const T=C.result;try{T.createObjectStore(nr,{keyPath:lu})}catch(L){_(L)}}),C.addEventListener("success",(0,l.Z)(function*(){const T=C.result;T.objectStoreNames.contains(nr)?y(T):(T.close(),yield function Ki(){const C=indexedDB.deleteDatabase(au);return new _o(C).toPromise()}(),y(yield vi()))}))})}function ea(C,y,_){return ka.apply(this,arguments)}function ka(){return(ka=(0,l.Z)(function*(C,y,_){const T=Ma(C,!0).put({[lu]:y,value:_});return new _o(T).toPromise()})).apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(C,y){const _=Ma(C,!1).get(y),T=yield new _o(_).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function xl(C,y){const _=Ma(C,!0).delete(y);return new _o(_).toPromise()}const Na=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield vi()),_.db})()}_withRetries(_){var T=this;return(0,l.Z)(function*(){let L=0;for(;;)try{const Z=yield T._openDb();return yield _(Z)}catch(Z){if(L++>3)throw Z;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Zn()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=I._getInstance(function wl(){return Zn()?self:null}()),_.receiver._subscribe("keyChanged",function(){var T=(0,l.Z)(function*(L,Z){return{keyProcessed:(yield _._poll()).includes(Z.key)}});return function(L,Z){return T.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var T=(0,l.Z)(function*(L,Z){return["keyChanged"]});return function(L,Z){return T.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var T,L;if(_.activeServiceWorker=yield function Sr(){return Dt.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Y(_.activeServiceWorker);const Z=yield _.sender._send("ping",{},800);!Z||(null===(T=Z[0])||void 0===T?void 0:T.fulfilled)&&(null===(L=Z[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var T=this;return(0,l.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function yo(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:_},T.serviceWorkerReceiverAvailable?800:50)}catch(L){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield vi();return yield ea(_,Mi,"1"),yield xl(_,Mi),!0}catch(_){}return!1})()}_withPendingWrite(_){var T=this;return(0,l.Z)(function*(){T.pendingWrites++;try{yield _()}finally{T.pendingWrites--}})()}_set(_,T){var L=this;return(0,l.Z)(function*(){return L._withPendingWrite((0,l.Z)(function*(){return yield L._withRetries(Z=>ea(Z,_,T)),L.localCache[_]=T,L.notifyServiceWorker(_)}))})()}_get(_){var T=this;return(0,l.Z)(function*(){const L=yield T._withRetries(Z=>function Cl(C,y){return ta.apply(this,arguments)}(Z,_));return T.localCache[_]=L,L})()}_remove(_){var T=this;return(0,l.Z)(function*(){return T._withPendingWrite((0,l.Z)(function*(){return yield T._withRetries(L=>xl(L,_)),delete T.localCache[_],T.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const T=yield _._withRetries(ve=>{const Qe=Ma(ve,!1).getAll();return new _o(Qe).toPromise()});if(!T)return[];if(0!==_.pendingWrites)return[];const L=[],Z=new Set;for(const{fbase_key:ve,value:Qe}of T)Z.add(ve),JSON.stringify(_.localCache[ve])!==JSON.stringify(Qe)&&(_.notifyListeners(ve,Qe),L.push(ve));for(const ve of Object.keys(_.localCache))_.localCache[ve]&&!Z.has(ve)&&(_.notifyListeners(ve,null),L.push(ve));return L})()}notifyListeners(_,T){this.localCache[_]=T;const L=this.listeners[_];if(L)for(const Z of Array.from(L))Z(T)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function ad(C,y){return fn(C,"POST","/v2/accounts/mfaSignIn:start",Qt(C,y))}function Fa(){return(Fa=(0,l.Z)(function*(C){return(yield fn(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function li(C){return new Promise((y,_)=>{const T=document.createElement("script");T.setAttribute("src",C),T.onload=y,T.onerror=L=>{const Z=He("internal-error");Z.customData=L,_(Z)},T.type="text/javascript",T.charset="UTF-8",function cr(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(T)})}function Gs(C){return`__${C}${Math.floor(1e6*Math.random())}`}const _r=1e12;class vo{constructor(y){this.auth=y,this.counter=_r,this._widgets=new Map}render(y,_){const T=this.counter;return this._widgets.set(T,new ur(y,this.auth.name,_||{})),this.counter++,T}reset(y){var _;const T=y||_r;null===(_=this._widgets.get(T))||void 0===_||_.delete(),this._widgets.delete(T)}getResponse(y){var _;return(null===(_=this._widgets.get(y||_r))||void 0===_?void 0:_.getResponse())||""}execute(y){var _=this;return(0,l.Z)(function*(){var T;return null===(T=_._widgets.get(y||_r))||void 0===T||T.execute(),""})()}}class ur{constructor(y,_,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof y?document.getElementById(y):y;me(L,"argument-error",{appName:_}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function El(C){const y=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<C;T++)y.push(_.charAt(Math.floor(Math.random()*_.length)));return y.join("")}(50);const{callback:y,"expired-callback":_}=this.params;if(y)try{y(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ua=Gs("rcb"),Cr=new pt(3e4,6e4);class jg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ue().grecaptcha}load(y,_=""){return me(function b_(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(_),y,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Ue().grecaptcha):new Promise((T,L)=>{const Z=Ue().setTimeout(()=>{L(He(y,"network-request-failed"))},Cr.get());Ue()[Ua]=()=>{Ue().clearTimeout(Z),delete Ue()[Ua];const Qe=Ue().grecaptcha;if(!Qe)return void L(He(y,"internal-error"));const Et=Qe.render;Qe.render=(Ht,on)=>{const sr=Et(Ht,on);return this.counter++,sr},this.hostLanguage=_,T(Qe)},li(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Ua,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(Z),L(He(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!Ue().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Tl{load(y){return(0,l.Z)(function*(){return new vo(y)})()}clearedOneInstance(){}}const bi="recaptcha",cu={theme:"light",type:"image"};class ra{constructor(y,_=Object.assign({},cu),T){this.parameters=_,this.type=bi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=at(T),this.isInvisible="invisible"===this.parameters.size,me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof y?document.getElementById(y):y;me(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Tl:new jg,this.validateStartingState()}verify(){var y=this;return(0,l.Z)(function*(){y.assertNotDestroyed();const _=yield y.render(),T=y.getAssertedRecaptcha();return T.getResponse(_)||new Promise(Z=>{const ve=Qe=>{!Qe||(y.tokenChangeListeners.delete(ve),Z(Qe))};y.tokenChangeListeners.add(ve),y.isInvisible&&T.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return _=>{if(this.tokenChangeListeners.forEach(T=>T(_)),"function"==typeof y)y(_);else if("string"==typeof y){const T=Ue()[y];"function"==typeof T&&T(_)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,l.Z)(function*(){if(yield y.init(),!y.widgetId){let _=y.container;if(!y.isInvisible){const T=document.createElement("div");_.appendChild(T),_=T}y.widgetId=y.getAssertedRecaptcha().render(_,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,l.Z)(function*(){me(nt()&&!Zn(),y.auth,"internal-error"),yield function Va(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const _=yield function La(C){return Fa.apply(this,arguments)}(y.auth);me(_,y.auth,"internal-error"),y.parameters.sitekey=_})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Il{constructor(y,_){this.verificationId=y,this.onConfirmation=_}confirm(y){const _=zo._fromVerification(this.verificationId,y);return this.onConfirmation(_)}}function Mr(C,y,_){return pc.apply(this,arguments)}function pc(){return(pc=(0,l.Z)(function*(C,y,_){const T=at(C),L=yield Oi(T,y,(0,$.m9)(_));return new Il(L,Z=>va(T,Z))})).apply(this,arguments)}function gc(C,y,_){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,l.Z)(function*(C,y,_){const T=(0,$.m9)(C);yield Ms(!1,T,"phone");const L=yield Oi(T.auth,y,(0,$.m9)(_));return new Il(L,Z=>ks(T,Z))})).apply(this,arguments)}function jf(C,y,_){return ki.apply(this,arguments)}function ki(){return(ki=(0,l.Z)(function*(C,y,_){const T=(0,$.m9)(C),L=yield Oi(T.auth,y,(0,$.m9)(_));return new Il(L,Z=>$o(T,Z))})).apply(this,arguments)}function Oi(C,y,_){return mc.apply(this,arguments)}function mc(){return(mc=(0,l.Z)(function*(C,y,_){var T;const L=yield _.verify();try{let Z;if(me("string"==typeof L,C,"argument-error"),me(_.type===bi,C,"argument-error"),Z="string"==typeof y?{phoneNumber:y}:y,"session"in Z){const ve=Z.session;if("phoneNumber"in Z)return me("enroll"===ve.type,C,"internal-error"),(yield Ar(C,{idToken:ve.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{me("signin"===ve.type,C,"internal-error");const Qe=(null===(T=Z.multiFactorHint)||void 0===T?void 0:T.uid)||Z.multiFactorUid;return me(Qe,C,"missing-multi-factor-info"),(yield ad(C,{mfaPendingCredential:ve.credential,mfaEnrollmentId:Qe,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ve}=yield mh(C,{phoneNumber:Z.phoneNumber,recaptchaToken:L});return ve}}finally{_._reset()}})).apply(this,arguments)}function yc(C,y){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(C,y){yield jn((0,$.m9)(C),y)})).apply(this,arguments)}let uu=(()=>{class C{constructor(_){this.providerId=C.PROVIDER_ID,this.auth=at(_)}verifyPhoneNumber(_,T){return Oi(this.auth,_,(0,$.m9)(T))}static credential(_,T){return zo._fromVerification(_,T)}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:T,temporaryProof:L}=_;return T&&L?zo._fromTokenResponse(T,L):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function wo(C,y){return y?ue(y):(me(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class _c extends xn{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return br(y,this._buildIdpRequest())}_linkToIdToken(y,_){return br(y,this._buildIdpRequest(_))}_getReauthenticationResolver(y){return br(y,this._buildIdpRequest())}_buildIdpRequest(y){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(_.idToken=y),_}}function ld(C){return zi(C.auth,new _c(C),C.bypassAuthState)}function yn(C){const{auth:y,user:_}=C;return me(_,y,"internal-error"),pl(_,new _c(C),C.bypassAuthState)}function du(C){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(C){const{auth:y,user:_}=C;return me(_,y,"internal-error"),jn(_,new _c(C),C.bypassAuthState)})).apply(this,arguments)}class hu{constructor(y,_,T,L,Z=!1){this.auth=y,this.resolver=T,this.user=L,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var y=this;return new Promise(function(){var _=(0,l.Z)(function*(T,L){y.pendingPromise={resolve:T,reject:L};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(Z){y.reject(Z)}});return function(T,L){return _.apply(this,arguments)}}())}onAuthEvent(y){var _=this;return(0,l.Z)(function*(){const{urlResponse:T,sessionId:L,postBody:Z,tenantId:ve,error:Qe,type:Et}=y;if(Qe)return void _.reject(Qe);const Ht={auth:_.auth,requestUri:T,sessionId:L,tenantId:ve||void 0,postBody:Z||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Et)(Ht))}catch(on){_.reject(on)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return ld;case"linkViaPopup":case"linkViaRedirect":return du;case"reauthViaPopup":case"reauthViaRedirect":return yn;default:ft(this.auth,"internal-error")}}resolve(y){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ba=new pt(2e3,1e4);function Zg(C,y,_){return fu.apply(this,arguments)}function fu(){return(fu=(0,l.Z)(function*(C,y,_){const T=at(C);je(C,y,ai);const L=wo(T,_);return new Ks(T,"signInViaPopup",y,L).executeNotNull()})).apply(this,arguments)}function Dl(C,y,_){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,l.Z)(function*(C,y,_){const T=(0,$.m9)(C);je(T.auth,y,ai);const L=wo(T.auth,_);return new Ks(T.auth,"reauthViaPopup",y,L,T).executeNotNull()})).apply(this,arguments)}function Eh(C,y,_){return pu.apply(this,arguments)}function pu(){return(pu=(0,l.Z)(function*(C,y,_){const T=(0,$.m9)(C);je(T.auth,y,ai);const L=wo(T.auth,_);return new Ks(T.auth,"linkViaPopup",y,L,T).executeNotNull()})).apply(this,arguments)}let Ks=(()=>{class C extends hu{constructor(_,T,L,Z,ve){super(_,T,Z,ve),this.provider=L,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const T=yield _.execute();return me(T,_.auth,"internal-error"),T})()}onExecution(){var _=this;return(0,l.Z)(function*(){Fe(1===_.filter.length,"Popup operations only handle one event");const T=P();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],T),_.authWindow.associatedEvent=T,_.resolver._originValidation(_.auth).catch(L=>{_.reject(L)}),_.resolver._isIframeWebStorageSupported(_.auth,L=>{L||_.reject(He(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(He(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const _=()=>{var T,L;this.pollId=(null===(L=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===L?void 0:L.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(He(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Ba.get())};_()}}return C.currentPopupAction=null,C})();const Hn=new Map;class Qi extends hu{constructor(y,_,T=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,T),this.eventId=null}execute(){var y=()=>super.execute,_=this;return(0,l.Z)(function*(){let T=Hn.get(_.auth._key());if(!T){try{const Z=(yield function w_(C,y){return ia.apply(this,arguments)}(_.resolver,_.auth))?yield y().call(_):null;T=()=>Promise.resolve(Z)}catch(L){T=()=>Promise.reject(L)}Hn.set(_.auth._key(),T)}return _.bypassAuthState||Hn.set(_.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(y){var _=()=>super.onAuthEvent,T=this;return(0,l.Z)(function*(){if("signInViaRedirect"===y.type)return _().call(T,y);if("unknown"!==y.type){if(y.eventId){const L=yield T.auth._redirectUserForId(y.eventId);if(L)return T.user=L,_().call(T,y);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ia(){return(ia=(0,l.Z)(function*(C,y){const _=F(y),T=M(C);if(!(yield T._isAvailable()))return!1;const L="true"===(yield T._get(_));return yield T._remove(_),L})).apply(this,arguments)}function Al(C,y){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(C,y){return M(C)._set(F(y),"true")})).apply(this,arguments)}function Hg(){Hn.clear()}function A(C,y){Hn.set(C._key(),y)}function M(C){return ue(C._redirectPersistence)}function F(C){return Wt("pendingRedirect",C.config.apiKey,C.name)}function W(C,y,_){return function ce(C,y,_){return be.apply(this,arguments)}(C,y,_)}function be(){return(be=(0,l.Z)(function*(C,y,_){const T=at(C);je(C,y,ai);const L=wo(T,_);return yield Al(L,T),L._openRedirect(T,y,"signInViaRedirect")})).apply(this,arguments)}function ke(C,y,_){return function lt(C,y,_){return Kt.apply(this,arguments)}(C,y,_)}function Kt(){return(Kt=(0,l.Z)(function*(C,y,_){const T=(0,$.m9)(C);je(T.auth,y,ai);const L=wo(T.auth,_);yield Al(L,T.auth);const Z=yield ps(T);return L._openRedirect(T.auth,y,"reauthViaRedirect",Z)})).apply(this,arguments)}function sn(C,y,_){return function An(C,y,_){return Bt.apply(this,arguments)}(C,y,_)}function Bt(){return(Bt=(0,l.Z)(function*(C,y,_){const T=(0,$.m9)(C);je(T.auth,y,ai);const L=wo(T.auth,_);yield Ms(!1,T,y.providerId),yield Al(L,T.auth);const Z=yield ps(T);return L._openRedirect(T.auth,y,"linkViaRedirect",Z)})).apply(this,arguments)}function Pi(C,y){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(C,y){return yield at(C)._initializationPromise,Co(C,y,!1)})).apply(this,arguments)}function Co(C,y){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(C,y,_=!1){const T=at(C),L=wo(T,y),ve=yield new Qi(T,L,_).execute();return ve&&!_&&(delete ve.user._redirectEventId,yield T._persistUserIfCurrent(ve.user),yield T._setRedirectUser(null,y)),ve})).apply(this,arguments)}function ps(C){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(C){const y=P(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class sa{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let _=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(y,T)&&(_=!0,this.sendToConsumer(y,T),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Sl(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ys(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=y,_=!0)),_}sendToConsumer(y,_){var T;if(y.error&&!Ys(y)){const L=(null===(T=y.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";_.onError(He(this.auth,L))}else _.onAuthEvent(y)}isEventForConsumer(y,_){const T=null===_.eventId||!!y.eventId&&y.eventId===_.eventId;return _.filter.includes(y.type)&&T}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gs(y))}saveEventToCache(y){this.cachedEventUids.add(gs(y)),this.lastProcessedEventTime=Date.now()}}function gs(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function Ys({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===(null==y?void 0:y.code)}function Hf(C){return qf.apply(this,arguments)}function qf(){return(qf=(0,l.Z)(function*(C,y={}){return fn(C,"GET","/v1/projects",y)})).apply(this,arguments)}const C_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qa=/^https?/;function zf(){return(zf=(0,l.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield Hf(C);for(const _ of y)try{if(Nw(_))return}catch(T){}ft(C,"unauthorized-domain")})).apply(this,arguments)}function Nw(C){const y=Te(),{protocol:_,hostname:T}=new URL(y);if(C.startsWith("chrome-extension://")){const ve=new URL(C);return""===ve.hostname&&""===T?"chrome-extension:"===_&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===_&&ve.hostname===T}if(!qa.test(_))return!1;if(C_.test(C))return T===C;const L=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(T)}const qg=new pt(3e4,6e4);function zg(){const C=Ue().___jsl;if(null==C?void 0:C.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let _=0;_<C.CP.length;_++)C.CP[_]=null}let gu=null;function $f(C){return gu=gu||function x_(C){return new Promise((y,_)=>{var T,L,Z;function ve(){zg(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{zg(),_(He(C,"network-request-failed"))},timeout:qg.get()})}if(null===(L=null===(T=Ue().gapi)||void 0===T?void 0:T.iframes)||void 0===L?void 0:L.Iframe)y(gapi.iframes.getContext());else{if(!(null===(Z=Ue().gapi)||void 0===Z?void 0:Z.load)){const Qe=Gs("iframefcb");return Ue()[Qe]=()=>{gapi.load?ve():_(He(C,"network-request-failed"))},li(`https://apis.google.com/js/api.js?onload=${Qe}`).catch(Et=>_(Et))}ve()}}).catch(y=>{throw gu=null,y})}(C),gu}const za=new pt(5e3,15e3),vc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ga(C){const y=C.config;me(y.authDomain,C,"auth-domain-config-required");const _=y.emulator?cn(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,T={apiKey:y.apiKey,appName:C.name,v:U.SDK_VERSION},L=E_.get(C.config.apiHost);L&&(T.eid=L);const Z=C._getFrameworks();return Z.length&&(T.fw=Z.join(",")),`${_}?${(0,$.xO)(T).slice(1)}`}function mu(){return mu=(0,l.Z)(function*(C){const y=yield $f(C),_=Ue().gapi;return me(_,C,"internal-error"),y.open({where:document.body,url:Ga(C),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vc,dontclear:!0},T=>new Promise(function(){var L=(0,l.Z)(function*(Z,ve){yield T.restyle({setHideOnLeave:!1});const Qe=He(C,"network-request-failed"),Et=Ue().setTimeout(()=>{ve(Qe)},za.get());function Ht(){Ue().clearTimeout(Et),Z(T)}T.ping(Ht).then(Ht,()=>{ve(Qe)})});return function(Z,ve){return L.apply(this,arguments)}}()))}),mu.apply(this,arguments)}const yu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ah{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function oa(C,y,_,T,L,Z){me(C.config.authDomain,C,"auth-domain-config-required"),me(C.config.apiKey,C,"invalid-api-key");const ve={apiKey:C.config.apiKey,appName:C.name,authType:_,redirectUrl:T,v:U.SDK_VERSION,eventId:L};if(y instanceof ai){y.setDefaultLanguage(C.languageCode),ve.providerId=y.providerId||"",(0,$.xb)(y.getCustomParameters())||(ve.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Et,Ht]of Object.entries(Z||{}))ve[Et]=Ht}if(y instanceof mi){const Et=y.getScopes().filter(Ht=>""!==Ht);Et.length>0&&(ve.scopes=Et.join(","))}C.tenantId&&(ve.tid=C.tenantId);const Qe=ve;for(const Et of Object.keys(Qe))void 0===Qe[Et]&&delete Qe[Et];return`${function Ml({config:C}){return C.emulator?cn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,$.xO)(Qe).slice(1)}`}const bc="webStorageSupport",Gg=class $g{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wr,this._completeRedirectFn=Co,this._overrideRedirectResult=A}_openPopup(y,_,T,L){var Z=this;return(0,l.Z)(function*(){var ve;Fe(null===(ve=Z.eventManagers[y._key()])||void 0===ve?void 0:ve.manager,"_initialize() not called before _openPopup()");const Qe=oa(y,_,T,Te(),L);return function I_(C,y,_,T=500,L=600){const Z=Math.max((window.screen.availHeight-L)/2,0).toString(),ve=Math.max((window.screen.availWidth-T)/2,0).toString();let Qe="";const Et=Object.assign(Object.assign({},yu),{width:T.toString(),height:L.toString(),top:Z,left:ve}),Ht=(0,$.z$)().toLowerCase();_&&(Qe=ze(Ht)?"_blank":_),le(Ht)&&(y=y||"http://localhost",Et.scrollbars="yes");const on=Object.entries(Et).reduce((Qs,[aa,Yf])=>`${Qs}${aa}=${Yf},`,"");if(function gi(C=(0,$.z$)()){var y;return pn(C)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(Ht)&&"_self"!==Qe)return function ud(C,y){const _=document.createElement("a");_.href=C,_.target=y;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(T)}(y||"",Qe),new Ah(null);const sr=window.open(y||"",Qe,on);me(sr,C,"popup-blocked");try{sr.focus()}catch(Qs){}return new Ah(sr)}(y,Qe,P())})()}_openRedirect(y,_,T,L){var Z=this;return(0,l.Z)(function*(){return yield Z._originValidation(y),function St(C){Ue().location.href=C}(oa(y,_,T,Te(),L)),new Promise(()=>{})})()}_initialize(y){const _=y._key();if(this.eventManagers[_]){const{manager:L,promise:Z}=this.eventManagers[_];return L?Promise.resolve(L):(Fe(Z,"If manager is not set, promise should be"),Z)}const T=this.initAndGetManager(y);return this.eventManagers[_]={promise:T},T.catch(()=>{delete this.eventManagers[_]}),T}initAndGetManager(y){var _=this;return(0,l.Z)(function*(){const T=yield function T_(C){return mu.apply(this,arguments)}(y),L=new sa(y);return T.register("authEvent",Z=>(me(null==Z?void 0:Z.authEvent,y,"invalid-auth-event"),{status:L.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[y._key()]={manager:L},_.iframes[y._key()]=T,L})()}_isIframeWebStorageSupported(y,_){this.iframes[y._key()].send(bc,{type:bc},L=>{var Z;const ve=null===(Z=null==L?void 0:L[0])||void 0===Z?void 0:Z[bc];void 0!==ve&&_(!!ve),ft(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const _=y._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function cd(C){return zf.apply(this,arguments)}(y)),this.originValidationPromises[_]}get _shouldInitProactively(){return ti()||oe()||pn()}};class Wg extends class S_{constructor(y){this.factorId=y}_process(y,_,T){switch(_.type){case"enroll":return this._finalizeEnroll(y,_.credential,T);case"signin":return this._finalizeSignIn(y,_.credential);default:return H("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Wg(y)}_finalizeEnroll(y,_,T){return function fc(C,y){return fn(C,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(C,y))}(y,{idToken:_,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,_){return function Zr(C,y){return fn(C,"POST","/v2/accounts/mfaSignIn:finalize",Qt(C,y))}(y,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kg=(()=>{class C{constructor(){}static assertion(_){return Wg._fromCredential(_)}}return C.FACTOR_ID="phone",C})();var Kf="@firebase/auth";class M_{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const _=this.auth.onIdTokenChanged(T=>{var L;y((null===(L=T)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,_),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const _=this.internalListeners.get(y);!_||(this.internalListeners.delete(y),_(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Lw(C=(0,U.getApp)()){const y=(0,U._getProvider)(C,"auth");return y.isInitialized()?y.getImmediate():function pe(C,y){const _=(0,U._getProvider)(C,"auth");if(_.isInitialized()){const L=_.getImmediate(),Z=_.getOptions();if((0,$.vZ)(Z,null!=y?y:{}))return L;ft(L,"already-initialized")}return _.initialize({options:y})}(C,{popupRedirectResolver:Gg,persistence:[Na,Tt,wr]})}!function Sh(C){(0,U._registerComponent)(new Me.wA("auth",(y,{options:_})=>{const T=y.getProvider("app").getImmediate(),L=y.getProvider("heartbeat"),{apiKey:Z,authDomain:ve}=T.options;return((Qe,Et)=>{me(Z&&!Z.includes(":"),"invalid-api-key",{appName:Qe.name}),me(!(null==ve?void 0:ve.includes(":")),"argument-error",{appName:Qe.name});const Ht={apiKey:Z,authDomain:ve,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ur(C)},on=new Zt(Qe,Et,Ht);return function Ce(C,y){const _=(null==y?void 0:y.persistence)||[],T=(Array.isArray(_)?_:[_]).map(ue);(null==y?void 0:y.errorMap)&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(T,null==y?void 0:y.popupRedirectResolver)}(on,_),on})(T,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,_,T)=>{y.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new Me.wA("auth-internal",y=>{const _=at(y.getProvider("auth").getImmediate());return new M_(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(Kf,"0.20.3",function Qg(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,U.registerVersion)(Kf,"0.20.3","esm2017")}("Browser")},2090:(xt,Oe,V)=>{"use strict";V.d(Oe,{BH:()=>ut,LL:()=>Te,ZR:()=>Ce,zI:()=>se,US:()=>Me,tV:()=>Re,L:()=>ge,$s:()=>$t,r3:()=>Qt,Sg:()=>Ge,ne:()=>At,vZ:()=>j,ZB:()=>X,pd:()=>Ye,m9:()=>kn,z$:()=>rt,jU:()=>Ve,ru:()=>ht,d:()=>He,xb:()=>Bn,w1:()=>We,hl:()=>H,uI:()=>st,UG:()=>Ne,b$:()=>ft,G6:()=>me,Mn:()=>je,xO:()=>ne,zd:()=>de,eu:()=>Fe});const _e=function(J){const ie=[];let ae=0;for(let Ze=0;Ze<J.length;Ze++){let K=J.charCodeAt(Ze);K<128?ie[ae++]=K:K<2048?(ie[ae++]=K>>6|192,ie[ae++]=63&K|128):55296==(64512&K)&&Ze+1<J.length&&56320==(64512&J.charCodeAt(Ze+1))?(K=65536+((1023&K)<<10)+(1023&J.charCodeAt(++Ze)),ie[ae++]=K>>18|240,ie[ae++]=K>>12&63|128,ie[ae++]=K>>6&63|128,ie[ae++]=63&K|128):(ie[ae++]=K>>12|224,ie[ae++]=K>>6&63|128,ie[ae++]=63&K|128)}return ie},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,ie){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ae=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ze=[];for(let K=0;K<J.length;K+=3){const he=J[K],Ke=K+1<J.length,Ct=Ke?J[K+1]:0,Ft=K+2<J.length,Gt=Ft?J[K+2]:0;let vr=(15&Ct)<<2|Gt>>6,De=63&Gt;Ft||(De=64,Ke||(vr=64)),Ze.push(ae[he>>2],ae[(3&he)<<4|Ct>>4],ae[vr],ae[De])}return Ze.join("")},encodeString(J,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(J):this.encodeByteArray(_e(J),ie)},decodeString(J,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(J):function(J){const ie=[];let ae=0,Ze=0;for(;ae<J.length;){const K=J[ae++];if(K<128)ie[Ze++]=String.fromCharCode(K);else if(K>191&&K<224){const he=J[ae++];ie[Ze++]=String.fromCharCode((31&K)<<6|63&he)}else if(K>239&&K<365){const Ft=((7&K)<<18|(63&J[ae++])<<12|(63&J[ae++])<<6|63&J[ae++])-65536;ie[Ze++]=String.fromCharCode(55296+(Ft>>10)),ie[Ze++]=String.fromCharCode(56320+(1023&Ft))}else{const he=J[ae++],Ke=J[ae++];ie[Ze++]=String.fromCharCode((15&K)<<12|(63&he)<<6|63&Ke)}}return ie.join("")}(this.decodeStringToByteArray(J,ie))},decodeStringToByteArray(J,ie){this.init_();const ae=ie?this.charToByteMapWebSafe_:this.charToByteMap_,Ze=[];for(let K=0;K<J.length;){const he=ae[J.charAt(K++)],Ct=K<J.length?ae[J.charAt(K)]:0;++K;const Gt=K<J.length?ae[J.charAt(K)]:64;++K;const Wt=K<J.length?ae[J.charAt(K)]:64;if(++K,null==he||null==Ct||null==Gt||null==Wt)throw Error();Ze.push(he<<2|Ct>>4),64!==Gt&&(Ze.push(Ct<<4&240|Gt>>2),64!==Wt&&Ze.push(Gt<<6&192|Wt))}return Ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},ge=function(J){return function(J){const ie=_e(J);return Me.encodeByteArray(ie,!0)}(J).replace(/\./g,"")},Re=function(J){try{return Me.decodeString(J,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function X(J,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return ie}for(const ae in ie)!ie.hasOwnProperty(ae)||!we(ae)||(J[ae]=X(J[ae],ie[ae]));return J}function we(J){return"__proto__"!==J}class ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,ae)=>{this.resolve=ie,this.reject=ae})}wrapCallback(ie){return(ae,Ze)=>{ae?this.reject(ae):this.resolve(Ze),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(ae):ie(ae,Ze))}}}function Ge(J,ie){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ze=ie||"demo-project",K=J.iat||0,he=J.sub||J.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ke=Object.assign({iss:`https://securetoken.google.com/${Ze}`,aud:Ze,iat:K,exp:K+3600,auth_time:K,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},J);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Ke)),""].join(".")}function rt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function Ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(J){return!1}}function Ve(){return"object"==typeof self&&self.self===self}function ht(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function He(){return rt().indexOf("Electron/")>=0}function We(){const J=rt();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function je(){return rt().indexOf("MSAppHost/")>=0}function me(){return!Ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H(){return"object"==typeof indexedDB}function Fe(){return new Promise((J,ie)=>{try{let ae=!0;const Ze="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(Ze);K.onsuccess=()=>{K.result.close(),ae||self.indexedDB.deleteDatabase(Ze),J(!0)},K.onupgradeneeded=()=>{ae=!1},K.onerror=()=>{var he;ie((null===(he=K.error)||void 0===he?void 0:he.message)||"")}}catch(ae){ie(ae)}})}function se(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ce extends Error{constructor(ie,ae,Ze){super(ae),this.code=ie,this.customData=Ze,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Te.prototype.create)}}class Te{constructor(ie,ae,Ze){this.service=ie,this.serviceName=ae,this.errors=Ze}create(ie,...ae){const Ze=ae[0]||{},K=`${this.service}/${ie}`,he=this.errors[ie],Ke=he?function nt(J,ie){return J.replace(Ot,(ae,Ze)=>{const K=ie[Ze];return null!=K?String(K):`<${Ze}?>`})}(he,Ze):"Error";return new Ce(K,`${this.serviceName}: ${Ke} (${K}).`,Ze)}}const Ot=/\{\$([^}]+)}/g;function Qt(J,ie){return Object.prototype.hasOwnProperty.call(J,ie)}function Bn(J){for(const ie in J)if(Object.prototype.hasOwnProperty.call(J,ie))return!1;return!0}function j(J,ie){if(J===ie)return!0;const ae=Object.keys(J),Ze=Object.keys(ie);for(const K of ae){if(!Ze.includes(K))return!1;const he=J[K],Ke=ie[K];if(Q(he)&&Q(Ke)){if(!j(he,Ke))return!1}else if(he!==Ke)return!1}for(const K of Ze)if(!ae.includes(K))return!1;return!0}function Q(J){return null!==J&&"object"==typeof J}function ne(J){const ie=[];for(const[ae,Ze]of Object.entries(J))Array.isArray(Ze)?Ze.forEach(K=>{ie.push(encodeURIComponent(ae)+"="+encodeURIComponent(K))}):ie.push(encodeURIComponent(ae)+"="+encodeURIComponent(Ze));return ie.length?"&"+ie.join("&"):""}function de(J){const ie={};return J.replace(/^\?/,"").split("&").forEach(Ze=>{if(Ze){const[K,he]=Ze.split("=");ie[decodeURIComponent(K)]=decodeURIComponent(he)}}),ie}function Ye(J){const ie=J.indexOf("?");if(!ie)return"";const ae=J.indexOf("#",ie);return J.substring(ie,ae>0?ae:void 0)}function At(J,ie){const ae=new Xe(J,ie);return ae.subscribe.bind(ae)}class Xe{constructor(ie,ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ae,this.task.then(()=>{ie(this)}).catch(Ze=>{this.error(Ze)})}next(ie){this.forEachObserver(ae=>{ae.next(ie)})}error(ie){this.forEachObserver(ae=>{ae.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,ae,Ze){let K;if(void 0===ie&&void 0===ae&&void 0===Ze)throw new Error("Missing Observer.");K=function Un(J,ie){if("object"!=typeof J||null===J)return!1;for(const ae of ie)if(ae in J&&"function"==typeof J[ae])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:ae,complete:Ze},void 0===K.next&&(K.next=zt),void 0===K.error&&(K.error=zt),void 0===K.complete&&(K.complete=zt);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch(Ke){}}),this.observers.push(K),he}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let ae=0;ae<this.observers.length;ae++)this.sendOne(ae,ie)}sendOne(ie,ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{ae(this.observers[ie])}catch(Ze){"undefined"!=typeof console&&console.error&&console.error(Ze)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zt(){}function $t(J,ie=1e3,ae=2){const Ze=ie*Math.pow(ae,J),K=Math.round(.5*Ze*(Math.random()-.5)*2);return Math.min(144e5,Ze+K)}function kn(J){return J&&J._delegate?J._delegate:J}},1681:(xt,Oe,V)=>{"use strict";var l=V(5e3);let $=null;function U(){return $}const Pe=new l.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Re(){return(0,l.LFG)(X)}()},providedIn:"platform"}),n})();const ee=new l.OlP("Location Initialized");let X=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(t){const r=U().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=U().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){we()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){we()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ut(){return new X((0,l.LFG)(Pe))}()},providedIn:"platform"}),n})();function we(){return!!window.history.pushState}function Ge(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function rt(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function st(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ve(n){const e=(0,l.LFG)(Pe).location;return new ft((0,l.LFG)(ge),e&&e.origin||"")}()},providedIn:"root"}),n})();const ht=new l.OlP("appBaseHref");let ft=(()=>{class n extends Ne{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ge(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+st(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const c=this.prepareExternalUrl(i+st(s));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){const c=this.prepareExternalUrl(i+st(s));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(ht,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n extends Ne{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ge(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let c=this.prepareExternalUrl(i+st(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){let c=this.prepareExternalUrl(i+st(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(ht,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=rt(me(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+st(r))}normalize(t){return n.stripTrailingSlash(function gt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,me(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+st(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+st(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=st,n.joinWithSlash=Ge,n.stripTrailingSlash=rt,n.\u0275fac=function(t){return new(t||n)(l.LFG(Ne),l.LFG(ge))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function je(){return new We((0,l.LFG)(Ne),(0,l.LFG)(ge))}()},providedIn:"root"}),n})();function me(n){return n.replace(/\/index.html$/,"")}const H={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Fe=(()=>((Fe=Fe||{})[Fe.Decimal=0]="Decimal",Fe[Fe.Percent=1]="Percent",Fe[Fe.Currency=2]="Currency",Fe[Fe.Scientific=3]="Scientific",Fe))(),Te=(()=>((Te=Te||{})[Te.Decimal=0]="Decimal",Te[Te.Group=1]="Group",Te[Te.List=2]="List",Te[Te.PercentSign=3]="PercentSign",Te[Te.PlusSign=4]="PlusSign",Te[Te.MinusSign=5]="MinusSign",Te[Te.Exponential=6]="Exponential",Te[Te.SuperscriptingExponent=7]="SuperscriptingExponent",Te[Te.PerMille=8]="PerMille",Te[Te.Infinity=9]="Infinity",Te[Te.NaN=10]="NaN",Te[Te.TimeSeparator=11]="TimeSeparator",Te[Te.CurrencyDecimal=12]="CurrencyDecimal",Te[Te.CurrencyGroup=13]="CurrencyGroup",Te))();function Bn(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(void 0===r){if(e===Te.CurrencyDecimal)return t[l.wAp.NumberSymbols][Te.Decimal];if(e===Te.CurrencyGroup)return t[l.wAp.NumberSymbols][Te.Group]}return r}function z(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}const Jt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ha(n,e,t,r,i,s,c=!1){let d="",f=!1;if(isFinite(n)){let g=function Es(n){let r,i,s,c,d,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(d=e.length))r=[0],i=1;else{for(d--;"0"===e.charAt(d);)d--;for(i-=s,r=[],c=0;s<=d;s++,c++)r[c]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(g=function oi(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(g));let v=e.minInt,w=e.minFrac,S=e.maxFrac;if(s){const ye=s.match(Jt);if(null===ye)throw new Error(`${s} is not a valid digit info`);const Le=ye[1],xe=ye[3],Ie=ye[5];null!=Le&&(v=Zi(Le)),null!=xe&&(w=Zi(xe)),null!=Ie?S=Zi(Ie):null!=xe&&w>S&&(S=w)}!function mr(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let c=s+n.integerLen,d=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let w=c;w<r.length;w++)r[w]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=s+1),r[0]=0;for(let w=1;w<c;w++)r[w]=0}if(d>=5)if(c-1<0){for(let w=0;w>c;w--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,s);i++)r.push(0);let f=0!==s;const g=e+n.integerLen,v=r.reduceRight(function(w,S,k,R){return R[k]=(S+=w)<10?S:S-10,f&&(0===R[k]&&k>=g?R.pop():f=!1),S>=10?1:0},0);v&&(r.unshift(v),n.integerLen++)}(g,w,S);let k=g.digits,R=g.integerLen;const B=g.exponent;let G=[];for(f=k.every(ye=>!ye);R<v;R++)k.unshift(0);for(;R<0;R++)k.unshift(0);R>0?G=k.splice(R,k.length):(G=k,k=[0]);const te=[];for(k.length>=e.lgSize&&te.unshift(k.splice(-e.lgSize,k.length).join(""));k.length>e.gSize;)te.unshift(k.splice(-e.gSize,k.length).join(""));k.length&&te.unshift(k.join("")),d=te.join(Bn(t,r)),G.length&&(d+=Bn(t,i)+G.join("")),B&&(d+=Bn(t,Te.Exponential)+"+"+B)}else d=Bn(t,Te.Infinity);return d=n<0&&!f?e.negPre+d+e.negSuf:e.posPre+d+e.posSuf,d}function Kn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],d=c[0],f=c[1]||"";t.posPre=d.substr(0,d.indexOf("#"));for(let v=0;v<f.length;v++){const w=f.charAt(v);"0"===w?t.minFrac=t.maxFrac=v+1:"#"===w?t.maxFrac=v+1:t.posSuf+=w}const g=d.split(",");if(t.gSize=g[1]?g[1].length:0,t.lgSize=g[2]||g[1]?(g[2]||g[1]).length:0,s){const v=i.length-t.posPre.length-t.posSuf.length,w=s.indexOf("#");t.negPre=s.substr(0,w).replace(/'/g,""),t.negSuf=s.substr(w+v).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function Zi(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function co(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let Ts=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Zo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Zo(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const d=r.get(s);r.move(d,c),Bs(d,i)}});for(let i=0,s=r.length;i<s;i++){const d=r.get(i).context;d.index=i,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Bs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Bs(n,e){n.context.$implicit=e.item}let tr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Pn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Kc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Kc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Pn{constructor(){this.$implicit=null,this.ngIf=null}}function Kc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let us=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function br(n,e){return new l.vHH(2100,"")}class rc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Ju{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Ds=new Ju,mh=new rc;let fa=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return Ds;if((0,l.F4k)(t))return mh;throw br()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1}),n})(),ai=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!ma(t))return null;i=i||this._locale;try{return function dn(n,e,t){return ha(n,Kn(z(e,Fe.Decimal),Bn(e,Te.MinusSign)),e,Te.Group,Te.Decimal,t)}(ya(t),i,r)}catch(s){throw br()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"number",type:n,pure:!0}),n})(),mi=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!ma(t))return null;i=i||this._locale;try{return function at(n,e,t){return ha(n,Kn(z(e,Fe.Percent),Bn(e,Te.MinusSign)),e,Te.Group,Te.Decimal,t,!0).replace(new RegExp("%","g"),Bn(e,Te.PercentSign))}(ya(t),i,r)}catch(s){throw br()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"percent",type:n,pure:!0}),n})(),ho=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",s,c){if(!ma(t))return null;c=c||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let d=r||this._defaultCurrencyCode;"code"!==i&&(d="symbol"===i||"symbol-narrow"===i?function Fr(n,e,t="en"){const r=function de(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||H[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(d,"symbol"===i?"wide":"narrow",c):i);try{return function Zt(n,e,t,r,i){const c=Kn(z(e,Fe.Currency),Bn(e,Te.MinusSign));return c.minFrac=function Jr(n){let e;const t=H[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),c.maxFrac=c.minFrac,ha(n,c,e,Te.CurrencyGroup,Te.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}(ya(t),c,d,r,s)}catch(f){throw br()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0}),n})();function ma(n){return!(null==n||""===n||n!=n)}function ya(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let ds=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Jc="browser";function Vr(n){return n===Jc}function yr(n){return"server"===n}let hl=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new fl((0,l.LFG)(Pe),window)}),n})();class fl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ss(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=sc(this.window.history)||sc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function sc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class jn{}class Ms extends class fo extends class Me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ee(n){$||($=n)}(new Ms)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function pl(){return Rn=Rn||document.querySelector("base"),Rn?Rn.getAttribute("href"):null}();return null==t?null:function zi(n){_a=_a||document.createElement("a"),_a.setAttribute("href",n);const e=_a.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return co(document.cookie,e)}}let _a,Rn=null;const Br=new l.OlP("TRANSITION_ID"),or=[{provide:l.ip1,useFactory:function va(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=U(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Br,Pe,l.zs3],multi:!0}];class ks{static init(){(0,l.VLi)(new ks)}addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let s=i.length,c=!1;const d=function(f){c=c||f,s--,0==s&&r(c)};i.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?U().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ir=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const $o=new l.OlP("EventManagerPlugins");let Si=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const c=i[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($o),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class gl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=U().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let yi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Hs=(()=>{class n extends yi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(qs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(qs))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function qs(n){U().remove(n)}const Vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ba=/%COMP%/g;function $e(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?$e(n,i,t):(i=i.replace(ba,n),t.push(i))}return t}function rn(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ar=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new zs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ml(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new lc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=$e(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Si),l.LFG(Hs),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class zs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Vt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Vt[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Vt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,rn(r)):this.eventManager.addEventListener(e,t,rn(r))}}class ml extends zs{constructor(e,t,r,i){super(e),this.component=r;const s=$e(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function xa(n){return"_ngcontent-%COMP%".replace(ba,n)}(i+"-"+r.id),this.hostAttr=function td(n){return"_nghost-%COMP%".replace(ba,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class lc extends zs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$e(i.id,i.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nu=(()=>{class n extends gl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ru=["alt","control","meta","shift"],Ko={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$i={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let cc=(()=>{class n extends gl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let c="";if(ru.forEach(f=>{const g=r.indexOf(f);g>-1&&(r.splice(g,1),c+=f+".")}),c+=s,0!=r.length||0===s.length)return null;const d={};return d.domEventName=i,d.fullKey=c,d}static getEventFullKey(t){let r="",i=function fs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Dr.hasOwnProperty(e)&&(e=Dr[e]))}return Ko[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ru.forEach(s=>{s!=i&&$i[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const dc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Jc},{provide:l.g9A,useValue:function Os(){Ms.makeCurrent(),ks.init()},multi:!0},{provide:Pe,useFactory:function uc(){return(0,l.RDi)(document),document},deps:[]}]),go=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ia(){return new l.qLn},deps:[]},{provide:$o,useClass:nu,multi:!0,deps:[Pe,l.R0b,l.Lbi]},{provide:$o,useClass:cc,multi:!0,deps:[Pe]},{provide:ar,useClass:ar,deps:[Si,Hs,l.AFp]},{provide:l.FYo,useExisting:ar},{provide:yi,useExisting:Hs},{provide:Hs,useClass:Hs,deps:[Pe]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Si,useClass:Si,deps:[$o,l.R0b]},{provide:jn,useClass:Ir,deps:[]}];let hc=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Br,useExisting:l.AFp},or]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:go,imports:[ds,l.hGG]}),n})();"undefined"!=typeof window&&window;var Yn=V(8996),bl=V(3269);function Tt(...n){const e=(0,bl.yG)(n);return(0,Yn.D)(n,e)}var Wi=V(7579);class wr extends Wi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var E=V(8306);const{isArray:I}=Array,{getPrototypeOf:P,prototype:Y,keys:Ue}=Object;function St(n){if(1===n.length){const e=n[0];if(I(e))return{args:e,keys:null};if(function Zn(n){return n&&"object"==typeof n&&P(n)===Y}(e)){const t=Ue(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Sr=V(4671),Dt=V(4004);const{isArray:yo}=Array;function au(n){return(0,Dt.U)(e=>function wl(n,e){return yo(e)?n(...e):n(e)}(n,e))}function xh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var nr=V(5403),lu=V(9672);function Ki(n,e,t){n?(0,lu.f)(t,n,e):e()}var vi=V(576);function ea(n,e){const t=(0,vi.m)(n)?n:()=>n,r=i=>i.error(t());return new E.y(e?i=>e.schedule(r,0,i):r)}const Cl=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ta=V(8189);function Oa(...n){return function xl(){return(0,ta.J)(1)}()((0,Yn.D)(n,(0,bl.yG)(n)))}var Pa=V(8421);function Ra(n){return new E.y(e=>{(0,Pa.Xf)(n()).subscribe(e)})}var Na=V(515),ad=V(727),Zr=V(4482);function La(){return(0,Zr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,nr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Fa extends E.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Zr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ad.w0;const t=this.getSubject();e.add(this.source.subscribe((0,nr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ad.w0.EMPTY)}return e}refCount(){return La()(this)}}function cr(n,e){return(0,Zr.e)((t,r)=>{let i=null,s=0,c=!1;const d=()=>c&&!i&&r.complete();t.subscribe((0,nr.x)(r,f=>{null==i||i.unsubscribe();let g=0;const v=s++;(0,Pa.Xf)(n(f,v)).subscribe(i=(0,nr.x)(r,w=>r.next(e?e(f,w,v,g++):w),()=>{i=null,d()}))},()=>{c=!0,d()}))})}var li=V(5698);function Gs(...n){const e=(0,bl.yG)(n);return(0,Zr.e)((t,r)=>{(e?Oa(n,t,e):Oa(n,t)).subscribe(r)})}function na(n,e,t,r,i){return(s,c)=>{let d=t,f=e,g=0;s.subscribe((0,nr.x)(c,v=>{const w=g++;f=d?n(f,v,w):(d=!0,v),r&&c.next(f)},i&&(()=>{d&&c.next(f),c.complete()})))}}function Ws(n,e){return(0,Zr.e)(na(n,e,arguments.length>=2,!0))}function _r(n,e){return(0,Zr.e)((t,r)=>{let i=0;t.subscribe((0,nr.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}function vo(n){return(0,Zr.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,nr.x)(t,void 0,void 0,c=>{s=(0,Pa.Xf)(n(c,vo(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}var ur=V(5577);function El(n,e){return(0,vi.m)(e)?(0,ur.z)(n,e,1):(0,ur.z)(n,1)}function Ua(n){return n<=0?()=>Na.E:(0,Zr.e)((e,t)=>{let r=[];e.subscribe((0,nr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Cr(n=Bg){return(0,Zr.e)((e,t)=>{let r=!1;e.subscribe((0,nr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Bg(){return new Cl}function jg(n){return(0,Zr.e)((e,t)=>{let r=!1;e.subscribe((0,nr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Tl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_r((i,s)=>n(i,s,r)):Sr.y,(0,li.q)(1),t?jg(e):Cr(()=>new Cl))}var bi=V(8505);function cu(n){return(0,Zr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class ra{constructor(e,t){this.id=e,this.url=t}}class Va extends ra{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Il extends ra{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mr extends ra{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pc extends ra{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gc extends ra{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bf extends ra{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jf extends ra{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ki extends ra{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi extends ra{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mc{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bo{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wo{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _c{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ld{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const yn="primary";class du{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hr(n){return new du(n)}const hu="ngNavigationCancelingError";function Ba(n){const e=Error("NavigationCancelingError: "+n);return e[hu]=!0,e}function fu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],d=n[s];if(c.startsWith(":"))i[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Yi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Eh(n[i],e[i]))return!1;return!0}function Eh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function pu(n){return Array.prototype.concat.apply([],n)}function Ks(n){return n.length>0?n[n.length-1]:null}function Hn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Qi(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Yn.D)(Promise.resolve(n)):Tt(n)}const ia={exact:function A(n,e,t){if(!sn(n.segments,e.segments)||!ce(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!A(n.children[r],e.children[r],t))return!1;return!0},subset:F},Al={exact:function Hg(n,e){return Yi(n,e)},subset:function M(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Eh(n[t],e[t]))},ignored:()=>!0};function ja(n,e,t){return ia[t.paths](n.root,e.root,t.matrixParams)&&Al[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function F(n,e,t){return W(n,e,e.segments,t)}function W(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!sn(i,t)||e.hasChildren()||!ce(i,t,r))}if(n.segments.length===t.length){if(!sn(n.segments,t)||!ce(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!F(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(sn(n.segments,i)&&ce(n.segments,i,r)&&n.children[yn])&&W(n.children[yn],e,s,r)}}function ce(n,e,t){return e.every((r,i)=>Al[t](n[i].parameters,r.parameters))}class be{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hr(this.queryParams)),this._queryParamMap}toString(){return wi.serialize(this)}}class ke{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Hn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Co(this)}}class lt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hr(this.parameters)),this._parameterMap}toString(){return Sl(this)}}function sn(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Bt{}class Pi{parse(e){const t=new zg(e);return new be(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ri(e.root,!0)}`,r=function qf(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Za(t)}=${Za(i)}`).join("&"):`${Za(t)}=${Za(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ha(n){return encodeURI(n)}(e.fragment)}`:""}`}}const wi=new Pi;function Co(n){return n.segments.map(e=>Sl(e)).join("/")}function Ri(n,e){if(!n.hasChildren())return Co(n);if(e){const t=n.children[yn]?Ri(n.children[yn],!1):"",r=[];return Hn(n.children,(i,s)=>{s!==yn&&r.push(`${s}:${Ri(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function An(n,e){let t=[];return Hn(n.children,(r,i)=>{i===yn&&(t=t.concat(e(r,i)))}),Hn(n.children,(r,i)=>{i!==yn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===yn?[Ri(n.children[yn],!1)]:[`${i}:${Ri(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yn]?`${Co(n)}/${t[0]}`:`${Co(n)}/(${t.join("//")})`}}function ps(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Za(n){return ps(n).replace(/%3B/gi,";")}function sa(n){return ps(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gs(n){return decodeURIComponent(n)}function Ys(n){return gs(n.replace(/\+/g,"%20"))}function Sl(n){return`${sa(n.path)}${function Hf(n){return Object.keys(n).map(e=>`;${sa(e)}=${sa(n[e])}`).join("")}(n.parameters)}`}const C_=/^[^\/()?;=#]+/;function qa(n){const e=n.match(C_);return e?e[0]:""}const cd=/^[^=?&#]+/,Nw=/^[^&#]+/;class zg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[yn]=new ke(e,t)),r}parseSegment(){const e=qa(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new lt(gs(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qa(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=qa(this.remaining);i&&(r=i,this.capture(r))}e[gs(t)]=gs(r)}parseQueryParam(e){const t=function zf(n){const e=n.match(cd);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function qg(n){const e=n.match(Nw);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Ys(t),s=Ys(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qa(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=yn);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[yn]:new ke([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class x_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gu(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gu(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$f(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $f(e,this._root).map(t=>t.value)}}function gu(n,e){if(n===e.value)return e;for(const t of e.children){const r=gu(n,t);if(r)return r}return null}function $f(n,e){if(n===e.value)return[e];for(const t of e.children){const r=$f(n,t);if(r.length)return r.unshift(e),r}return[]}class za{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function $a(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Th extends x_{constructor(e,t){super(e),this.snapshot=t,Ih(this,e)}toString(){return this.snapshot.toString()}}function vc(n,e){const t=function E_(n,e){const c=new yu([],{},{},"",{},yn,e,null,n.root,-1,{});return new Gf("",new za(c,[]))}(n,e),r=new wr([new lt("",{})]),i=new wr({}),s=new wr({}),c=new wr({}),d=new wr(""),f=new Ga(r,i,c,d,s,yn,e,t.root);return f.snapshot=t.root,new Th(new za(f,[]),t)}class Ga{constructor(e,t,r,i,s,c,d,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=d,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>Hr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>Hr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function T_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function mu(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class yu{constructor(e,t,r,i,s,c,d,f,g,v,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=d,this.routeConfig=f,this._urlSegment=g,this._lastPathIndex=v,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gf extends x_{constructor(e,t){super(t),this.url=e,Ih(this,t)}toString(){return Wf(this._root)}}function Ih(n,e){e.value._routerState=n,e.children.forEach(t=>Ih(n,t))}function Wf(n){const e=n.children.length>0?` { ${n.children.map(Wf).join(", ")} } `:"";return`${n.value}${e}`}function Dh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Yi(e.params,t.params)||n.params.next(t.params),function Dl(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Yi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ah(n,e){const t=Yi(n.params,e.params)&&function Kt(n,e){return sn(n,e)&&n.every((t,r)=>Yi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ah(n.parent,e.parent))}function ud(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function D_(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ud(n,r,i);return ud(n,r)})}(n,e,t);return new za(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(d=>ud(n,d)),c}}const r=function A_(n){return new Ga(new wr(n.url),new wr(n.params),new wr(n.queryParams),new wr(n.fragment),new wr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>ud(n,s));return new za(r,i)}}function Ml(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function bc(n){return"object"==typeof n&&null!=n&&n.outlets}function $g(n,e,t,r,i){let s={};if(r&&Hn(r,(d,f)=>{s[f]=Array.isArray(d)?d.map(g=>`${g}`):`${d}`}),n===e)return new be(t,s,i);const c=Gg(n,e,t);return new be(c,s,i)}function Gg(n,e,t){const r={};return Hn(n.children,(i,s)=>{r[s]=i===e?t:Gg(i,e,t)}),new ke(n.segments,r)}class S_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ml(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(bc);if(i&&i!==Ks(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Qg(n,e,t){if(n||(n=new ke([],{})),0===n.segments.length&&n.hasChildren())return Sh(n,e,t);const r=function Lw(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const c=n.segments[i],d=t[r];if(bc(d))break;const f=`${d}`,g=r<t.length-1?t[r+1]:null;if(i>0&&void 0===f)break;if(f&&g&&"object"==typeof g&&void 0===g.outlets){if(!T(f,g,c))return s;r+=2}else{if(!T(f,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ke(n.segments.slice(0,r.pathIndex),{});return s.children[yn]=new ke(n.segments.slice(r.pathIndex),n.children),Sh(s,0,i)}return r.match&&0===i.length?new ke(n.segments,{}):r.match&&!n.hasChildren()?C(n,e,t):r.match?Sh(n,0,i):C(n,e,t)}function Sh(n,e,t){if(0===t.length)return new ke(n.segments,{});{const r=function M_(n){return bc(n[0])?n[0].outlets:{[yn]:n}}(t),i={};return Hn(r,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[c]=Qg(n.children[c],e,s))}),Hn(n.children,(s,c)=>{void 0===r[c]&&(i[c]=s)}),new ke(n.segments,i)}}function C(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(bc(s)){const f=y(s.outlets);return new ke(r,f)}if(0===i&&Ml(t[0])){r.push(new lt(n.segments[e].path,_(t[0]))),i++;continue}const c=bc(s)?s.outlets[yn]:`${s}`,d=i<t.length-1?t[i+1]:null;c&&d&&Ml(d)?(r.push(new lt(c,_(d))),i+=2):(r.push(new lt(c,{})),i++)}return new ke(r,{})}function y(n){const e={};return Hn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=C(new ke([],{}),0,t))}),e}function _(n){const e={};return Hn(n,(t,r)=>e[r]=`${t}`),e}function T(n,e,t){return n==t.path&&Yi(e,t.parameters)}class Z{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Dh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=$a(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),Hn(i,(s,c)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=$a(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=$a(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=$a(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new _c(s.value.snapshot))}),e.children.length&&this.forwardEvent(new uu(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Dh(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const d=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),Dh(d.route.value),this.activateChildRoutes(e,null,c.children)}else{const d=function ve(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),f=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=f,c.outlet&&c.outlet.activateWith(i,f),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Qe{constructor(e,t){this.routes=e,this.module=t}}function Et(n){return"function"==typeof n}function on(n){return n instanceof be}const dd=Symbol("INITIAL_VALUE");function kl(){return cr(n=>function _o(...n){const e=(0,bl.yG)(n),t=(0,bl.jO)(n),{args:r,keys:i}=St(n);if(0===r.length)return(0,Yn.D)([],e);const s=new E.y(function Ma(n,e,t=Sr.y){return r=>{Ki(e,()=>{const{length:i}=n,s=new Array(i);let c=i,d=i;for(let f=0;f<i;f++)Ki(e,()=>{const g=(0,Yn.D)(n[f],e);let v=!1;g.subscribe((0,nr.x)(r,w=>{s[f]=w,v||(v=!0,d--),d||r.next(t(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>xh(i,c):Sr.y));return t?s.pipe(au(t)):s}(n.map(e=>e.pipe((0,li.q)(1),Gs(dd)))).pipe(Ws((e,t)=>{let r=!1;return t.reduce((i,s,c)=>i!==dd?i:(s===dd&&(r=!0),r||!1!==s&&c!==t.length-1&&!on(s)?i:s),e)},dd),_r(e=>e!==dd),(0,Dt.U)(e=>on(e)?e:!0===e),(0,li.q)(1)))}class Jg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _u,this.attachRef=null}}class _u{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Jg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let hd=(()=>{class n{constructor(t,r,i,s,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=s||yn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,f=new Xg(t,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_u),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Xg{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ga?this.route:e===_u?this.childContexts:this.parent.get(e,t)}}let Mh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[hd],encapsulation:2}),n})();function wc(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];em(r,Qf(e,r))}}function em(n,e){n.children&&wc(n.children,e)}function Qf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function fd(n){const e=n.children&&n.children.map(fd),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==yn&&(t.component=Mh),t}function qn(n){return n.outlet||yn}function Fw(n,e){const t=n.filter(r=>qn(r)===e);return t.push(...n.filter(r=>qn(r)!==e)),t}const Uw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Uw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||fu)(t,n,e);if(!s)return Object.assign({},Uw);const c={};Hn(s.posParams,(f,g)=>{c[g]=f.path});const d=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:d,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Jf(n,e,t,r,i="corrected"){if(t.length>0&&function IT(n,e,t){return t.some(r=>tm(n,e,r)&&qn(r)!==yn)}(n,t,r)){const c=new ke(e,function TT(n,e,t,r){const i={};i[yn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&qn(s)!==yn){const c=new ke([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[qn(s)]=c}return i}(n,e,r,new ke(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function DT(n,e,t){return t.some(r=>tm(n,e,r))}(n,t,r)){const c=new ke(n.segments,function ET(n,e,t,r,i,s){const c={};for(const d of r)if(tm(n,t,d)&&!i[qn(d)]){const f=new ke([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[qn(d)]=f}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new ke(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function tm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function AT(n,e,t,r){return!!(qn(n)===r||r!==yn&&tm(e,t,n))&&("**"===n.path||kh(e,n,t).matched)}function ST(n,e,t){return 0===e.length&&!n.children[t]}class vu{constructor(e){this.segmentGroup=e||null}}class ms{constructor(e){this.urlTree=e}}function pd(n){return ea(new vu(n))}function k_(n){return ea(new ms(n))}class O_{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=Jf(this.urlTree.root,[],[],this.config).segmentGroup,t=new ke(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,yn).pipe((0,Dt.U)(s=>this.createUrlTree(P_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vo(s=>{if(s instanceof ms)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof vu?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,yn).pipe((0,Dt.U)(i=>this.createUrlTree(P_(i),e.queryParams,e.fragment))).pipe(vo(i=>{throw i instanceof vu?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ke([],{[yn]:e}):e;return new be(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(s=>new ke([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,Yn.D)(i).pipe(El(s=>{const c=r.children[s],d=Fw(t,s);return this.expandSegmentGroup(e,d,c,s).pipe((0,Dt.U)(f=>({segment:f,outlet:s})))}),Ws((s,c)=>(s[c.outlet]=c.segment,s),{}),function b_(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_r((i,s)=>n(i,s,r)):Sr.y,Ua(1),t?jg(e):Cr(()=>new Cl))}())}expandSegment(e,t,r,i,s,c){return(0,Yn.D)(r).pipe(El(d=>this.expandSegmentAgainstRoute(e,t,r,d,i,s,c).pipe(vo(g=>{if(g instanceof vu)return Tt(null);throw g}))),Tl(d=>!!d),vo((d,f)=>{if(d instanceof Cl||"EmptyError"===d.name)return ST(t,i,s)?Tt(new ke([],{})):pd(t);throw d}))}expandSegmentAgainstRoute(e,t,r,i,s,c,d){return AT(i,t,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c):pd(t):pd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?k_(s):this.lineralizeSegments(r,s).pipe((0,ur.z)(c=>{const d=new ke(c,{});return this.expandSegment(e,d,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){const{matched:d,consumedSegments:f,remainingSegments:g,positionalParamSegments:v}=kh(t,i,s);if(!d)return pd(t);const w=this.applyRedirectCommands(f,i.redirectTo,v);return i.redirectTo.startsWith("/")?k_(w):this.lineralizeSegments(i,w).pipe((0,ur.z)(S=>this.expandSegment(e,t,r,S.concat(g),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Tt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Dt.U)(w=>(r._loadedConfig=w,new ke(i,{})))):Tt(new ke(i,{}));const{matched:c,consumedSegments:d,remainingSegments:f}=kh(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,ur.z)(v=>{const w=v.module,S=v.routes,{segmentGroup:k,slicedSegments:R}=Jf(t,d,f,S),B=new ke(k.segments,k.children);if(0===R.length&&B.hasChildren())return this.expandChildren(w,S,B).pipe((0,Dt.U)(Le=>new ke(d,Le)));if(0===S.length&&0===R.length)return Tt(new ke(d,{}));const G=qn(r)===s;return this.expandSegment(w,B,S,R,G?yn:s,!0).pipe((0,Dt.U)(ye=>new ke(d.concat(ye.segments),ye.children)))})):pd(t)}getChildConfig(e,t,r){return t.children?Tt(new Qe(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Tt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,ur.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Dt.U)(s=>(t._loadedConfig=s,s))):function ys(n){return ea(Ba(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Tt(new Qe([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Tt(i.map(c=>{const d=e.get(c);let f;if(function sr(n){return n&&Et(n.canLoad)}(d))f=d.canLoad(t,r);else{if(!Et(d))throw new Error("Invalid CanLoad guard");f=d(t,r)}return Qi(f)})).pipe(kl(),(0,bi.b)(c=>{if(!on(c))return;const d=Ba(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),(0,Dt.U)(c=>!0===c)):Tt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Tt(r);if(i.numberOfChildren>1||!i.children[yn])return ea(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[yn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new be(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Hn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const d=i.substring(1);r[s]=t[d]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let c={};return Hn(t.children,(d,f)=>{c[f]=this.createSegmentGroup(e,d,r,i)}),new ke(s,c)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function P_(n){const e={};for(const r of Object.keys(n.children)){const s=P_(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function MT(n){if(1===n.numberOfChildren&&n.children[yn]){const e=n.children[yn];return new ke(n.segments.concat(e.segments),e.children)}return n}(new ke(n.segments,e))}class jw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ep{constructor(e,t){this.component=e,this.route=t}}function kT(n,e,t){const r=n._root;return gd(r,e?e._root:null,t,[r.value])}function nm(n,e,t){const r=function OT(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function gd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=$a(e);return n.children.forEach(c=>{(function PT(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const f=function RT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!sn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!sn(n.url,e.url)||!Yi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ah(n,e)||!Yi(n.queryParams,e.queryParams);default:return!Ah(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);f?i.canActivateChecks.push(new jw(r)):(s.data=c.data,s._resolvedData=c._resolvedData),gd(n,e,s.component?d?d.children:null:t,r,i),f&&d&&d.outlet&&d.outlet.isActivated&&i.canDeactivateChecks.push(new ep(d.outlet.component,c))}else c&&md(e,d,i),i.canActivateChecks.push(new jw(r)),gd(n,null,s.component?d?d.children:null:t,r,i)})(c,s[c.value.outlet],t,r.concat([c.value]),i),delete s[c.value.outlet]}),Hn(s,(c,d)=>md(c,t.getContext(d),i)),i}function md(n,e,t){const r=$a(n),i=n.value;Hn(r,(s,c)=>{md(s,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new ep(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Hw{}function qw(n){return new E.y(e=>e.error(n))}class HT{constructor(e,t,r,i,s,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const e=Jf(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,yn);if(null===t)return null;const r=new yu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},yn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new za(r,t),s=new Gf(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=T_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const c=t.children[s],d=Fw(e,s),f=this.processSegmentGroup(d,c,s);if(null===f)return null;r.push(...f)}const i=zw(r);return function qT(n){n.sort((e,t)=>e.value.outlet===yn?-1:t.value.outlet===yn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const c=this.processSegmentAgainstRoute(s,t,r,i);if(null!==c)return c}return ST(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!AT(e,t,r,i))return null;let s,c=[],d=[];if("**"===e.path){const k=r.length>0?Ks(r).parameters:{};s=new yu(r,k,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,GT(e),qn(e),e.component,e,yd(t),Wa(t)+r.length,WT(e))}else{const k=kh(t,e,r);if(!k.matched)return null;c=k.consumedSegments,d=k.remainingSegments,s=new yu(c,k.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,GT(e),qn(e),e.component,e,yd(t),Wa(t)+c.length,WT(e))}const f=function zT(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:g,slicedSegments:v}=Jf(t,c,d,f.filter(k=>void 0===k.redirectTo),this.relativeLinkResolution);if(0===v.length&&g.hasChildren()){const k=this.processChildren(f,g);return null===k?null:[new za(s,k)]}if(0===f.length&&0===v.length)return[new za(s,[])];const w=qn(e)===i,S=this.processSegment(f,g,v,w?yn:i);return null===S?null:[new za(s,S)]}}function $T(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function zw(n){const e=[],t=new Set;for(const r of n){if(!$T(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=zw(r.children);e.push(new za(r.value,i))}return e.filter(r=>!t.has(r))}function yd(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Wa(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function GT(n){return n.data||{}}function WT(n){return n.resolve||{}}function im(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function sm(n){return cr(e=>{const t=n(e);return t?(0,Yn.D)(t).pipe((0,Dt.U)(()=>e)):Tt(e)})}class Ww extends class Gw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const np=new l.OlP("ROUTES");class om{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Dt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=s.create(e);return new Qe(pu(c.injector.get(np,void 0,l.XFs.Self|l.XFs.Optional)).map(fd),c)}),vo(s=>{throw t._loader$=void 0,s}));return t._loader$=new Fa(i,()=>new Wi.x).pipe(La()),t._loader$}loadModuleFactory(e){return Qi(e()).pipe((0,ur.z)(t=>t instanceof l.YKP?Tt(t):(0,Yn.D)(this.compiler.compileModuleAsync(t))))}}class ak{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Oh(n){throw n}function N_(n,e,t){return e.parse("/")}function L_(n,e){return Tt(null)}const YT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gr=(()=>{class n{constructor(t,r,i,s,c,d,f){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Wi.x,this.errorHandler=Oh,this.malformedUriErrorHandler=N_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:L_,afterPreactivation:L_},this.urlHandlingStrategy=new ak,this.routeReuseStrategy=new Ww,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(l.h0i),this.console=c.get(l.c2e);const w=c.get(l.R0b);this.isNgZoneEnabled=w instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function w_(){return new be(new ke([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new om(c,d,S=>this.triggerEvent(new mc(S)),S=>this.triggerEvent(new yc(S))),this.routerState=vc(this.currentUrlTree,this.rootComponentType),this.transitions=new wr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(_r(i=>0!==i.id),(0,Dt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),cr(i=>{let s=!1,c=!1;return Tt(i).pipe((0,bi.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),cr(d=>{const f=this.browserUrlTree.toString(),g=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||g)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Yw(d.source)&&(this.browserUrlTree=d.extractedUrl),Tt(d).pipe(cr(w=>{const S=this.transitions.getValue();return r.next(new Va(w.id,this.serializeUrl(w.extractedUrl),w.source,w.restoredState)),S!==this.transitions.getValue()?Na.E:Promise.resolve(w)}),function Bw(n,e,t,r){return cr(i=>function Xf(n,e,t,r,i){return new O_(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Dt.U)(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bi.b)(w=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:w.urlAfterRedirects})}),function $w(n,e,t,r,i){return(0,ur.z)(s=>function ZT(n,e,t,r,i="emptyOnly",s="legacy"){try{const c=new HT(n,e,t,r,i,s).recognize();return null===c?qw(new Hw):Tt(c)}catch(c){return qw(c)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe((0,Dt.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,w=>this.serializeUrl(w),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bi.b)(w=>{if("eager"===this.urlUpdateStrategy){if(!w.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);this.setBrowserUrl(k,w)}this.browserUrlTree=w.urlAfterRedirects}const S=new gc(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);r.next(S)}));if(g&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:k,source:R,restoredState:B,extras:G}=d,te=new Va(S,this.serializeUrl(k),R,B);r.next(te);const ye=vc(k,this.rootComponentType).snapshot;return Tt(Object.assign(Object.assign({},d),{targetSnapshot:ye,urlAfterRedirects:k,extras:Object.assign(Object.assign({},G),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),Na.E}),sm(d=>{const{targetSnapshot:f,id:g,extractedUrl:v,rawUrl:w,extras:{skipLocationChange:S,replaceUrl:k}}=d;return this.hooks.beforePreactivation(f,{navigationId:g,appliedUrlTree:v,rawUrlTree:w,skipLocationChange:!!S,replaceUrl:!!k})}),(0,bi.b)(d=>{const f=new Bf(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,Dt.U)(d=>Object.assign(Object.assign({},d),{guards:kT(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function NT(n,e){return(0,ur.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?Tt(Object.assign(Object.assign({},t),{guardsResult:!0})):function LT(n,e,t,r){return(0,Yn.D)(n).pipe((0,ur.z)(i=>function jT(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Tt(s.map(d=>{const f=nm(d,e,i);let g;if(function Yf(n){return n&&Et(n.canDeactivate)}(f))g=Qi(f.canDeactivate(n,e,t,r));else{if(!Et(f))throw new Error("Invalid CanDeactivate guard");g=Qi(f(n,e,t,r))}return g.pipe(Tl())})).pipe(kl()):Tt(!0)}(i.component,i.route,t,e,r)),Tl(i=>!0!==i,!0))}(c,r,i,n).pipe((0,ur.z)(d=>d&&function Ht(n){return"boolean"==typeof n}(d)?function rm(n,e,t,r){return(0,Yn.D)(e).pipe(El(i=>Oa(function UT(n,e){return null!==n&&e&&e(new bo(n)),Tt(!0)}(i.route.parent,r),function FT(n,e){return null!==n&&e&&e(new wo(n)),Tt(!0)}(i.route,r),function BT(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function Zw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Ra(()=>Tt(c.guards.map(f=>{const g=nm(f,c.node,t);let v;if(function aa(n){return n&&Et(n.canActivateChild)}(g))v=Qi(g.canActivateChild(r,n));else{if(!Et(g))throw new Error("Invalid CanActivateChild guard");v=Qi(g(r,n))}return v.pipe(Tl())})).pipe(kl())));return Tt(s).pipe(kl())}(n,i.path,t),function VT(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Tt(!0);const i=r.map(s=>Ra(()=>{const c=nm(s,e,t);let d;if(function Qs(n){return n&&Et(n.canActivate)}(c))d=Qi(c.canActivate(e,n));else{if(!Et(c))throw new Error("Invalid CanActivate guard");d=Qi(c(e,n))}return d.pipe(Tl())}));return Tt(i).pipe(kl())}(n,i.route,t))),Tl(i=>!0!==i,!0))}(r,s,n,e):Tt(d)),(0,Dt.U)(d=>Object.assign(Object.assign({},t),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,bi.b)(d=>{if(on(d.guardsResult)){const g=Ba(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw g.url=d.guardsResult,g}const f=new jf(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),_r(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),sm(d=>{if(d.guards.canActivateChecks.length)return Tt(d).pipe((0,bi.b)(f=>{const g=new ki(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),cr(f=>{let g=!1;return Tt(f).pipe(function ok(n,e){return(0,ur.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Tt(t);let s=0;return(0,Yn.D)(i).pipe(El(c=>function Ol(n,e,t,r){return function R_(n,e,t,r){const i=im(n);if(0===i.length)return Tt({});const s={};return(0,Yn.D)(i).pipe((0,ur.z)(c=>function KT(n,e,t,r){const i=nm(n,e,r);return Qi(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,bi.b)(d=>{s[c]=d}))),Ua(1),(0,ur.z)(()=>im(s).length===i.length?Tt(s):Na.E))}(n._resolve,n,e,r).pipe((0,Dt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),T_(n,t).resolve),null)))}(c.route,r,n,e)),(0,bi.b)(()=>s++),Ua(1),(0,ur.z)(c=>s===i.length?Tt(t):Na.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bi.b)({next:()=>g=!0,complete:()=>{g||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),(0,bi.b)(f=>{const g=new Oi(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}))}),sm(d=>{const{targetSnapshot:f,id:g,extractedUrl:v,rawUrl:w,extras:{skipLocationChange:S,replaceUrl:k}}=d;return this.hooks.afterPreactivation(f,{navigationId:g,appliedUrlTree:v,rawUrlTree:w,skipLocationChange:!!S,replaceUrl:!!k})}),(0,Dt.U)(d=>{const f=function I_(n,e,t){const r=ud(n,e._root,t?t._root:void 0);return new Th(r,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:f})}),(0,bi.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new Z(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,bi.b)({next(){s=!0},complete(){s=!0}}),cu(()=>{var d;s||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===i.id&&(this.currentNavigation=null)}),vo(d=>{if(c=!0,function Zg(n){return n&&n[hu]}(d)){const f=on(d.url);f||(this.navigated=!0,this.restoreHistory(i,!0));const g=new Mr(i.id,this.serializeUrl(i.extractedUrl),d.message);r.next(g),f?setTimeout(()=>{const v=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),w={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yw(i.source)};this.scheduleNavigation(v,"imperative",null,w,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const f=new pc(i.id,this.serializeUrl(i.extractedUrl),d);r.next(f);try{i.resolve(this.errorHandler(d))}catch(g){i.reject(g)}}return Na.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const f=Object.assign({},c);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){wc(t),this.config=t.map(fd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:f}=r,g=i||this.routerState.root,v=f?this.currentUrlTree.fragment:c;let w=null;switch(d){case"merge":w=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=s||null}return null!==w&&(w=this.removeEmptyProps(w)),function oa(n,e,t,r,i){if(0===t.length)return $g(e.root,e.root,e.root,r,i);const s=function Wg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new S_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Hn(s.outlets,(f,g)=>{d[g]="string"==typeof f?f.split("/"):f}),[...i,{outlets:d}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?t=!0:".."===d?e++:""!=d&&i.push(d))}),i):[...i,s]},[]);return new S_(t,e,r)}(t);if(s.toRoot())return $g(e.root,e.root,new ke([],{}),r,i);const c=function Kf(n,e,t){if(n.isAbsolute)return new Kg(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Kg(s,s===e.root,0)}const r=Ml(n.commands[0])?0:1;return function Yg(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Kg(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),d=c.processChildren?Sh(c.segmentGroup,c.index,s.commands):Qg(c.segmentGroup,c.index,s.commands);return $g(e.root,c.segmentGroup,d,r,i)}(g,this.currentUrlTree,t,w,null!=v?v:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=on(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function QT(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},YT):!1===r?Object.assign({},F_):r,on(t))return ja(this.currentUrlTree,t,i);const s=this.parseUrl(t);return ja(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Il(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,c){var d,f;if(this.disposed)return Promise.resolve(!1);let g,v,w;c?(g=c.resolve,v=c.reject,w=c.promise):w=new Promise((R,B)=>{g=R,v=B});const S=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),k=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):k=0,this.setTransition({id:S,targetPageId:k,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:g,reject:v,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Mr(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Yw(n){return"imperative"!==n}let U_=(()=>{class n{constructor(t,r,i,s,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new Wi.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ph(this.skipLocationChange),replaceUrl:Ph(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ph(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gr),l.Y36(Ga),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})(),Cc=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Wi.x,this.subscription=t.events.subscribe(s=>{s instanceof Il&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,c){if(0!==t||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:Ph(this.skipLocationChange),replaceUrl:Ph(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ph(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gr),l.Y36(Ga),l.Y36(Ne))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function Ph(n){return""===n||!!n}let rp=(()=>{class n{constructor(t,r,i,s,c,d){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=c,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof Il&&this.update()})}ngAfterContentInit(){Tt(this.links.changes,this.linksWithHrefs.changes,Tt(null)).pipe((0,ta.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Yn.D)(r).pipe((0,ta.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function V_(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gr),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(U_,8),l.Y36(Cc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,U_,5),l.Suo(i,Cc,5)),2&t){let s;l.iGM(s=l.CRH())&&(r.links=s),l.iGM(s=l.CRH())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[l.TTD]}),n})();class B_{}class Qw{preload(e,t){return Tt(null)}}let Jw=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new om(i,r,f=>t.triggerEvent(new mc(f)),f=>t.triggerEvent(new yc(f)))}setUpPreloading(){this.subscription=this.router.events.pipe(_r(t=>t instanceof Il),El(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return(0,Yn.D)(i).pipe((0,ta.J)(),(0,Dt.U)(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Tt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,ur.z)(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gr),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(B_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),am=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Va?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Il&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ld&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new ld(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const xo=new l.OlP("ROUTER_CONFIGURATION"),Z_=new l.OlP("ROUTER_FORROOT_GUARD"),Xw=[We,{provide:Bt,useClass:Pi},{provide:Gr,useFactory:function q_(n,e,t,r,i,s,c={},d,f){const g=new Gr(null,n,e,t,r,i,pu(s));return d&&(g.urlHandlingStrategy=d),f&&(g.routeReuseStrategy=f),function nC(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,g),c.enableTracing&&g.events.subscribe(v=>{var w,S;null===(w=console.group)||void 0===w||w.call(console,`Router Event: ${v.constructor.name}`),console.log(v.toString()),console.log(v),null===(S=console.groupEnd)||void 0===S||S.call(console)}),g},deps:[Bt,_u,We,l.zs3,l.Sil,np,xo,[class Kw{},new l.FiY],[class tp{},new l.FiY]]},_u,{provide:Ga,useFactory:function lm(n){return n.routerState.root},deps:[Gr]},Jw,Qw,class j_{preload(e,t){return t().pipe(vo(()=>Tt(null)))}},{provide:xo,useValue:{enableTracing:!1}}];function XT(){return new l.PXZ("Router",Gr)}let ip=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Xw,H_(t),{provide:Z_,useFactory:tC,deps:[[Gr,new l.FiY,new l.tp0]]},{provide:xo,useValue:r||{}},{provide:Ne,useFactory:eC,deps:[ge,[new l.tBr(ht),new l.FiY],xo]},{provide:am,useFactory:eI,deps:[Gr,hl,xo]},{provide:B_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Qw},{provide:l.PXZ,multi:!0,useFactory:XT},[Rh,{provide:l.ip1,multi:!0,useFactory:rC,deps:[Rh]},{provide:$_,useFactory:z_,deps:[Rh]},{provide:l.tb,multi:!0,useExisting:$_}]]}}static forChild(t){return{ngModule:n,providers:[H_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z_,8),l.LFG(Gr,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function eI(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new am(n,e,t)}function eC(n,e,t={}){return t.useHash?new He(n,e):new ft(n,e)}function tC(n){return"guarded"}function H_(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:np,multi:!0,useValue:n}]}let Rh=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Wi.x}appInitializer(){return this.injector.get(ee,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(d=>r=d),s=this.injector.get(Gr),c=this.injector.get(xo);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Tt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(xo),i=this.injector.get(Jw),s=this.injector.get(am),c=this.injector.get(Gr),d=this.injector.get(l.z2F);t===d.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),s.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function rC(n){return n.appInitializer.bind(n)}function z_(n){return n.bootstrapListener.bind(n)}const $_=new l.OlP("Router Initializer");let W_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),_d=(()=>{class n extends W_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Pl=new l.OlP("NgValueAccessor"),iC={provide:Pl,useExisting:(0,l.Gpc)(()=>sp),multi:!0};let sp=(()=>{class n extends _d{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[l._Bn([iC]),l.qOj]}),n})();const sC={provide:Pl,useExisting:(0,l.Gpc)(()=>Rl),multi:!0},oC=new l.OlP("CompositionEventMode");let Rl=(()=>{class n extends W_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lk(){const n=U()?U().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(oC,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[l._Bn([sC]),l.qOj]}),n})();function xc(n){return null==n||0===n.length}function aC(n){return null!=n&&"number"==typeof n.length}const _s=new l.OlP("NgValidators"),Ni=new l.OlP("NgAsyncValidators"),nI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _n{static min(e){return function lC(n){return e=>{if(xc(e.value)||xc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function cC(n){return e=>{if(xc(e.value)||xc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function uC(n){return xc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function dC(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function K_(n){return xc(n.value)||nI.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function hC(n){return e=>xc(e.value)||!aC(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function fC(n){return e=>aC(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function pC(n){if(!n)return an;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(xc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return gC(e)}static composeAsync(e){return Nl(e)}}function an(n){return null}function Y_(n){return null!=n}function Q_(n){const e=(0,l.QGY)(n)?(0,Yn.D)(n):n;return(0,l.CqO)(e),e}function J_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function op(n,e){return e.map(t=>t(n))}function X_(n){return n.map(e=>function Ka(n){return!n.validate}(e)?e:t=>e.validate(t))}function gC(n){if(!n)return null;const e=n.filter(Y_);return 0==e.length?null:function(t){return J_(op(t,e))}}function ap(n){return null!=n?gC(X_(n)):null}function Nl(n){if(!n)return null;const e=n.filter(Y_);return 0==e.length?null:function(t){return function tI(...n){const e=(0,bl.jO)(n),{args:t,keys:r}=St(n),i=new E.y(s=>{const{length:c}=t;if(!c)return void s.complete();const d=new Array(c);let f=c,g=c;for(let v=0;v<c;v++){let w=!1;(0,Pa.Xf)(t[v]).subscribe((0,nr.x)(s,S=>{w||(w=!0,g--),d[v]=S},()=>f--,void 0,()=>{(!f||!w)&&(g||s.next(r?xh(r,d):d),s.complete())}))}});return e?i.pipe(au(e)):i}(op(t,e).map(Q_)).pipe((0,Dt.U)(J_))}}function lp(n){return null!=n?Nl(X_(n)):null}function ev(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function um(n){return n._rawValidators}function rI(n){return n._rawAsyncValidators}function dm(n){return n?Array.isArray(n)?n:[n]:[]}function tv(n,e){return Array.isArray(n)?n.includes(e):n===e}function cp(n,e){const t=dm(e);return dm(n).forEach(i=>{tv(t,i)||t.push(i)}),t}function up(n,e){return dm(e).filter(t=>!tv(n,t))}class hm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ap(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ll extends hm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ji extends hm{get formDirective(){return null}get path(){return null}}class iI{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let bu=(()=>{class n extends iI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ll,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),Ec=(()=>{class n extends iI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ji,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function pm(n,e){gm(n,e),e.valueAccessor.writeValue(n.value),function vC(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&bC(n,e)})}(n,e),function wu(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function iv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&bC(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function lI(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ya(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Lh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Nh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gm(n,e){const t=um(n);null!==e.validator?n.setValidators(ev(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=rI(n);null!==e.asyncValidator?n.setAsyncValidators(ev(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Nh(e._rawValidators,i),Nh(e._rawAsyncValidators,i)}function Lh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=um(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=rI(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Nh(e._rawValidators,r),Nh(e._rawAsyncValidators,r),t}function bC(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sv(n,e){gm(n,e)}function vd(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Cu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const fp="VALID",pp="INVALID",bd="PENDING",wd="DISABLED";function ym(n){return(dv(n)?n.validators:n)||null}function gp(n){return Array.isArray(n)?ap(n):n||null}function cv(n,e){return(dv(e)?e.asyncValidators:n)||null}function uv(n){return Array.isArray(n)?lp(n):n||null}function dv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const hv=n=>n instanceof In,_m=n=>n instanceof la;function fv(n){return hv(n)?n.value:n.getRawValue()}function CC(n,e){const t=_m(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[e])throw new l.vHH(1001,"")}function xC(n,e){_m(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new l.vHH(1002,"")})}class Ls{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=gp(this._rawValidators),this._composedAsyncValidatorFn=uv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fp}get invalid(){return this.status===pp}get pending(){return this.status==bd}get disabled(){return this.status===wd}get enabled(){return this.status!==wd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=gp(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=uv(e)}addValidators(e){this.setValidators(cp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(up(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(up(e,this._rawAsyncValidators))}hasValidator(e){return tv(this._rawValidators,e)}hasAsyncValidator(e){return tv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fp,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fp||this.status===bd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wd:fp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bd,this._hasOwnPendingAsyncValidator=!0;const t=Q_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function lv(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=_m(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof yk)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?wd:this.errors?pp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bd)?bd:this._anyControlsHaveStatus(pp)?pp:fp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class In extends Ls{constructor(e=null,t,r){super(ym(t),cv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dv(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Cu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Cu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class la extends Ls{constructor(e,t,r){super(ym(t),cv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){xC(this,e),Object.keys(e).forEach(r=>{CC(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=fv(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class yk extends Ls{constructor(e,t,r){super(ym(t),cv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){xC(this,e),e.forEach((r,i)=>{CC(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>fv(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const _k={provide:Ji,useExisting:(0,l.Gpc)(()=>pv)},Fh=(()=>Promise.resolve(null))();let pv=(()=>{class n extends Ji{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new la({},ap(t),lp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Fh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),pm(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Fh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Fh.then(()=>{const r=this._findContainer(t.path),i=new la({});sv(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Fh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Fh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,vd(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_s,10),l.Y36(Ni,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([_k]),l.qOj]}),n})(),Tc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const DC={provide:Pl,useExisting:(0,l.Gpc)(()=>Uh),multi:!0};let Uh=(()=>{class n extends _d{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([DC]),l.qOj]}),n})(),vm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const _v=new l.OlP("NgModelWithFormControlWarning"),vv={provide:Ji,useExisting:(0,l.Gpc)(()=>Fl)};let Fl=(()=>{class n extends Ji{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return pm(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ya(t.control||null,t,!1),Cu(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,vd(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Ya(r||null,t),hv(i)&&(pm(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);sv(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function cI(n,e){return Lh(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gm(this.form,this),this._oldForm&&Lh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_s,10),l.Y36(Ni,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([vv]),l.qOj,l.TTD]}),n})();const Cv={provide:Ll,useExisting:(0,l.Gpc)(()=>Ul)};let Ul=(()=>{class n extends Ll{constructor(t,r,i,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function hp(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Rl?t=s:function dp(n){return Object.getPrototypeOf(n.constructor)===_d}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function av(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function rv(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Ji,13),l.Y36(_s,10),l.Y36(Ni,10),l.Y36(Pl,10),l.Y36(_v,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Cv]),l.qOj,l.TTD]}),n})(),UC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[vm]]}),n})(),TI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[UC]}),n})(),VC=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_v,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[UC]}),n})();var jC=V(5226),yt=V.n(jC),_p=V(4986),qr=V(5813);function Pv(){return(0,Zr.e)((n,e)=>{let t,r=!1;n.subscribe((0,nr.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}function ZC(n,e=Sr.y){return n=null!=n?n:II,(0,Zr.e)((t,r)=>{let i,s=!0;t.subscribe((0,nr.x)(r,c=>{const d=e(c);(s||!n(i,d))&&(s=!1,i=d,r.next(c))}))})}function II(n,e){return n===e}var Pt,vs=V(2011),AI=(V(5881),V(3942)),Be=V(5861),Eo=V(9681),Hh=V(4859),Cd=V(1877),tn=V(2090),Rv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ac={},xm=xm||{},gn=Rv||self;function Js(){}function HC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Em(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Tm="closure_uid_"+(1e9*Math.random()>>>0),zC=0;function SI(n,e,t){return n.call.apply(n.bind,arguments)}function Tk(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Li(n,e,t){return(Li=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?SI:Tk).apply(null,arguments)}function qh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Xi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[i].apply(r,c)}}function Bl(){this.s=this.s,this.o=this.o}var kI={};Bl.prototype.s=!1,Bl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function qC(n){return Object.prototype.hasOwnProperty.call(n,Tm)&&n[Tm]||(n[Tm]=++zC)}(this);delete kI[n]}},Bl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $C=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},GC=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function WC(n){return Array.prototype.concat.apply([],arguments)}function zh(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Sc(n){return/^[\s\xa0]*$/.test(n)}var Fs,KC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ci(n,e){return-1!=n.indexOf(e)}function Nv(n,e){return n<e?-1:n>e?1:0}e:{var Im=gn.navigator;if(Im){var Qa=Im.userAgent;if(Qa){Fs=Qa;break e}}Fs=""}function xd(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function es(n){const e={};for(const t in n)e[t]=n[t];return e}var Eu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vp(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<Eu.length;s++)t=Eu[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Xs(n){return Xs[" "](n),n}Xs[" "]=Js;var Mc,n,$h=Ci(Fs,"Opera"),Ja=Ci(Fs,"Trident")||Ci(Fs,"MSIE"),Ed=Ci(Fs,"Edge"),Tu=Ed||Ja,Td=Ci(Fs,"Gecko")&&!(Ci(Fs.toLowerCase(),"webkit")&&!Ci(Fs,"Edge"))&&!(Ci(Fs,"Trident")||Ci(Fs,"MSIE"))&&!Ci(Fs,"Edge"),Gh=Ci(Fs.toLowerCase(),"webkit")&&!Ci(Fs,"Edge");function Id(){var n=gn.document;return n?n.documentMode:void 0}e:{var Iu="",Dm=(n=Fs,Td?/rv:([^\);]+)(\)|;)/.exec(n):Ed?/Edge\/([\d\.]+)/.exec(n):Ja?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Gh?/WebKit\/(\S+)/.exec(n):$h?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Dm&&(Iu=Dm?Dm[1]:""),Ja){var Am=Id();if(null!=Am&&Am>parseFloat(Iu)){Mc=String(Am);break e}}Mc=Iu}var YC={};var JC=gn.document&&Ja&&(Id()||parseInt(Mc,10))||void 0,XC=function(){if(!gn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{gn.addEventListener("test",Js,e),gn.removeEventListener("test",Js,e)}catch(t){}return n}();function ts(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function bp(n,e){if(ts.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Td){e:{try{Xs(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ex[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bp.Z.h.call(this)}}ts.prototype.h=function(){this.defaultPrevented=!0},Xi(bp,ts);var ex={2:"touch",3:"pen",4:"mouse"};bp.prototype.h=function(){bp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wp="closure_listenable_"+(1e6*Math.random()|0),tx=0;function nx(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++tx,this.ca=this.fa=!1}function Mm(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function km(n){this.src=n,this.g={},this.h=0}function Om(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=$C(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Mm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Uv(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}km.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=Uv(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new nx(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var Pm="closure_lm_"+(1e6*Math.random()|0),Vv={};function rx(n,e,t,r,i){if(r&&r.once)return Rm(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)rx(n,e[s],t,r,i);return null}return t=Lm(t),n&&n[wp]?n.N(e,t,Em(r)?!!r.capture:!!r,i):PI(n,e,t,!1,r,i)}function PI(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var c=Em(i)?!!i.capture:!!i,d=ix(n);if(d||(n[Pm]=d=new km(n)),(t=d.add(e,t,r,c,s)).proxy)return t;if(r=function RI(){var e=Ik;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)XC||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(NI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Rm(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Rm(n,e[s],t,r,i);return null}return t=Lm(t),n&&n[wp]?n.O(e,t,Em(r)?!!r.capture:!!r,i):PI(n,e,t,!0,r,i)}function Nm(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Nm(n,e[s],t,r,i);else r=Em(r)?!!r.capture:!!r,t=Lm(t),n&&n[wp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Uv(s=n.g[e],t,r,i))&&(Mm(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=ix(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Uv(e,t,r,i)),(t=-1<n?e[n]:null)&&Bv(t))}function Bv(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[wp])Om(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(NI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ix(e))?(Om(t,n),0==t.h&&(t.src=null,e[Pm]=null)):Mm(n)}}}function NI(n){return n in Vv?Vv[n]:Vv[n]="on"+n}function Ik(n,e){if(n.ca)n=!0;else{e=new bp(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Bv(n),n=t.call(r,e)}return n}function ix(n){return(n=n[Pm])instanceof km?n:null}var jv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lm(n){return"function"==typeof n?n:(n[jv]||(n[jv]=function(e){return n.handleEvent(e)}),n[jv])}function ns(){Bl.call(this),this.i=new km(this),this.P=this,this.I=null}function rs(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ts(e,n);else if(e instanceof ts)e.target=e.target||n;else{var i=e;vp(e=new ts(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];i=kc(c,r,!0,e)&&i}if(i=kc(c=e.g=n,r,!0,e)&&i,i=kc(c,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=kc(c=e.g=t[s],r,!1,e)&&i}function kc(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ca&&c.capture==t){var d=c.listener,f=c.ia||c.src;c.fa&&Om(n.i,c),i=!1!==d.call(f,r)&&i}}return i&&!r.defaultPrevented}Xi(ns,Bl),ns.prototype[wp]=!0,ns.prototype.removeEventListener=function(n,e,t,r){Nm(this,n,e,t,r)},ns.prototype.M=function(){if(ns.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Mm(t[r]);delete n.g[e],n.h--}}this.I=null},ns.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ns.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Zv=gn.JSON.stringify;function sx(){var n=ox;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var qv,Hv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Fm,n=>n.reset());class Fm{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function FI(n){gn.setTimeout(()=>{throw n},0)}function Um(n,e){qv||function UI(){var n=gn.Promise.resolve(void 0);qv=function(){n.then(VI)}}(),zv||(qv(),zv=!0),ox.add(n,e)}var zv=!1,ox=new class LI{constructor(){this.h=this.g=null}add(e,t){const r=Hv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function VI(){for(var n;n=sx();){try{n.h.call(n.g)}catch(t){FI(t)}var e=Hv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}zv=!1}function Cp(n,e){ns.call(this),this.h=n||1,this.g=e||gn,this.j=Li(this.kb,this),this.l=Date.now()}function $v(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Vm(n,e,t){if("function"==typeof n)t&&(n=Li(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Li(n.handleEvent,n)}return 2147483647<Number(e)?-1:gn.setTimeout(n,e||0)}function Gv(n){n.g=Vm(()=>{n.g=null,n.i&&(n.i=!1,Gv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Xi(Cp,ns),(Pt=Cp.prototype).da=!1,Pt.S=null,Pt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rs(this,"tick"),this.da&&($v(this),this.start()))}},Pt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pt.M=function(){Cp.Z.M.call(this),$v(this),delete this.g};class Wv extends Bl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Gv(this)}M(){super.M(),this.g&&(gn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bm(n){Bl.call(this),this.h=n,this.g={}}Xi(Bm,Bl);var jm=[];function ax(n,e,t,r){Array.isArray(t)||(t&&(jm[0]=t.toString()),t=jm);for(var i=0;i<t.length;i++){var s=rx(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function BI(n){xd(n.g,function(e,t){this.g.hasOwnProperty(t)&&Bv(e)},n),n.g={}}function Du(){this.g=!0}function Au(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zm(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<i.length;c++)i[c]=""}}}return Zv(t)}catch(d){return e}}(n,t)+(r?" "+r:"")})}Bm.prototype.M=function(){Bm.Z.M.call(this),BI(this)},Bm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Du.prototype.Aa=function(){this.g=!1},Du.prototype.info=function(){};var jl={},Hm=null;function Yv(){return Hm=Hm||new ns}function cx(n){ts.call(this,jl.Ma,n)}function Dd(n){const e=Yv();rs(e,new cx(e,n))}function qm(n,e){ts.call(this,jl.STAT_EVENT,n),this.stat=e}function bs(n){const e=Yv();rs(e,new qm(e,n))}function Qv(n,e){ts.call(this,jl.Na,n),this.size=e}function Ad(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return gn.setTimeout(function(){n()},e)}jl.Ma="serverreachability",Xi(cx,ts),jl.STAT_EVENT="statevent",Xi(qm,ts),jl.Na="timingevent",Xi(Qv,ts);var xp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Jv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ep(){}function ux(){}Ep.prototype.h=null;var $m,Wh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zm(){ts.call(this,"d")}function Tp(){ts.call(this,"c")}function Gm(){}function Ip(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Bm(this),this.P=e0,this.W=new Cp(n=Tu?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dx}function dx(){this.i=null,this.g="",this.h=!1}Xi(zm,ts),Xi(Tp,ts),Xi(Gm,Ep),Gm.prototype.g=function(){return new XMLHttpRequest},Gm.prototype.i=function(){return{}},$m=new Gm;var e0=45e3,Dp={},Ap={};function Wm(n,e,t){n.K=1,n.v=Mp(Zl(e)),n.s=t,n.U=!0,t0(n,null)}function t0(n,e){n.F=Date.now(),Kh(n),n.A=Zl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),_x(t.h,"t",r),n.C=0,t=n.l.H,n.h=new dx,n.g=eD(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Wv(Li(n.Ia,n,n.g),n.O)),ax(n.V,n.g,"readystatechange",n.gb),e=n.H?es(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Dd(1),function lx(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),f=0;f<d.length;f++){var g=d[f].split("=");if(1<g.length){var v=g[0];g=g[1];var w=v.split("_");c=2<=w.length&&"type"==w[1]?c+(v+"=")+g+"&":c+(v+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function n0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function r0(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=hx(n,t),i==Ap){4==e&&(n.o=4,bs(14),r=!1),Au(n.j,n.m,null,"[Incomplete Response]");break}if(i==Dp){n.o=4,bs(15),Au(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Au(n.j,n.m,i,null),Km(n,i)}n0(n)&&i!=Ap&&i!=Dp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,bs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),E0(e),e.L=!0,bs(11))):(Au(n.j,n.m,t,"[Invalid Chunked Response]"),Sd(n),Sp(n))}function hx(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ap:(t=Number(e.substring(t,r)),isNaN(t)?Dp:(r+=1)+t>e.length?Ap:(e=e.substr(r,t),n.C=r+t,e))}function Kh(n){n.Y=Date.now()+n.P,s0(n,n.P)}function s0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ad(Li(n.eb,n),e)}function o0(n){n.B&&(gn.clearTimeout(n.B),n.B=null)}function Sp(n){0==n.l.G||n.I||XI(n.l,n)}function Sd(n){o0(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,$v(n.W),BI(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Km(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Qh(t.i,n)))if(t.I=n.N,!n.J&&Qh(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ad(Li(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Nc(t),Fp(t)}Rc(t),bs(18)}if(1>=h0(t.i)&&t.ka){try{t.ka()}catch(g){}t.ka=void 0}}else tf(t,11)}else if((n.J||t.g==n)&&Nc(t),!Sc(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(t.U=g[0],g=g[1],2==t.G)if("c"==g[0]){t.J=g[1],t.la=g[2];const v=g[3];null!=v&&(t.ma=v,t.h.info("VER="+t.ma));const w=g[4];null!=w&&(t.za=w,t.h.info("SVER="+t.za));const S=g[5];null!=S&&"number"==typeof S&&0<S&&(t.K=r=1.5*S,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const k=n.g;if(k){const R=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var s=r.i;!s.g&&(Ci(R,"spdy")||Ci(R,"quic")||Ci(R,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(f0(s,s.h),s.h=null))}if(r.D){const B=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;B&&(r.sa=B,kr(r.F,r.D,B))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=I0(r,r.H?r.la:null,r.W),c.J){p0(r.i,c);var d=c,f=r.K;f&&d.setTimeout(f),d.B&&(o0(d),Kh(d)),r.g=c}else x0(r);0<t.l.length&&Up(t)}else"stop"!=g[0]&&"close"!=g[0]||tf(t,7);else 3==t.G&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?tf(t,7):ty(t):"noop"!=g[0]&&t.j&&t.j.wa(g),t.A=0)}Dd(4)}catch(g){}}function ri(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(HC(n)||"string"==typeof n)GC(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(HC(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function ZI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(HC(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function Md(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Md)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function a0(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];kd(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)kd(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function kd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Pt=Ip.prototype).setTimeout=function(n){this.P=n},Pt.gb=function(n){n=n.target;const e=this.L;e&&3==Pc(n)?e.l():this.Ia(n)},Pt.Ia=function(n){try{if(n==this.g)e:{const v=Pc(this.g);var e=this.g.Da();const w=this.g.ba();if(!(3>v)&&(3!=v||Tu||this.g&&(this.h.h||this.g.ga()||Tx(this.g)))){this.I||4!=v||7==e||Dd(8==e||0>=w?3:2),o0(this);var t=this.g.ba();this.N=t;t:if(n0(this)){var r=Tx(this.g);n="";var i=r.length,s=4==Pc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Sd(this),Sp(this);var c="";break t}this.h.i=new gn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function Kv(n,e,t,r,i,s,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,v,t),this.i){if(this.$&&!this.J){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sc(d)){var g=d;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,bs(12),Sd(this),Sp(this);break e}Au(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Km(this,t)}this.U?(r0(this,v,c),Tu&&this.i&&3==v&&(ax(this.V,this.W,"tick",this.fb),this.W.start())):(Au(this.j,this.m,c,null),Km(this,c)),4==v&&Sd(this),this.i&&!this.I&&(4==v?XI(this.l,this):(this.i=!1,Kh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,bs(12)):(this.o=0,bs(13)),Sd(this),Sp(this)}}}catch(v){}},Pt.fb=function(){if(this.g){var n=Pc(this.g),e=this.g.ga();this.C<e.length&&(o0(this),r0(this,n,e),this.i&&4!=n&&Kh(this))}},Pt.cancel=function(){this.I=!0,Sd(this)},Pt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function jI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Dd(3),bs(17)),Sd(this),this.o=2,Sp(this)):s0(this,this.Y-n)},(Pt=Md.prototype).R=function(){a0(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Pt.T=function(){return a0(this),this.g.concat()},Pt.get=function(n,e){return kd(this.h,n)?this.h[n]:e},Pt.set=function(n,e){kd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Pt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var l0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Su(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Su){this.g=void 0!==e?e:n.g,Oc(this,n.j),this.s=n.s,Ym(this,n.i),Qm(this,n.m),this.l=n.l,e=n.h;var t=new Yh;t.i=e.i,e.g&&(t.g=new Md(e.g),t.h=e.h),c0(this,t),this.o=n.o}else n&&(t=String(n).match(l0))?(this.g=!!e,Oc(this,t[1]||"",!0),this.s=Od(t[2]||""),Ym(this,t[3]||"",!0),Qm(this,t[4]),this.l=Od(t[5]||"",!0),c0(this,t[6]||"",!0),this.o=Od(t[7]||"")):(this.g=!!e,this.h=new Yh(null,this.g))}function Zl(n){return new Su(n)}function Oc(n,e,t){n.j=t?Od(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ym(n,e,t){n.i=t?Od(e,!0):e}function Qm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function c0(n,e,t){e instanceof Yh?(n.h=e,function kp(n,e){e&&!n.j&&(Mu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(mx(this,r),_x(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=eo(e,el)),n.h=new Yh(e,n.g))}function kr(n,e,t){n.h.set(e,t)}function Mp(n){return kr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Od(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function eo(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Su.prototype.toString=function(){var n=[],e=this.j;e&&n.push(eo(e,px,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(eo(e,px,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(eo(t,"/"==t.charAt(0)?Xa:Hl,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",eo(t,gx)),n.join("")};var px=/[#\/\?@]/g,Hl=/[#\?:]/g,Xa=/[#\?]/g,el=/[#\?@]/g,gx=/#/g;function Yh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Mu(n){n.g||(n.g=new Md,n.h=0,n.i&&function HI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mx(n,e){Mu(n),e=ku(n,e),kd(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,kd((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&a0(n)))}function yx(n,e){return Mu(n),e=ku(n,e),kd(n.g.h,e)}function _x(n,e,t){mx(n,e),0<t.length&&(n.i=null,n.g.set(ku(n,e),zh(t)),n.h+=t.length)}function ku(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function u0(n){this.l=n||$I,n=gn.PerformanceNavigationTiming?0<(n=gn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(gn.g&&gn.g.Ea&&gn.g.Ea()&&gn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Pt=Yh.prototype).add=function(n,e){Mu(this),this.i=null,n=ku(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Pt.forEach=function(n,e){Mu(this),this.g.forEach(function(t,r){GC(t,function(i){n.call(e,i,r,this)},this)},this)},Pt.T=function(){Mu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},Pt.R=function(n){Mu(this);var e=[];if("string"==typeof n)yx(this,n)&&(e=WC(e,this.g.get(ku(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=WC(e,n[t])}return e},Pt.set=function(n,e){return Mu(this),this.i=null,yx(this,n=ku(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Pt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var c=i;""!==r[s]&&(c+="="+encodeURIComponent(String(r[s]))),n.push(c)}}return this.i=n.join("&")};var $I=10;function d0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function h0(n){return n.h?1:n.g?n.g.size:0}function Qh(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function f0(n,e){n.g?n.g.add(e):n.h=e}function p0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function g0(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return zh(n.i)}function Op(){}function Jm(){this.g=new Op}function m0(n,e,t){const r=t||"";try{ri(n,function(i,s){let c=i;Em(i)&&(c=Zv(i)),e.push(r+s+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Jh(n){this.l=n.$b||null,this.j=n.ib||!1}function Rp(n,e){ns.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Xm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}u0.prototype.cancel=function(){if(this.i=g0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Op.prototype.stringify=function(n){return gn.JSON.stringify(n,void 0)},Op.prototype.parse=function(n){return gn.JSON.parse(n,void 0)},Xi(Jh,Ep),Jh.prototype.g=function(){return new Rp(this.l,this.j)},Jh.prototype.i=function(n){return function(){return n}}({}),Xi(Rp,ns);var Xm=0;function y0(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Xh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Np(n)}function Np(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Pt=Rp.prototype).open=function(n,e){if(this.readyState!=Xm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Np(this)},Pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||gn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xh(this)),this.readyState=Xm},Pt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Np(this)),this.g&&(this.readyState=3,Np(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==gn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;y0(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Pt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xh(this):Np(this),3==this.readyState&&y0(this)}},Pt.Ua=function(n){this.g&&(this.response=this.responseText=n,Xh(this))},Pt.Ta=function(n){this.g&&(this.response=n,Xh(this))},Pt.ha=function(){this.g&&Xh(this)},Pt.setRequestHeader=function(n,e){this.v.append(n,e)},Pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Rp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var GI=gn.JSON.parse;function ci(n){ns.call(this),this.headers=new Md,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bx,this.K=this.L=!1}Xi(ci,ns);var bx="",WI=/^https?$/i,KI=["POST","PUT"];function QI(n){return"content-type"==n.toLowerCase()}function wx(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Cx(n),ey(n)}function Cx(n){n.D||(n.D=!0,rs(n,"complete"),rs(n,"error"))}function xx(n){if(n.h&&void 0!==xm&&(!n.C[1]||4!=Pc(n)||2!=n.ba()))if(n.v&&4==Pc(n))Vm(n.Fa,0,n);else if(rs(n,"readystatechange"),4==Pc(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===d){var i=String(n.H).match(l0)[1]||null;if(!i&&gn.self&&gn.self.location){var s=gn.self.location.protocol;i=s.substr(0,s.length-1)}r=!WI.test(i?i.toLowerCase():"")}t=r}if(t)rs(n,"complete"),rs(n,"success");else{n.m=6;try{var c=2<Pc(n)?n.g.statusText:""}catch(f){c=""}n.j=c+" ["+n.ba()+"]",Cx(n)}}finally{ey(n)}}}function ey(n,e){if(n.g){Ex(n);const t=n.g,r=n.C[0]?Js:null;n.g=null,n.C=null,e||rs(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Ex(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(gn.clearTimeout(n.A),n.A=null)}function Pc(n){return n.g?n.g.readyState:0}function Tx(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case bx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function _0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function JI(n){let e="";return xd(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):kr(n,e,t))}function Lp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function v0(n){this.za=0,this.l=[],this.h=new Du,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Lp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Lp("baseRetryDelayMs",5e3,n),this.$a=Lp("retryDelaySeedMs",1e4,n),this.Ya=Lp("forwardChannelMaxRetries",2,n),this.ra=Lp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new u0(n&&n.concurrentRequestLimit),this.Ca=new Jm,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ty(n){if(b0(n),3==n.G){var e=n.V++,t=Zl(n.F);kr(t,"SID",n.J),kr(t,"RID",e),kr(t,"TYPE","terminate"),ef(n,t),(e=new Ip(n,n.h,e,void 0)).K=2,e.v=Mp(Zl(t)),t=!1,gn.navigator&&gn.navigator.sendBeacon&&(t=gn.navigator.sendBeacon(e.v.toString(),"")),!t&&gn.Image&&((new Image).src=e.v,t=!0),t||(e.g=eD(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Kh(e)}T0(n)}function Fp(n){n.g&&(E0(n),n.g.cancel(),n.g=null)}function b0(n){Fp(n),n.u&&(gn.clearTimeout(n.u),n.u=null),Nc(n),n.i.cancel(),n.m&&("number"==typeof n.m&&gn.clearTimeout(n.m),n.m=null)}function ny(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Up(n)}function Up(n){d0(n.i)||n.m||(n.m=!0,Um(n.Ha,n),n.C=0)}function w0(n,e){var t;t=e?e.m:n.V++;const r=Zl(n.F);kr(r,"SID",n.J),kr(r,"RID",t),kr(r,"AID",n.U),ef(n,r),n.o&&n.s&&_0(r,n.o,n.s),t=new Ip(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=C0(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),f0(n.i,t),Wm(t,r,e)}function ef(n,e){n.j&&ri({},function(t,r){kr(e,r,t)})}function C0(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Li(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=i[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let f=0;f<t;f++){let g=i[f].h;const v=i[f].g;if(g-=s,0>g)s=Math.max(0,i[f].h-100),d=!1;else try{m0(v,c,"req"+g+"_")}catch(w){r&&r(v)}}if(d){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function x0(n){n.g||n.u||(n.Y=1,Um(n.Ga,n),n.A=0)}function Rc(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ad(Li(n.Ga,n),ry(n,n.A)),n.A++,0))}function E0(n){null!=n.B&&(gn.clearTimeout(n.B),n.B=null)}function Dx(n){n.g=new Ip(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Zl(n.oa);kr(e,"RID","rpc"),kr(e,"SID",n.J),kr(e,"CI",n.N?"0":"1"),kr(e,"AID",n.U),ef(n,e),kr(e,"TYPE","xmlhttp"),n.o&&n.s&&_0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Mp(Zl(e)),t.s=null,t.U=!0,t0(t,n)}function Nc(n){null!=n.v&&(gn.clearTimeout(n.v),n.v=null)}function XI(n,e){var t=null;if(n.g==e){Nc(n),E0(n),n.g=null;var r=2}else{if(!Qh(n.i,e))return;t=e.D,p0(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;rs(r=Yv(),new Qv(r,t,e,i)),Up(n)}else x0(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Ix(n,e){return!(h0(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ad(Li(n.Ha,n,e),ry(n,n.C)),n.C++,0)))}(n,e)||2==r&&Rc(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:tf(n,5);break;case 4:tf(n,10);break;case 3:tf(n,6);break;default:tf(n,2)}}function ry(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function tf(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Li(n.jb,n);t||(t=new Su("//www.google.com/images/cleardot.gif"),gn.location&&"http"==gn.location.protocol||Oc(t,"https"),Mp(t)),function vx(n,e){const t=new Du;if(gn.Image){const r=new Image;r.onload=qh(Pp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=qh(Pp,t,r,"TestLoadImage: error",!1,e),r.onabort=qh(Pp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=qh(Pp,t,r,"TestLoadImage: timeout",!1,e),gn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else bs(2);n.G=0,n.j&&n.j.va(e),T0(n),b0(n)}function T0(n){n.G=0,n.I=-1,n.j&&((0!=g0(n.i).length||0!=n.l.length)&&(n.i.i.length=0,zh(n.l),n.l.length=0),n.j.ua())}function I0(n,e,t){let r=function Dk(n){return n instanceof Su?Zl(n):new Su(n,void 0)}(t);if(""!=r.i)e&&Ym(r,e+"."+r.i),Qm(r,r.m);else{const i=gn.location;r=function fx(n,e,t,r){var i=new Su(null,void 0);return n&&Oc(i,n),e&&Ym(i,e),t&&Qm(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&xd(n.aa,function(i,s){kr(r,s,i)}),t=n.sa,(e=n.D)&&t&&kr(r,e,t),kr(r,"VER",n.ma),ef(n,r),r}function eD(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ci(t&&n.Ba&&!n.qa?new Jh({ib:!0}):n.qa)).L=n.H,e}function Yt(){}function iy(){if(Ja&&!(10<=Number(JC)))throw Error("Environmental error: no available transport.")}function To(n,e){ns.call(this),this.g=new v0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Sc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sc(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new nf(this)}function Ax(n){zm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Vp(){Tp.call(this),this.status=1}function nf(n){this.g=n}(Pt=ci.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$m.g(),this.C=function Xv(n){return n.h||(n.h=n.i())}(this.u?this.u:$m),this.g.onreadystatechange=Li(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void wx(this,s)}n=t||"";const i=new Md(this.headers);r&&ri(r,function(s,c){i.set(c,s)}),r=function OI(n){e:{var e=QI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=gn.FormData&&n instanceof gn.FormData,!(0<=$C(KI,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ex(this),0<this.B&&((this.K=function YI(n){return Ja&&function QC(){return function Lv(n){var e=YC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=KC(String(Mc)).split("."),t=KC("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",s=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=Nv(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Nv(0==i[2].length,0==s[2].length)||Nv(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Li(this.pa,this)):this.A=Vm(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){wx(this,s)}},Pt.pa=function(){void 0!==xm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rs(this,"timeout"),this.abort(8))},Pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,rs(this,"complete"),rs(this,"abort"),ey(this))},Pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ey(this,!0)),ci.Z.M.call(this)},Pt.Fa=function(){this.s||(this.F||this.v||this.l?xx(this):this.cb())},Pt.cb=function(){xx(this)},Pt.ba=function(){try{return 2<Pc(this)?this.g.status:-1}catch(n){return-1}},Pt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Pt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),GI(e)}},Pt.Da=function(){return this.m},Pt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pt=v0.prototype).ma=8,Pt.G=1,Pt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Pt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Ip(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=es(s),vp(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=C0(this,i,e),kr(t=Zl(this.F),"RID",n),kr(t,"CVER",22),this.D&&kr(t,"X-HTTP-Session-Id",this.D),ef(this,t),this.o&&s&&_0(t,this.o,s),f0(this.i,i),this.Ra&&kr(t,"TYPE","init"),this.ja?(kr(t,"$req",e),kr(t,"SID","null"),i.$=!0,Wm(i,t,null)):Wm(i,t,e),this.G=2}}else 3==this.G&&(n?w0(this,n):0==this.l.length||d0(this.i)||w0(this))},Pt.Ga=function(){if(this.u=null,Dx(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ad(Li(this.bb,this),n)}},Pt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bs(10),Fp(this),Dx(this))},Pt.ab=function(){null!=this.v&&(this.v=null,Fp(this),Rc(this),bs(19))},Pt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),bs(2)):(this.h.info("Failed to ping google.com"),bs(1))},(Pt=Yt.prototype).xa=function(){},Pt.wa=function(){},Pt.va=function(){},Pt.ua=function(){},Pt.Oa=function(){},iy.prototype.g=function(n,e){return new To(n,e)},Xi(To,ns),To.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Um(Li(n.hb,n,e))),bs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=I0(n,null,n.W),Up(n)},To.prototype.close=function(){ty(this.g)},To.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ny(this.g,e)}else this.v?((e={}).__data__=Zv(n),ny(this.g,e)):ny(this.g,n)},To.prototype.M=function(){this.g.j=null,delete this.j,ty(this.g),delete this.g,To.Z.M.call(this)},Xi(Ax,zm),Xi(Vp,Tp),Xi(nf,Yt),nf.prototype.xa=function(){rs(this.g,"a")},nf.prototype.wa=function(n){rs(this.g,new Ax(n))},nf.prototype.va=function(n){rs(this.g,new Vp(n))},nf.prototype.ua=function(){rs(this.g,"b")},iy.prototype.createWebChannel=iy.prototype.g,To.prototype.send=To.prototype.u,To.prototype.open=To.prototype.m,To.prototype.close=To.prototype.close,xp.NO_ERROR=0,xp.TIMEOUT=8,xp.HTTP_ERROR=6,Jv.COMPLETE="complete",ux.EventType=Wh,Wh.OPEN="a",Wh.CLOSE="b",Wh.ERROR="c",Wh.MESSAGE="d",ns.prototype.listen=ns.prototype.N,ci.prototype.listenOnce=ci.prototype.O,ci.prototype.getLastError=ci.prototype.La,ci.prototype.getLastErrorCode=ci.prototype.Da,ci.prototype.getStatus=ci.prototype.ba,ci.prototype.getResponseJson=ci.prototype.Qa,ci.prototype.getResponseText=ci.prototype.ga,ci.prototype.send=ci.prototype.ea;var sy=Ac.createWebChannelTransport=function(){return new iy},oy=Ac.getStatEventTarget=function(){return Yv()},Or=Ac.ErrorCode=xp,Ak=Ac.EventType=Jv,Sx=Ac.Event=jl,Mx=Ac.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},tD=Ac.FetchXmlHttpFactory=Jh,Bp=Ac.WebChannel=ux,kx=Ac.XhrIo=ci;const D0="@firebase/firestore";class xi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xi.UNAUTHENTICATED=new xi(null),xi.GOOGLE_CREDENTIALS=new xi("google-credentials-uid"),xi.FIRST_PARTY=new xi("first-party-uid"),xi.MOCK_USER=new xi("mock-user");let rf="9.8.3";const Ou=new Cd.Yd("@firebase/firestore");function A0(){return Ou.logLevel}function ot(n,...e){if(Ou.logLevel<=Cd.in.DEBUG){const t=e.map(sf);Ou.debug(`Firestore (${rf}): ${n}`,...t)}}function ui(n,...e){if(Ou.logLevel<=Cd.in.ERROR){const t=e.map(sf);Ou.error(`Firestore (${rf}): ${n}`,...t)}}function Zp(n,...e){if(Ou.logLevel<=Cd.in.WARN){const t=e.map(sf);Ou.warn(`Firestore (${rf}): ${n}`,...t)}}function sf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Rt(n="Unexpected state"){const e=`FIRESTORE (${rf}) INTERNAL ASSERTION FAILED: `+n;throw ui(e),new Error(e)}function Xt(n,e){n||Rt()}function It(n,e){return n}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends tn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Px{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xi.UNAUTHENTICATED))}shutdown(){}}class Rx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Nx{constructor(e){this.t=e,this.currentUser=xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let c=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fi,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const g=c;e.enqueueRetryable((0,Be.Z)(function*(){yield g.promise,yield s(r.currentUser)}))},f=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fi)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt("string"==typeof r.accessToken),new Px(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xt(null===e||"string"==typeof e),new xi(e)}}class Lx{constructor(e,t,r){this.type="FirstParty",this.user=xi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class rD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Lx(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class S0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iD{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,ot("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xt("string"==typeof t.token),this.p=t.token,new S0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Mk(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class sD{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Mk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function bn(n,e){return n<e?-1:n>e?1:0}function Hp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function M0(n){return n+"\0"}class dr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new et(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new et(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new et(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dr.fromMillis(Date.now())}static fromDate(e){return dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new dr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bn(this.nanoseconds,e.nanoseconds):bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class en{constructor(e){this.timestamp=e}static fromTimestamp(e){return new en(e)}static min(){return new en(new dr(0,0))}static max(){return new en(new dr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qp{constructor(e,t,r){void 0===t?t=0:t>e.length&&Rt(),void 0===r?r=e.length-t:r>e.length-t&&Rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===qp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),c=t.get(i);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nn extends qp{construct(e,t,r){return new Nn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new et(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Nn(t)}static emptyPath(){return new Nn([])}}const zp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ii extends qp{construct(e,t,r){return new ii(e,t,r)}static isValidIdentifier(e){return zp.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ii.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ii(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new et(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if("\\"===d){if(i+1===e.length)throw new et(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new et(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else"`"===d?(c=!c,i++):"."!==d||c?(r+=d,i++):(s(),i++)}if(s(),c)throw new et(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ii(t)}static emptyPath(){return new ii([])}}class wt{constructor(e){this.path=e}static fromPath(e){return new wt(Nn.fromString(e))}static fromName(e){return new wt(Nn.fromString(e).popFirst(5))}static empty(){return new wt(Nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new Nn(e.slice()))}}class ay{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function k0(n){return n.fields.find(e=>2===e.kind)}function Pd(n){return n.fields.filter(e=>2!==e.kind)}ay.UNKNOWN_ID=-1;class $p{constructor(e,t){this.fieldPath=e,this.kind=t}}class Gp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Gp(0,Io.min())}}function Fx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=en.fromTimestamp(1e9===r?new dr(t+1,0):new dr(t,r));return new Io(i,wt.empty(),e)}function Rd(n){return new Io(n.readTime,n.key,-1)}class Io{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Io(en.min(),wt.empty(),-1)}static max(){return new Io(en.max(),wt.empty(),-1)}}function ly(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=wt.comparator(n.documentKey,e.documentKey),0!==t?t:bn(n.largestBatchId,e.largestBatchId))}const Ux="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Pu(n){return cy.apply(this,arguments)}function cy(){return cy=(0,Be.Z)(function*(n){if(n.code!==Se.FAILED_PRECONDITION||n.message!==Ux)throw n;ot("LocalStore","Unexpectedly lost primary lease")}),cy.apply(this,arguments)}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(t){return Ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,r)=>{t(e)})}static reject(e){return new Ae((t,r)=>{r(e)})}static waitFor(e){return new Ae((t,r)=>{let i=0,s=0,c=!1;e.forEach(d=>{++i,d.next(()=>{++s,c&&s===i&&t()},f=>r(f))}),c=!0,s===i&&t()})}static or(e){let t=Ae.resolve(!1);for(const r of e)t=t.next(i=>i?Ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Ae((r,i)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const g=f;t(e[g]).next(v=>{c[g]=v,++d,d===s&&r(c)},v=>i(v))}})}static doWhile(e,t){return new Ae((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class af{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Fi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new lf(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=P0(r.target.error);this.T.reject(new lf(e,i))}}static open(e,t,r,i){try{return new af(t,e.transaction(i,r))}catch(s){throw new lf(t,s)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(ot("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new oD(t)}}class tl{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===tl.v((0,tn.z$)())&&ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ot("SimpleDb","Removing database:",e),Nd(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,tn.hl)())return!1;if(tl.S())return!0;const e=(0,tn.z$)(),t=tl.v(e),r=0<t&&t<10,i=tl.D(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,Be.Z)(function*(){return t.db||(ot("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{r(c.target.result)},s.onblocked=()=>{i(new lf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;i("VersionError"===d.name?new et(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new et(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new lf(e,d))},s.onupgradeneeded=c=>{ot("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.O(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{ot("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,Be.Z)(function*(){const c="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.k(e);const f=af.open(s.db,e,c?"readonly":"readwrite",r),g=i(f).next(v=>(f.R(),v)).catch(v=>(f.abort(v),Ae.reject(v))).toPromise();return g.catch(()=>{}),yield f.A,g}catch(f){const g="FirebaseError"!==f.name&&d<3;if(ot("SimpleDb","Transaction failed with error:",f.message,"Retrying:",g),s.close(),!g)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Vx{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Nd(this.$.delete())}}class lf extends et{constructor(e,t){super(Se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ru(n){return"IndexedDbTransactionError"===n.name}class oD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ot("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ot("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Nd(r)}add(e){return ot("SimpleDb","ADD",this.store.name,e,e),Nd(this.store.add(e))}get(e){return Nd(this.store.get(e)).next(t=>(void 0===t&&(t=null),ot("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ot("SimpleDb","DELETE",this.store.name,e),Nd(this.store.delete(e))}count(){return ot("SimpleDb","COUNT",this.store.name),Nd(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(c,d)=>{s.push(d)}).next(()=>s)}{const i=this.store.getAll(r.range);return new Ae((s,c)=>{i.onerror=d=>{c(d.target.error)},i.onsuccess=d=>{s(d.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ae((i,s)=>{r.onerror=c=>{s(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}W(e,t){ot("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.G(i,(s,c,d)=>d.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Y(e){const t=this.cursor({});return new Ae((r,i)=>{t.onerror=s=>{const c=P0(s.target.error);i(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():r()}):r()}})}G(e,t){const r=[];return new Ae((i,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void i();const f=new Vx(d),g=t(d.primaryKey,d.value,f);if(g instanceof Ae){const v=g.catch(w=>(f.done(),Ae.reject(w)));r.push(v)}f.isDone?i():null===f.U?d.continue():d.continue(f.U)}}).next(()=>Ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nd(n){return new Ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=P0(r.target.error);t(i)}})}let uy=!1;function P0(n){const e=tl.v((0,tn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uy||(uy=!0,setTimeout(()=>{throw r},0)),r}}return n}class Bx{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;ot("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Be.Z)(function*(){t.task=null;try{ot("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){Ru(r)?ot("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Pu(r)}yield t.Z(1)}))}}class aD{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let i=t,s=!0;return Ae.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return ot("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,i).next(d=>{i-=d,r.add(c)});s=!1})).next(()=>t-i)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(i,s)).next(d=>(ot("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>c.size)}))}st(e,t){let r=e;return t.changes.forEach((i,s)=>{const c=Rd(s);ly(c,r)>0&&(r=c)}),new Io(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class to{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function jx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ld(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Zx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}to.ot=-1;class Wr{constructor(e,t){this.comparator=e,this.root=t||is.EMPTY}insert(e,t){return new Wr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,is.BLACK,null,null))}remove(e){return new Wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,is.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dy(this.root,e,this.comparator,!1)}getReverseIterator(){return new dy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dy(this.root,e,this.comparator,!0)}}class dy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class is{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:is.RED,this.left=null!=i?i:is.EMPTY,this.right=null!=s?s:is.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new is(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return is.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const e=this.left.check();if(e!==this.right.check())throw Rt();return e+(this.isRed()?0:1)}}is.EMPTY=null,is.RED=!0,is.BLACK=!1,is.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new is(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rr{constructor(e){this.comparator=e,this.data=new Wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R0(this.data.getIterator())}getIteratorFrom(e){return new R0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rr(this.comparator);return t.data=e,t}}class R0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cf(n){return n.hasNext()?n.getNext():void 0}class Do{constructor(e){this.fields=e,e.sort(ii.comparator)}static empty(){return new Do([])}unionWith(e){let t=new rr(ii.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Do(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ei(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const lD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nu(n){if(Xt(!!n),"string"==typeof n){let e=0;const t=lD.exec(n);if(Xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pr(n.seconds),nanos:Pr(n.nanos)}}function Pr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Lc(n){return"string"==typeof n?Ei.fromBase64String(n):Ei.fromUint8Array(n)}function hy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fy(n){const e=n.mapValue.fields.__previous_value__;return hy(e)?fy(e):e}function Wp(n){const e=Nu(n.mapValue.fields.__local_write_time__.timestampValue);return new dr(e.seconds,e.nanos)}class cD{constructor(e,t,r,i,s,c,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class nl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}function Kp(n){return null==n}function uf(n){return 0===n&&1/n==-1/0}function qx(n){return"number"==typeof n&&Number.isInteger(n)&&!uf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},py={nullValue:"NULL_VALUE"};function Lu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hy(n)?4:N0(n)?9007199254740991:10:Rt()}function Uc(n,e){if(n===e)return!0;const t=Lu(n);if(t!==Lu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wp(n).isEqual(Wp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Nu(r.timestampValue),c=Nu(i.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Lc(n.bytesValue).isEqual(Lc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Pr(r.geoPointValue.latitude)===Pr(i.geoPointValue.latitude)&&Pr(r.geoPointValue.longitude)===Pr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pr(r.integerValue)===Pr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Pr(r.doubleValue),c=Pr(i.doubleValue);return s===c?uf(s)===uf(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Hp(n.arrayValue.values||[],e.arrayValue.values||[],Uc);case 10:return function(r,i){const s=r.mapValue.fields||{},c=i.mapValue.fields||{};if(jx(s)!==jx(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!Uc(s[d],c[d])))return!1;return!0}(n,e);default:return Rt()}var i}function Yp(n,e){return void 0!==(n.values||[]).find(t=>Uc(t,e))}function rl(n,e){if(n===e)return 0;const t=Lu(n),r=Lu(e);if(t!==r)return bn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return bn(n.booleanValue,e.booleanValue);case 2:return function(i,s){const c=Pr(i.integerValue||i.doubleValue),d=Pr(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return zx(n.timestampValue,e.timestampValue);case 4:return zx(Wp(n),Wp(e));case 5:return bn(n.stringValue,e.stringValue);case 6:return function(i,s){const c=Lc(i),d=Lc(s);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const c=i.split("/"),d=s.split("/");for(let f=0;f<c.length&&f<d.length;f++){const g=bn(c[f],d[f]);if(0!==g)return g}return bn(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const c=bn(Pr(i.latitude),Pr(s.latitude));return 0!==c?c:bn(Pr(i.longitude),Pr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const c=i.values||[],d=s.values||[];for(let f=0;f<c.length&&f<d.length;++f){const g=rl(c[f],d[f]);if(g)return g}return bn(c.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Fc.mapValue&&s===Fc.mapValue)return 0;if(i===Fc.mapValue)return 1;if(s===Fc.mapValue)return-1;const c=i.fields||{},d=Object.keys(c),f=s.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const w=bn(d[v],g[v]);if(0!==w)return w;const S=rl(c[d[v]],f[g[v]]);if(0!==S)return S}return bn(d.length,g.length)}(n.mapValue,e.mapValue);default:throw Rt()}}function zx(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return bn(n,e);const t=Nu(n),r=Nu(e),i=bn(t.seconds,r.seconds);return 0!==i?i:bn(t.nanos,r.nanos)}function il(n){return Fd(n)}function Fd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Nu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Lc(n.bytesValue).toBase64():"referenceValue"in n?wt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const c of r.values||[])s?s=!1:i+=",",i+=Fd(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",c=!0;for(const d of i)c?c=!1:s+=",",s+=`${d}:${Fd(r.fields[d])}`;return s+"}"}(n.mapValue):Rt();var e}function Ud(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $x(n){return!!n&&"integerValue"in n}function df(n){return!!n&&"arrayValue"in n}function Gx(n){return!!n&&"nullValue"in n}function Wx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gy(n){return!!n&&"mapValue"in n}function Qp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ld(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Qp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function N0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Kx(n){return"nullValue"in n?py:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ud(nl.empty(),wt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Rt()}function L0(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ud(nl.empty(),wt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Fc:Rt()}function Jp(n,e){const t=rl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hf(n,e){const t=rl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ss{constructor(e){this.value=e}static empty(){return new ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qp(t)}setAll(e){let t=ii.emptyPath(),r={},i=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=d.popLast()}c?r[d.lastSegment()]=Qp(c):i.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());gy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];gy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ld(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ss(Qp(this.value))}}function F0(n){const e=[];return Ld(n.fields,(t,r)=>{const i=new ii([t]);if(gy(r)){const s=F0(r.mapValue).fields;if(0===s.length)e.push(i);else for(const c of s)e.push(i.child(c))}else e.push(i)}),new Do(e)}class hr{constructor(e,t,r,i,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=c}static newInvalidDocument(e){return new hr(e,0,en.min(),en.min(),ss.empty(),0)}static newFoundDocument(e,t,r){return new hr(e,1,t,en.min(),r,0)}static newNoDocument(e,t){return new hr(e,2,t,en.min(),ss.empty(),0)}static newUnknownDocument(e,t){return new hr(e,3,t,en.min(),ss.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=en.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uD{constructor(e,t=null,r=[],i=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=d,this.ut=null}}function Yx(n,e=null,t=[],r=[],i=null,s=null,c=null){return new uD(n,e,t,r,i,s,c)}function Vc(n){const e=It(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+il(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Kp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>il(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>il(r)).join(",")),e.ut=t}return e.ut}function my(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!eE(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Uc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nE(n.startAt,e.startAt)&&nE(n.endAt,e.endAt)}function yy(n){return wt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _y(n,e){return n.filters.filter(t=>t instanceof Kr&&t.field.isEqual(e))}function Vd(n,e,t){let r=py,i=!0;for(const s of _y(n,e)){let c=py,d=!0;switch(s.op){case"<":case"<=":c=Kx(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=py}Jp({value:r,inclusive:i},{value:c,inclusive:d})<0&&(r=c,i=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];Jp({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function U0(n,e,t){let r=Fc,i=!0;for(const s of _y(n,e)){let c=Fc,d=!0;switch(s.op){case">=":case">":c=L0(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=Fc}hf({value:r,inclusive:i},{value:c,inclusive:d})>0&&(r=c,i=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];hf({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Kr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new kk(e,t,r):"array-contains"===t?new Jx(e,r):"in"===t?new Ok(e,r):"not-in"===t?new Xx(e,r):"array-contains-any"===t?new V0(e,r):new Kr(e,t,r)}static ct(e,t,r){return"in"===t?new Qx(e,r):new hD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(rl(t,this.value)):null!==t&&Lu(this.value)===Lu(t)&&this.at(rl(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class kk extends Kr{constructor(e,t,r){super(e,t,r),this.key=wt.fromName(r.referenceValue)}matches(e){const t=wt.comparator(e.key,this.key);return this.at(t)}}class Qx extends Kr{constructor(e,t){super(e,"in",t),this.keys=fD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hD extends Kr{constructor(e,t){super(e,"not-in",t),this.keys=fD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>wt.fromName(r.referenceValue))}class Jx extends Kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return df(t)&&Yp(t.arrayValue,this.value)}}class Ok extends Kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yp(this.value.arrayValue,t)}}class Xx extends Kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yp(this.value.arrayValue,t)}}class V0 extends Kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!df(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Yp(this.value.arrayValue,r))}}class Bc{constructor(e,t){this.position=e,this.inclusive=t}}class Bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function eE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function tE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],c=n.position[i];if(r=s.field.isKeyField()?wt.comparator(wt.fromName(c.referenceValue),t.key):rl(c,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function nE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Uc(n.position[t],e.position[t]))return!1;return!0}class jc{constructor(e,t=null,r=[],i=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this.lt=null,this.ft=null}}function rE(n,e,t,r,i,s,c,d){return new jc(n,e,t,r,i,s,c,d)}function ff(n){return new jc(n)}function B0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function jd(n){for(const e of n.filters)if(e.ht())return e.field;return null}function vy(n){return null!==n.collectionGroup}function Zd(n){const e=It(n);if(null===e.lt){e.lt=[];const t=jd(e),r=B0(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new Bd(t)),e.lt.push(new Bd(ii.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Bd(ii.keyField(),s))}}}return e.lt}function Ao(n){const e=It(n);if(!e.ft)if("F"===e.limitType)e.ft=Yx(e.path,e.collectionGroup,Zd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Zd(e))t.push(new Bd(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Bc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bc(e.startAt.position,e.startAt.inclusive):null;e.ft=Yx(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function j0(n,e,t){return new jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pf(n,e){return my(Ao(n),Ao(e))&&n.limitType===e.limitType}function Z0(n){return`${Vc(Ao(n))}|lt:${n.limitType}`}function H0(n){return`Query(target=${function dD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${il(r.value)}`;var r}).join(", ")}]`),Kp(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>il(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>il(t)).join(",")),`Target(${e})`}(Ao(n))}; limitType=${n.limitType})`}function by(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):wt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,c){const d=tE(i,s,c);return i.inclusive?d<=0:d<0}(t.startAt,Zd(t),r)||t.endAt&&!function(i,s,c){const d=tE(i,s,c);return i.inclusive?d>=0:d>0}(t.endAt,Zd(t),r)));var t,r}function q0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iE(n){return(e,t)=>{let r=!1;for(const i of Zd(n)){const s=gD(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function gD(n,e,t){const r=n.field.isKeyField()?wt.comparator(e.key,t.key):function(i,s,c){const d=s.data.field(i),f=c.data.field(i);return null!==d&&null!==f?rl(d,f):Rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Rt()}}function sE(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function gf(n){return{integerValue:""+n}}function oE(n,e){return qx(e)?gf(e):sE(n,e)}class mf{constructor(){this._=void 0}}function ql(n,e,t){return n instanceof zl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Hd?aE(n,e):n instanceof qd?Xp(n,e):function(r,i){const s=wy(r,i),c=lE(s)+lE(r._t);return $x(s)&&$x(r._t)?gf(c):sE(r.wt,c)}(n,e)}function mD(n,e,t){return n instanceof Hd?aE(n,e):n instanceof qd?Xp(n,e):t}function wy(n,e){return n instanceof Zc?$x(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class zl extends mf{}class Hd extends mf{constructor(e){super(),this.elements=e}}function aE(n,e){const t=cE(e);for(const r of n.elements)t.some(i=>Uc(i,r))||t.push(r);return{arrayValue:{values:t}}}class qd extends mf{constructor(e){super(),this.elements=e}}function Xp(n,e){let t=cE(e);for(const r of n.elements)t=t.filter(i=>!Uc(i,r));return{arrayValue:{values:t}}}class Zc extends mf{constructor(e,t){super(),this.wt=e,this._t=t}}function lE(n){return Pr(n.integerValue||n.doubleValue)}function cE(n){return df(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class yf{constructor(e,t){this.field=e,this.transform=t}}class z0{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xy{}function yD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new $d(n.key,Rr.none()):new Fu(n.key,n.data,Rr.none());{const t=n.data,r=ss.empty();let i=new rr(ii.comparator);for(let s of e.fields)if(!i.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?r.delete(s):r.set(s,c),i=i.add(s)}return new Hc(n.key,r,new Do(i.toArray()),Rr.none())}}function $0(n,e,t){n instanceof Fu?function(r,i,s){const c=r.value.clone(),d=fE(r.fieldTransforms,i,s.transformResults);c.setAll(d),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Hc?function(r,i,s){if(!Cy(r.precondition,i))return void i.convertToUnknownDocument(s.version);const c=fE(r.fieldTransforms,i,s.transformResults),d=i.data;d.setAll(hE(r)),d.setAll(c),i.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function zd(n,e,t,r){return n instanceof Fu?function(i,s,c,d){if(!Cy(i.precondition,s))return c;const f=i.value.clone(),g=pE(i.fieldTransforms,d,s);return f.setAll(g),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Hc?function(i,s,c,d){if(!Cy(i.precondition,s))return c;const f=pE(i.fieldTransforms,d,s),g=s.data;return g.setAll(hE(i)),g.setAll(f),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(v=>v.field))}(n,e,t,r):(c=t,Cy(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function dE(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=wy(r.transform,i||null);null!=s&&(null===t&&(t=ss.empty()),t.set(r.field,s))}return t||null}function Ey(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Hp(t,r,(i,s)=>function uE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Hd&&r instanceof Hd||t instanceof qd&&r instanceof qd?Hp(t.elements,r.elements,Uc):t instanceof Zc&&r instanceof Zc?Uc(t._t,r._t):t instanceof zl&&r instanceof zl);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Fu extends xy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hc extends xy{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function fE(n,e,t){const r=new Map;Xt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],c=s.transform,d=e.data.field(s.field);r.set(s.field,mD(c,d,t[i]))}return r}function pE(n,e,t){const r=new Map;for(const i of n){const s=i.transform,c=t.data.field(i.field);r.set(i.field,ql(s,c,e))}return r}class $d extends xy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eg extends xy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gE{constructor(e){this.count=e}}var si,Ln;function G0(n){switch(n){default:return Rt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function mE(n){if(void 0===n)return ui("GRPC error has no .code"),Se.UNKNOWN;switch(n){case si.OK:return Se.OK;case si.CANCELLED:return Se.CANCELLED;case si.UNKNOWN:return Se.UNKNOWN;case si.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case si.INTERNAL:return Se.INTERNAL;case si.UNAVAILABLE:return Se.UNAVAILABLE;case si.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case si.NOT_FOUND:return Se.NOT_FOUND;case si.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case si.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case si.ABORTED:return Se.ABORTED;case si.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case si.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case si.DATA_LOSS:return Se.DATA_LOSS;default:return Rt()}}(Ln=si||(si={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";class qc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ld(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Zx(this.inner)}size(){return this.innerSize}}const yE=new Wr(wt.comparator);function no(){return yE}const W0=new Wr(wt.comparator);function _f(...n){let e=W0;for(const t of n)e=e.insert(t.key,t);return e}function ws(n){let e=W0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Us(){return tg()}function _E(){return tg()}function tg(){return new qc(n=>n.toString(),(n,e)=>n.isEqual(e))}const Pk=new Wr(wt.comparator),ng=new rr(wt.comparator);function wn(...n){let e=ng;for(const t of n)e=e.add(t);return e}const K0=new rr(bn);function Ty(){return K0}class vf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,rg.createSynthesizedTargetChangeForCurrentChange(e,t)),new vf(en.min(),r,Ty(),no(),wn())}}class rg{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new rg(Ei.EMPTY_BYTE_STRING,t,wn(),wn(),wn())}}class Iy{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class Dy{constructor(e,t){this.targetId=e,this.It=t}}class Y0{constructor(e,t,r=Ei.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Q0{constructor(){this.Tt=0,this.Et=_D(),this.At=Ei.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=wn(),t=wn(),r=wn();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Rt()}}),new rg(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=_D()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Ay{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=no(),this.Bt=Sy(),this.Lt=new rr(bn)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:Rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const s=i.target;if(yy(s))if(0===r){const c=new wt(s.path);this.Kt(t,c,hr.newNoDocument(c,en.min()))}else Xt(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((s,c)=>{const d=this.Ht(c);if(d){if(s.current&&yy(d.target)){const f=new wt(d.target.path);null!==this.$t.get(f)||this.Xt(c,f)||this.Kt(c,f,hr.newNoDocument(f,e))}s.vt&&(t.set(c,s.St()),s.Dt())}});let r=wn();this.Bt.forEach((s,c)=>{let d=!0;c.forEachWhile(f=>{const g=this.Ht(f);return!g||2===g.purpose||(d=!1,!1)}),d&&(r=r.add(s))}),this.$t.forEach((s,c)=>c.setReadTime(e));const i=new vf(e,t,this.Lt,this.$t,r);return this.$t=no(),this.Bt=Sy(),this.Lt=new rr(bn),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Q0,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new rr(bn),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||ot("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Q0),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function Sy(){return new Wr(wt.comparator)}function _D(){return new Wr(wt.comparator)}const vE={asc:"ASCENDING",desc:"DESCENDING"},vD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class bE{constructor(e,t){this.databaseId=e,this.dt=t}}function Uu(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J0(n,e){return n.dt?e.toBase64():e.toUint8Array()}function bD(n,e){return Uu(n,e.toTimestamp())}function di(n){return Xt(!!n),en.fromTimestamp(function(e){const t=Nu(e);return new dr(t.seconds,t.nanos)}(n))}function ig(n,e){return(t=n,new Nn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wD(n){const e=Nn.fromString(n);return Xt(ID(e)),e}function sg(n,e){return ig(n.databaseId,e.path)}function $l(n,e){const t=wD(e);if(t.get(1)!==n.databaseId.projectId)throw new et(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new et(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new wt(eb(t))}function My(n,e){return ig(n.databaseId,e)}function X0(n){const e=wD(n);return 4===e.length?Nn.emptyPath():eb(e)}function og(n){return new Nn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eb(n){return Xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tb(n,e,t){return{name:sg(n,e),fields:t.value.mapValue.fields}}function wE(n,e,t){const r=$l(n,e.name),i=di(e.updateTime),s=new ss({mapValue:{fields:e.fields}}),c=hr.newFoundDocument(r,i,s);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function ag(n,e){let t;if(e instanceof Fu)t={update:tb(n,e.key,e.value)};else if(e instanceof $d)t={delete:sg(n,e.key)};else if(e instanceof Hc)t={update:tb(n,e.key,e.data),updateMask:Lk(e.fieldMask)};else{if(!(e instanceof eg))return Rt();t={verify:sg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const c=s.transform;if(c instanceof zl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Hd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof qd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zc)return{fieldPath:s.field.canonicalString(),increment:c._t};throw Rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:bD(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Rt()),t;var i}function ky(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Rr.updateTime(di(i.updateTime)):void 0!==i.exists?Rr.exists(i.exists):Rr.none():Rr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,c){let d=null;"setToServerValue"in c?(Xt("REQUEST_TIME"===c.setToServerValue),d=new zl):"appendMissingElements"in c?d=new Hd(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new qd(c.removeAllFromArray.values||[]):"increment"in c?d=new Zc(s,c.increment):Rt();const f=ii.fromServerFormat(c.fieldPath);return new yf(f,d)}(n,i)):[];var i;if(e.update){const i=$l(n,e.update.name),s=new ss({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Do((e.updateMask.fieldPaths||[]).map(g=>ii.fromServerFormat(g)));return new Hc(i,s,c,t,r)}return new Fu(i,s,t,r)}if(e.delete){const i=$l(n,e.delete);return new $d(i,t)}if(e.verify){const i=$l(n,e.verify);return new eg(i,t)}return Rt()}function nb(n,e){return{documents:[My(n,e.path)]}}function rb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=My(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=My(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(f){if(0===f.length)return;const g=f.map(v=>function(w){if("=="===w.op){if(Wx(w.value))return{unaryFilter:{field:lg(w.field),op:"IS_NAN"}};if(Gx(w.value))return{unaryFilter:{field:lg(w.field),op:"IS_NULL"}}}else if("!="===w.op){if(Wx(w.value))return{unaryFilter:{field:lg(w.field),op:"IS_NOT_NAN"}};if(Gx(w.value))return{unaryFilter:{field:lg(w.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lg(w.field),op:Rk(w.op),value:w.value}}}(v));return 1===g.length?g[0]:{compositeFilter:{op:"AND",filters:g}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(f){if(0!==f.length)return f.map(g=>{return{field:lg((v=g).field),direction:TE(v.dir)};var v})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(g=e.limit,n.dt||Kp(g)?g:{value:g});var g,d,f;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(f=e.endAt).inclusive,values:f.position}),t}function EE(n){let e=X0(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Xt(1===r);const v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let s=[];t.where&&(s=ED(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(v=>{return new Bd(cg((w=v).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let d=null;t.limit&&(d=function(v){let w;return w="object"==typeof v?v.value:v,Kp(w)?null:w}(t.limit));let f=null;var v;t.startAt&&(f=new Bc((v=t.startAt).values||[],!!v.before));let g=null;return t.endAt&&(g=function(v){return new Bc(v.values||[],!v.before)}(t.endAt)),rE(e,i,c,s,d,"F",f,g)}function ED(n){return n?void 0!==n.unaryFilter?[Nk(n)]:void 0!==n.fieldFilter?[TD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>ED(e)).reduce((e,t)=>e.concat(t)):Rt():[]}function TE(n){return vE[n]}function Rk(n){return vD[n]}function lg(n){return{fieldPath:n.canonicalString()}}function cg(n){return ii.fromServerFormat(n.fieldPath)}function TD(n){return Kr.create(cg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Nk(n){switch(n.unaryFilter.op){case"IS_NAN":const e=cg(n.unaryFilter.field);return Kr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=cg(n.unaryFilter.field);return Kr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cg(n.unaryFilter.field);return Kr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=cg(n.unaryFilter.field);return Kr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}function Lk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ID(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ro(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DD(e)),e=Oy(n.get(t),e);return DD(e)}function Oy(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function DD(n){return n+"\x01\x01"}function sl(n){const e=n.length;if(Xt(e>=2),2===e)return Xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Nn.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&Rt(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let f;0===i.length?f=d:(i+=d,f=i,i=""),r.push(f);break;case"\x10":i+=n.substring(s,c),i+="\0";break;case"\x11":i+=n.substring(s,c+1);break;default:Rt()}s=c+2}return new Nn(r)}const Py=["userId","batchId"];function ug(n,e){return[n,ro(e)]}function ib(n,e,t){return[n,ro(e),t]}const Fk={},sb=["prefixPath","collectionGroup","readTime","documentId"],IE=["prefixPath","collectionGroup","documentId"],DE=["collectionGroup","readTime","prefixPath","documentId"],AE=["canonicalId","targetId"],Uk=["targetId","path"],SE=["path","targetId"],AD=["collectionId","parent"],ob=["indexId","uid"],SD=["uid","sequenceNumber"],Vk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Bk=["indexId","uid","orderedDocumentKey"],jk=["userId","collectionPath","documentId"],MD=["userId","collectionPath","largestBatchId"],kD=["userId","collectionGroup","largestBatchId"],ME=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zk=[...ME,"documentOverlays"],kE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ry=kE,OD=[...Ry,"indexConfiguration","indexState","indexEntries"];class So extends O0{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Ui(n,e){const t=It(n);return tl.N(t.ee,e)}class dg{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$0(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_E();return this.mutations.forEach(i=>{const s=e.get(i.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=t.has(i.key)?null:d;const f=yD(c,d);null!==f&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(en.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wn())}isEqual(e){return this.batchId===e.batchId&&Hp(this.mutations,e.mutations,(t,r)=>Ey(t,r))&&Hp(this.baseMutations,e.baseMutations,(t,r)=>Ey(t,r))}}class ab{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Xt(e.mutations.length===r.length);let i=Pk;const s=e.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new ab(e,t,r,i)}}class lb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gl{constructor(e,t,r,i,s=en.min(),c=en.min(),d=Ei.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(e){return new Gl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cb{constructor(e){this.ne=e}}function PE(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:hg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:sg(i=n.ne,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Uu(i,s.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Vu(e.version)};else{if(!e.isUnknownDocument())return Rt();r.unknownDocument={path:t.path.toArray(),version:Vu(e.version)}}var i,s;return r}function hg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Vu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gd(n){const e=new dr(n.seconds,n.nanoseconds);return en.fromTimestamp(e)}function Wd(n,e){const t=(e.baseMutations||[]).map(s=>ky(n.ne,s));for(let s=0;s<e.mutations.length-1;++s){const c=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(c.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(s=>ky(n.ne,s)),i=dr.fromMillis(e.localWriteTimeMs);return new dg(e.batchId,i,t,r)}function Kd(n){const e=Gd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gd(n.lastLimboFreeSnapshotVersion):en.min();let r;var i;return void 0!==n.query.documents?(Xt(1===(i=n.query).documents.length),r=Ao(ff(X0(i.documents[0])))):r=Ao(EE(n.query)),new Gl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ei.fromBase64String(n.resumeToken))}function ca(n,e){const t=Vu(e.snapshotVersion),r=Vu(e.lastLimboFreeSnapshotVersion);let i;i=yy(e.target)?nb(n.ne,e.target):rb(n.ne,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vc(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ub(n){const e=EE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?j0(e,e.limit,"L"):e}function RE(n,e){return new lb(e.largestBatchId,ky(n.ne,e.overlayMutation))}function NE(n,e){const t=e.path.lastSegment();return[n,ro(e.path.popLast()),t]}function db(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Vu(r.readTime),documentKey:ro(r.documentKey.path),largestBatchId:r.largestBatchId}}class PD{getBundleMetadata(e,t){return LE(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Gd(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return LE(e).put({bundleId:(r=t).id,createTime:Vu(di(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return hb(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:ub(i.bundledQuery),readTime:Gd(i.readTime)};var i})}saveNamedQuery(e,t){return hb(e).put({name:(r=t).name,readTime:Vu(di(r.readTime)),bundledQuery:r.bundledQuery});var r}}function LE(n){return Ui(n,"bundles")}function hb(n){return Ui(n,"namedQueries")}class Ny{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new Ny(e,t.uid||"")}getOverlay(e,t){return Ly(e).get(NE(this.userId,t)).next(r=>r?RE(this.wt,r):null)}getOverlays(e,t){const r=Us();return Ae.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,c)=>{const d=new lb(t,c);i.push(this.ie(e,d))}),Ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(ro(c.getCollectionPath())));const s=[];return i.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);s.push(Ly(e).W("collectionPathOverlayIndex",d))}),Ae.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Us(),s=ro(t),c=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ly(e).K("collectionPathOverlayIndex",c).next(d=>{for(const f of d){const g=RE(this.wt,f);i.set(g.getKey(),g)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Us();let c;const d=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ly(e).J({index:"collectionGroupOverlayIndex",range:d},(f,g,v)=>{const w=RE(this.wt,g);s.size()<i||w.largestBatchId===c?(s.set(w.getKey(),w),c=w.largestBatchId):v.done()}).next(()=>s)}ie(e,t){return Ly(e).put(function(r,i,s){const[c,d,f]=NE(i,s.mutation.key);return{userId:i,collectionPath:d,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ag(r.ne,s.mutation)}}(this.wt,this.userId,t))}}function Ly(n){return Ui(n,"documentOverlays")}class Bu{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Pr(e.integerValue));else if("doubleValue"in e){const r=Pr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),uf(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Lc(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?N0(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Rt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),wt.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function FE(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function UE(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=FE(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Bu.ye=new Bu;class RD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=t.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const t=this.Ve(e),r=UE(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}De(e){const t=this.Ve(e),r=UE(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class VE{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class fb{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Yd{constructor(){this.Me=new RD,this.Fe=new VE(this.Me),this.$e=new fb(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class ju{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ju(this.indexId,this.documentKey,this.arrayValue,r)}}function Qd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=pb(n.arrayValue,e.arrayValue),0!==t?t:(t=pb(n.directionalValue,e.directionalValue),0!==t?t:wt.comparator(n.documentKey,e.documentKey)))}function pb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class BE{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=k0(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Pd(e);let i=0,s=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const c=r[i];if(!this.je(this.Ke,c)||!this.We(this.Ue[s++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(s>=this.Ue.length||!this.We(this.Ue[s++],c))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class ND{constructor(){this.ze=new gb}addToCollectionParentIndex(e,t){return this.ze.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Ae.resolve()}deleteFieldIndex(e,t){return Ae.resolve()}getDocumentsMatchingTarget(e,t){return Ae.resolve(null)}getIndexType(e,t){return Ae.resolve(0)}getFieldIndexes(e,t){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,t){return Ae.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,t){return Ae.resolve(Io.min())}updateCollectionGroup(e,t,r){return Ae.resolve()}updateIndexEntries(e,t){return Ae.resolve()}}class gb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new rr(Nn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(Nn.comparator)).toArray()}}const mb=new Uint8Array(0);class Hk{constructor(e,t){this.user=e,this.databaseId=t,this.He=new gb,this.Je=new qc(r=>Vc(r),(r,i)=>my(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const s={collectionId:r,parent:ro(i)};return yb(e).put(s)}return Ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[M0(t),""],!1,!0);return yb(e).K(i).next(s=>{for(const c of s){if(c.collectionId!==t)break;r.push(sl(c.parent))}return r})}addFieldIndex(e,t){const r=Fy(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete i.indexId;const s=r.add(i);if(t.indexState){const c=pg(e);return s.next(d=>{c.put(db(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Fy(e),i=pg(e),s=fg(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=fg(e);let i=!0;const s=new Map;return Ae.forEach(this.Ye(t),c=>this.Xe(e,c).next(d=>{i&&(i=!!d),s.set(c,d)})).next(()=>{if(i){let c=wn();const d=[];return Ae.forEach(s,(f,g)=>{var v;ot("IndexedDbIndexManager",`Using index ${v=f,`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(Le=>`${Le.fieldPath}:${Le.kind}`).join(",")}`} to execute ${Vc(t)}`);const w=function(Le,xe){const Ie=k0(xe);if(void 0===Ie)return null;for(const tt of _y(Le,Ie.fieldPath))switch(tt.op){case"array-contains-any":return tt.value.arrayValue.values||[];case"array-contains":return[tt.value]}return null}(g,f),S=function(Le,xe){const Ie=new Map;for(const tt of Pd(xe))for(const dt of _y(Le,tt.fieldPath))switch(dt.op){case"==":case"in":Ie.set(tt.fieldPath.canonicalString(),dt.value);break;case"not-in":case"!=":return Ie.set(tt.fieldPath.canonicalString(),dt.value),Array.from(Ie.values())}return null}(g,f),k=function(Le,xe){const Ie=[];let tt=!0;for(const dt of Pd(xe)){const Mt=0===dt.kind?Vd(Le,dt.fieldPath,Le.startAt):U0(Le,dt.fieldPath,Le.startAt);Ie.push(Mt.value),tt&&(tt=Mt.inclusive)}return new Bc(Ie,tt)}(g,f),R=function(Le,xe){const Ie=[];let tt=!0;for(const dt of Pd(xe)){const Mt=0===dt.kind?U0(Le,dt.fieldPath,Le.endAt):Vd(Le,dt.fieldPath,Le.endAt);Ie.push(Mt.value),tt&&(tt=Mt.inclusive)}return new Bc(Ie,tt)}(g,f),B=this.Ze(f,g,k),G=this.Ze(f,g,R),te=this.tn(f,g,S),ye=this.en(f.indexId,w,B,k.inclusive,G,R.inclusive,te);return Ae.forEach(ye,Le=>r.j(Le,t.limit).next(xe=>{xe.forEach(Ie=>{const tt=wt.fromSegments(Ie.documentKey);c.has(tt)||(c=c.add(tt),d.push(tt))})}))}).next(()=>d)}return Ae.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,i,s,c,d){const f=(null!=t?t.length:1)*Math.max(r.length,s.length),g=f/(null!=t?t.length:1),v=[];for(let w=0;w<f;++w){const S=t?this.nn(t[w/g]):mb,k=this.sn(e,S,r[w%g],i),R=this.rn(e,S,s[w%g],c),B=d.map(G=>this.sn(e,S,G,!0));v.push(...this.createRange(k,R,B))}return v}sn(e,t,r,i){const s=new ju(e,wt.empty(),t,r);return i?s:s.Le()}rn(e,t,r,i){const s=new ju(e,wt.empty(),t,r);return i?s.Le():s}Xe(e,t){const r=new BE(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let c=null;for(const d of s)r.Ge(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let r=2;return Ae.forEach(this.Ye(t),i=>this.Xe(e,i).next(s=>{s?0!==r&&s.fields.length<function(c){let d=new rr(ii.comparator),f=!1;for(const g of c.filters){const v=g;v.field.isKeyField()||("array-contains"===v.op||"array-contains-any"===v.op?f=!0:d=d.add(v.field))}for(const g of c.orderBy)g.field.isKeyField()||(d=d.add(g.field));return d.size+(f?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new Yd;for(const i of Pd(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const c=r.Be(i.kind);Bu.ye.re(s,c)}return r.Oe()}nn(e){const t=new Yd;return Bu.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new Yd;return Bu.ye.re(Ud(this.databaseId,t),r.Be(function(i){const s=Pd(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let i=[];i.push(new Yd);let s=0;for(const c of Pd(e)){const d=r[s++];for(const f of i)if(this.cn(t,c.fieldPath)&&df(d))i=this.an(i,c,d);else{const g=f.Be(c.kind);Bu.ye.re(d,g)}}return this.hn(i)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const i=[...e],s=[];for(const c of r.arrayValue.values||[])for(const d of i){const f=new Yd;f.seed(d.Oe()),Bu.ye.re(c,f.Be(t.kind)),s.push(f)}return s}cn(e,t){return!!e.filters.find(r=>r instanceof Kr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Fy(e),i=pg(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(s=>{const c=[];return Ae.forEach(s,d=>i.get([d.indexId,this.uid]).next(f=>{c.push(function(g,v){const w=v?new Gp(v.sequenceNumber,new Io(Gd(v.readTime),new wt(sl(v.documentKey)),v.largestBatchId)):Gp.empty(),S=g.fields.map(([k,R])=>new $p(ii.fromServerFormat(k),R));return new ay(g.indexId,g.collectionGroup,S,w)}(d,f))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:bn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Fy(e),s=pg(e);return this.ln(e).next(c=>i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>Ae.forEach(d,f=>s.put(db(f.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return Ae.forEach(t,(i,s)=>{const c=r.get(i.collectionGroup);return(c?Ae.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(d=>(r.set(i.collectionGroup,d),Ae.forEach(d,f=>this.fn(e,i,f).next(g=>{const v=this.dn(s,f);return g.isEqual(v)?Ae.resolve():this._n(e,s,f,g,v)}))))})}wn(e,t,r,i){return fg(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,i){return fg(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const i=fg(e);let s=new rr(Qd);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(c,d)=>{s=s.add(new ju(r.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}dn(e,t){let r=new rr(Qd);const i=this.on(t,e);if(null==i)return r;const s=k0(t);if(null!=s){const c=e.data.field(s.fieldPath);if(df(c))for(const d of c.arrayValue.values||[])r=r.add(new ju(t.indexId,e.key,this.nn(d),i))}else r=r.add(new ju(t.indexId,e.key,mb,i));return r}_n(e,t,r,i,s){ot("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(d,f,g,v,w){const S=d.getIterator(),k=f.getIterator();let R=cf(S),B=cf(k);for(;R||B;){let G=!1,te=!1;if(R&&B){const ye=g(R,B);ye<0?te=!0:ye>0&&(G=!0)}else null!=R?te=!0:G=!0;G?(v(B),B=cf(k)):te?(w(R),R=cf(S)):(R=cf(S),B=cf(k))}}(i,s,Qd,d=>{c.push(this.wn(e,t,r,d))},d=>{c.push(this.mn(e,t,r,d))}),Ae.waitFor(c)}ln(e){let t=1;return pg(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,d)=>Qd(c,d)).filter((c,d,f)=>!d||0!==Qd(c,f[d-1]));const i=[];i.push(e);for(const c of r){const d=Qd(c,e),f=Qd(c,t);if(0===d)i[0]=e.Le();else if(d>0&&f<0)i.push(c),i.push(c.Le());else if(f>0)break}i.push(t);const s=[];for(let c=0;c<i.length;c+=2)s.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,mb,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,mb,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(LD)}getMinOffset(e,t){return Ae.mapArray(this.Ye(t),r=>this.Xe(e,r).next(i=>i||Rt())).next(LD)}}function yb(n){return Ui(n,"collectionParents")}function fg(n){return Ui(n,"indexEntries")}function Fy(n){return Ui(n,"indexConfiguration")}function pg(n){return Ui(n,"indexState")}function LD(n){Xt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;ly(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Io(e.readTime,e.documentKey,t)}const FD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mo(e,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function UD(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let d=0;const f=r.J({range:c},(v,w,S)=>(d++,S.delete()));s.push(f.next(()=>{Xt(1===d)}));const g=[];for(const v of t.mutations){const w=ib(e,v.key.path,t.batchId);s.push(i.delete(w)),g.push(v.key)}return Ae.waitFor(s).next(()=>g)}function _b(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Rt();e=n.noDocument}return JSON.stringify(e).length}Mo.DEFAULT_COLLECTION_PERCENTILE=10,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mo.DEFAULT=new Mo(41943040,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mo.DISABLED=new Mo(-1,0,0);class Uy{constructor(e,t,r,i){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,t,r,i){Xt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Uy(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zu(e).J({index:"userMutationsIndex",range:r},(i,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=bf(e),c=Zu(e);return c.add({}).next(d=>{Xt("number"==typeof d);const f=new dg(d,t,r,i),g=function(S,k,R){const B=R.baseMutations.map(te=>ag(S.ne,te)),G=R.mutations.map(te=>ag(S.ne,te));return{userId:k,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:B,mutations:G}}(this.wt,this.userId,f),v=[];let w=new rr((S,k)=>bn(S.canonicalString(),k.canonicalString()));for(const S of i){const k=ib(this.userId,S.key.path,d);w=w.add(S.key.path.popLast()),v.push(c.put(g)),v.push(s.put(k,Fk))}return w.forEach(S=>{v.push(this.indexManager.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(()=>{this.gn[d]=f.keys()}),Ae.waitFor(v).next(()=>f)})}lookupMutationBatch(e,t){return Zu(e).get(t).next(r=>r?(Xt(r.userId===this.userId),Wd(this.wt,r)):null)}yn(e,t){return this.gn[t]?Ae.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.gn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Zu(e).J({index:"userMutationsIndex",range:i},(c,d,f)=>{d.userId===this.userId&&(Xt(d.batchId>=r),s=Wd(this.wt,d)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zu(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,s,c)=>{r=s.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zu(e).K("userMutationsIndex",t).next(r=>r.map(i=>Wd(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ug(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return bf(e).J({range:i},(c,d,f)=>{const[g,v,w]=c,S=sl(v);if(g===this.userId&&t.path.isEqual(S))return Zu(e).get(w).next(k=>{if(!k)throw Rt();Xt(k.userId===this.userId),s.push(Wd(this.wt,k))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(bn);const i=[];return t.forEach(s=>{const c=ug(this.userId,s.path),d=IDBKeyRange.lowerBound(c),f=bf(e).J({range:d},(g,v,w)=>{const[S,k,R]=g,B=sl(k);S===this.userId&&s.path.isEqual(B)?r=r.add(R):w.done()});i.push(f)}),Ae.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=ug(this.userId,r),c=IDBKeyRange.lowerBound(s);let d=new rr(bn);return bf(e).J({range:c},(f,g,v)=>{const[w,S,k]=f,R=sl(S);w===this.userId&&r.isPrefixOf(R)?R.length===i&&(d=d.add(k)):v.done()}).next(()=>this.pn(e,d))}pn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Zu(e).get(s).next(c=>{if(null===c)throw Rt();Xt(c.userId===this.userId),r.push(Wd(this.wt,c))}))}),Ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return UD(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return bf(e).J({range:r},(s,c,d)=>{if(s[0]===this.userId){const f=sl(s[1]);i.push(f)}else d.done()}).next(()=>{Xt(0===i.length)})})}containsKey(e,t){return gg(e,this.userId,t)}Tn(e){return vb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function gg(n,e,t){const r=ug(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let c=!1;return bf(n).J({range:s,H:!0},(d,f,g)=>{const[v,w,S]=d;v===e&&w===i&&(c=!0),g.done()}).next(()=>c)}function Zu(n){return Ui(n,"mutations")}function bf(n){return Ui(n,"documentMutations")}function vb(n){return Ui(n,"mutationQueues")}class ko{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new ko(0)}static Rn(){return new ko(-1)}}class jE{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new ko(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>en.fromTimestamp(new dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pn(e,i)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Hu(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(Xt(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Hu(e).J((c,d)=>{const f=Kd(d);f.sequenceNumber<=t&&null===r.get(f.targetId)&&(i++,s.push(this.removeTargetData(e,f)))}).next(()=>Ae.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Hu(e).J((r,i)=>{const s=Kd(i);t(s)})}bn(e){return Vy(e).get("targetGlobalKey").next(t=>(Xt(null!==t),t))}Pn(e,t){return Vy(e).put("targetGlobalKey",t)}vn(e,t){return Hu(e).put(ca(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Vc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Hu(e).J({range:i,index:"queryTargetsIndex"},(c,d,f)=>{const g=Kd(d);my(t,g.target)&&(s=g,f.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=qu(e);return t.forEach(c=>{const d=ro(c.path);i.push(s.put({targetId:r,path:d})),i.push(this.referenceDelegate.addReference(e,r,c))}),Ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=qu(e);return Ae.forEach(t,s=>{const c=ro(s.path);return Ae.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=qu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=qu(e);let s=wn();return i.J({range:r,H:!0},(c,d,f)=>{const g=sl(c[1]),v=new wt(g);s=s.add(v)}).next(()=>s)}containsKey(e,t){const r=ro(t.path),i=IDBKeyRange.bound([r],[M0(r)],!1,!0);let s=0;return qu(e).J({index:"documentTargetsIndex",H:!0,range:i},([c,d],f,g)=>{0!==c&&(s++,g.done())}).next(()=>s>0)}te(e,t){return Hu(e).get(t).next(r=>r?Kd(r):null)}}function Hu(n){return Ui(n,"targets")}function Vy(n){return Ui(n,"targetGlobal")}function qu(n){return Ui(n,"targetDocuments")}function By([n,e],[t,r]){const i=bn(n,t);return 0===i?bn(e,r):i}class bb{constructor(e){this.Sn=e,this.buffer=new rr(By),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();By(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jy{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;ot("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Be.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ru(r)?ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Pu(r)}yield t.kn(3e5)}))}}class qk{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ae.resolve(to.ot);const r=new bb(t);return this.On.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.On.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(FD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FD):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,i,s,c,d,f,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,c=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,t))).next(w=>(s=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(g=Date.now(),A0()<=Cd.in.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-v}ms\n\tDetermined least recently used ${i} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(f-d)+`ms\n\tRemoved ${w} documents in `+(g-f)+`ms\nTotal Duration: ${g-v}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:w})))}}class zk{constructor(e,t){this.db=e,this.garbageCollector=new qk(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,i)=>t(i))}addReference(e,t,r){return wb(e,r)}removeReference(e,t,r){return wb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return wb(e,t)}Un(e,t){return function(r,i){let s=!1;return vb(r).Y(c=>gg(r,c,i).next(d=>(d&&(s=!0),Ae.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Ln(e,(c,d)=>{if(d<=t){const f=this.Un(e,c).next(g=>{if(!g)return s++,r.getEntry(e,c).next(()=>(r.removeEntry(c,en.min()),qu(e).delete([0,ro(c.path)])))});i.push(f)}}).next(()=>Ae.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return wb(e,t)}Ln(e,t){const r=qu(e);let i,s=to.ot;return r.J({index:"documentTargetsIndex"},([c,d],{path:f,sequenceNumber:g})=>{0===c?(s!==to.ot&&t(new wt(sl(i)),s),s=g,i=f):s=to.ot}).next(()=>{s!==to.ot&&t(new wt(sl(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wb(n,e){return qu(n).put((r=n.currentSequenceNumber,{targetId:0,path:ro(e.path),sequenceNumber:r}));var r}class VD{constructor(){this.changes=new qc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZE{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Jd(e).put(r)}removeEntry(e,t,r){return Jd(e).delete(function(i,s){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],hg(s),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=hr.newInvalidDocument(t);return Jd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(wf(t))},(i,s)=>{r=this.Kn(t,s)}).next(()=>r)}Gn(e,t){let r={size:0,document:hr.newInvalidDocument(t)};return Jd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(wf(t))},(i,s)=>{r={document:this.Kn(t,s),size:_b(s)}}).next(()=>r)}getEntries(e,t){let r=no();return this.Qn(e,t,(i,s)=>{const c=this.Kn(i,s);r=r.insert(i,c)}).next(()=>r)}jn(e,t){let r=no(),i=new Wr(wt.comparator);return this.Qn(e,t,(s,c)=>{const d=this.Kn(s,c);r=r.insert(s,d),i=i.insert(s,_b(c))}).next(()=>({documents:r,Wn:i}))}Qn(e,t,r){if(t.isEmpty())return Ae.resolve();let i=new rr(xb);t.forEach(f=>i=i.add(f));const s=IDBKeyRange.bound(wf(i.first()),wf(i.last())),c=i.getIterator();let d=c.getNext();return Jd(e).J({index:"documentKeyIndex",range:s},(f,g,v)=>{const w=wt.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&xb(d,w)<0;)r(d,null),d=c.getNext();d&&d.isEqual(w)&&(r(d,g),d=c.hasNext()?c.getNext():null),d?v.q(wf(d)):v.done()}).next(()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),hg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jd(e).K(IDBKeyRange.bound(i,s,!0)).next(c=>{let d=no();for(const f of c){const g=this.Kn(wt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d=d.insert(g.key,g)}return d})}getAllFromCollectionGroup(e,t,r,i){let s=no();const c=Cb(t,r),d=Cb(t,Io.max());return Jd(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(f,g,v)=>{const w=this.Kn(wt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);s=s.insert(w.key,w),s.size===i&&v.done()}).next(()=>s)}newChangeBuffer(e){return new BD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return qE(e).get("remoteDocumentGlobalKey").next(t=>(Xt(!!t),t))}qn(e,t){return qE(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function OE(n,e){let t;if(e.document)t=wE(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=wt.fromSegments(e.noDocument.path),i=Gd(e.noDocument.readTime);t=hr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Rt();{const r=wt.fromSegments(e.unknownDocument.path),i=Gd(e.unknownDocument.version);t=hr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new dr(r[0],r[1]);return en.fromTimestamp(i)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(en.min()))return r}return hr.newInvalidDocument(e)}}function HE(n){return new ZE(n)}class BD extends VD{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new qc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new rr((s,c)=>bn(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Hn.get(s);if(t.push(this.zn.removeEntry(e,s,d.readTime)),c.isValidDocument()){const f=PE(this.zn.wt,c);i=i.add(s.path.popLast()),r+=_b(f)-d.size,t.push(this.zn.addEntry(e,s,f))}else if(r-=d.size,this.trackRemovals){const f=PE(this.zn.wt,c.convertToNoDocument(en.min()));t.push(this.zn.addEntry(e,s,f))}}),i.forEach(s=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.zn.updateMetadata(e,r)),Ae.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:i})=>(i.forEach((s,c)=>{this.Hn.set(s,{size:c,readTime:r.get(s).readTime})}),r))}}function qE(n){return Ui(n,"remoteDocumentGlobal")}function Jd(n){return Ui(n,"remoteDocumentsV14")}function wf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Cb(n,e){const t=e.documentKey.path.toArray();return[n,hg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function xb(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=bn(t[s],r[s]),i)return i;return i=bn(t.length,r.length),i||(i=bn(t[t.length-2],r[r.length-2]),i||bn(t[t.length-1],r[r.length-1]))}class jD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zE{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&zd(r.mutation,i,Do.empty(),dr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,wn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=wn()){const i=Us();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let c=_f();return s.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Us();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,wn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,r,i){let s=no();const c=tg(),d=tg();return t.forEach((f,g)=>{const v=r.get(g.key);i.has(g.key)&&(void 0===v||v.mutation instanceof Hc)?s=s.insert(g.key,g):void 0!==v&&(c.set(g.key,v.mutation.getFieldMask()),zd(v.mutation,g,v.mutation.getFieldMask(),dr.now()))}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var w;return d.set(g,new jD(v,null!==(w=c.get(g))&&void 0!==w?w:null))}),d))}recalculateAndSaveOverlays(e,t){const r=tg();let i=new Wr((c,d)=>c-d),s=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(f=>{const g=t.get(f);if(null===g)return;let v=r.get(f)||Do.empty();v=d.applyToLocalView(g,v),r.set(f,v);const w=(i.get(d.batchId)||wn()).add(f);i=i.insert(d.batchId,w)})}).next(()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,v=f.value,w=_E();v.forEach(S=>{if(!s.has(S)){const k=yD(t.get(S),r.get(S));null!==k&&w.set(S,k),s=s.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return Ae.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return wt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Ae.resolve(Us());let d=-1,f=s;return c.next(g=>Ae.forEach(g,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),s.get(v)?Ae.resolve():this.getBaseDocument(e,v,w).next(S=>{f=f.insert(v,S)}))).next(()=>this.populateOverlays(e,g,s)).next(()=>this.computeViews(e,f,g,wn())).next(v=>({batchId:d,changes:ws(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wt(t)).next(r=>{let i=_f();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=_f();return this.indexManager.getCollectionParents(e,i).next(c=>Ae.forEach(c,d=>{const f=(g=t,v=d.child(i),new jc(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,v;return this.getDocumentsMatchingCollectionQuery(e,f,r).next(g=>{g.forEach((v,w)=>{s=s.insert(v,w)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((d,f)=>{const g=f.getKey();null===i.get(g)&&(i=i.insert(g,hr.newInvalidDocument(g)))});let c=_f();return i.forEach((d,f)=>{const g=s.get(d);void 0!==g&&zd(g.mutation,f,Do.empty(),dr.now()),by(t,f)&&(c=c.insert(d,f))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ae.resolve(hr.newInvalidDocument(t))}}class $E{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:di(r.createTime)}),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:ub(r.bundledQuery),readTime:di(r.readTime)}),Ae.resolve();var r}}class Eb{constructor(){this.overlays=new Wr(wt.comparator),this.Xn=new Map}getOverlay(e,t){return Ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Us();return Ae.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ie(e,t,s)}),Ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),Ae.resolve()}getOverlaysForCollection(e,t,r){const i=Us(),s=t.length+1,c=new wt(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Wr((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let v=s.get(g.largestBatchId);null===v&&(v=Us(),s=s.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Us(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=i)););return Ae.resolve(d)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new lb(t,r));let s=this.Xn.get(t);void 0===s&&(s=wn(),this.Xn.set(t,s)),this.Xn.set(t,s.add(r.key))}}class GE{constructor(){this.Zn=new rr(Ti.ts),this.es=new rr(Ti.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Ti(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Ti(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new wt(new Nn([])),r=new Ti(t,e),i=new Ti(t,e+1),s=[];return this.es.forEachInRange([r,i],c=>{this.rs(c),s.push(c.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new wt(new Nn([])),r=new Ti(t,e),i=new Ti(t,e+1);let s=wn();return this.es.forEachInRange([r,i],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Ti(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ti{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return wt.comparator(e.key,t.key)||bn(e.ls,t.ls)}static ns(e,t){return bn(e.ls,t.ls)||wt.comparator(e.key,t.key)}}class Tb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new rr(Ti.ts)}checkEmpty(e){return Ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.fs;this.fs++;const c=new dg(s,t,r,i);this.mutationQueue.push(c);for(const d of i)this.ds=this.ds.add(new Ti(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Ae.resolve(c)}lookupMutationBatch(e,t){return Ae.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),s=i<0?0:i;return Ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ti(t,0),i=new Ti(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],c=>{const d=this._s(c.ls);s.push(d)}),Ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr(bn);return t.forEach(i=>{const s=new Ti(i,0),c=new Ti(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,c],d=>{r=r.add(d.ls)})}),Ae.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;wt.isDocumentKey(s)||(s=s.child(""));const c=new Ti(new wt(s),0);let d=new rr(bn);return this.ds.forEachWhile(f=>{const g=f.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(d=d.add(f.ls)),!0)},c),Ae.resolve(this.gs(d))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Xt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return Ae.forEach(t.mutations,i=>{const s=new Ti(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new Ti(t,0),i=this.ds.firstAfterOrEqual(r);return Ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ae.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ZD{constructor(e){this.ps=e,this.docs=new Wr(wt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,c=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ae.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(t))}getEntries(e,t){let r=no();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hr.newInvalidDocument(i))}),Ae.resolve(r)}getAllFromCollection(e,t,r){let i=no();const s=new wt(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||ly(Rd(f),r)<=0||(i=i.insert(f.key,f.mutableCopy()))}return Ae.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Rt()}Is(e,t){return Ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new HD(this)}getSize(e){return Ae.resolve(this.size)}}class HD extends VD{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),Ae.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class $k{constructor(e){this.persistence=e,this.Ts=new qc(t=>Vc(t),my),this.lastRemoteSnapshotVersion=en.min(),this.highestTargetId=0,this.Es=0,this.As=new GE,this.targetCount=0,this.Rs=ko.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),Ae.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.vn(t),Ae.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Ts.forEach((c,d)=>{d.sequenceNumber<=t&&null===r.get(d.targetId)&&(this.Ts.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),Ae.waitFor(s).next(()=>i)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return Ae.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Ae.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(c=>{s.push(i.markPotentiallyOrphaned(e,c))}),Ae.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Ae.resolve(r)}containsKey(e,t){return Ae.resolve(this.As.containsKey(t))}}class qD{constructor(e,t){this.bs={},this.overlays={},this.Ps=new to(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new $k(this),this.indexManager=new ND,this.remoteDocumentCache=new ZD(r=>this.referenceDelegate.Ss(r)),this.wt=new cb(t),this.Ds=new $E(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Eb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new Tb(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){ot("MemoryPersistence","Starting transaction:",e);const i=new Gk(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,t){return Ae.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class Gk extends O0{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.ks=new GE,this.Os=null}static Ms(e){return new Zy(e)}get Fs(){if(this.Os)return this.Os;throw Rt()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),Ae.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.Fs,r=>{const i=wt.fromPath(r);return this.$s(e,i).next(s=>{s||t.removeEntry(i,en.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Ae.or([()=>Ae.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class zD{constructor(e){this.wt=e}O(e,t,r,i){const s=new af("createOrUpgrade",t);var d;r<1&&i>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Py,{unique:!0}),d.createObjectStore("documentMutations"),$D(e),function(d){d.createObjectStore("remoteDocuments")}(e));let c=Ae.resolve();return r<3&&i>=3&&(0!==r&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),$D(e)),c=c.next(()=>function(d){const f=d.store("targetGlobal"),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:en.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",g)}(s))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(d,f){return f.store("mutations").K().next(g=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Py,{unique:!0});const v=f.store("mutations"),w=g.map(S=>v.put(S));return Ae.waitFor(w)})}(e,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Bs(s))),r<6&&i>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(s)))),r<7&&i>=7&&(c=c.next(()=>this.Us(s))),r<8&&i>=8&&(c=c.next(()=>this.qs(e,s))),r<9&&i>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Ks(s))),r<11&&i>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:jk});f.createIndex("collectionPathOverlayIndex",MD,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",kD,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:sb});f.createIndex("documentKeyIndex",IE),f.createIndex("collectionGroupIndex",DE)}(e)).next(()=>this.Gs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.Qs(e,s))),r<15&&i>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:ob}).createIndex("sequenceNumberIndex",SD,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:Vk}).createIndex("documentKeyIndex",Bk,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=_b(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(i=>Ae.forEach(i,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",c).next(d=>Ae.forEach(d,f=>{Xt(f.userId===s.userId);const g=Wd(this.wt,f);return UD(e,s.userId,g).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((c,d)=>{const f=new Nn(c),g=[0,ro(f)];s.push(t.get(g).next(v=>v?Ae.resolve():t.put({targetId:0,path:ro(f),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ae.waitFor(s))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:AD});const r=t.store("collectionParents"),i=new gb,s=c=>{if(i.add(c)){const d=c.lastSegment(),f=c.popLast();return r.put({collectionId:d,parent:ro(f)})}};return t.store("remoteDocuments").J({H:!0},(c,d)=>{const f=new Nn(c);return s(f.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,d,f],g)=>{const v=sl(d);return s(v.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,i)=>{const s=Kd(i),c=ca(this.wt,s);return t.put(c)})}Gs(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((s,c)=>{const d=t.store("remoteDocumentsV14"),f=(g=c,g.document?new wt(Nn.fromString(g.document.name).popFirst(5)):g.noDocument?wt.fromSegments(g.noDocument.path):g.unknownDocument?wt.fromSegments(g.unknownDocument.path):Rt()).path.toArray();var g;const v={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(d.put(v))}).next(()=>Ae.waitFor(i))}Qs(e,t){const r=t.store("mutations"),i=HE(this.wt),s=new qD(Zy.Ms,this.wt.ne);return r.K().next(c=>{const d=new Map;return c.forEach(f=>{var g;let v=null!==(g=d.get(f.userId))&&void 0!==g?g:wn();Wd(this.wt,f).keys().forEach(w=>v=v.add(w)),d.set(f.userId,v)}),Ae.forEach(d,(f,g)=>{const v=new xi(g),w=Ny.se(this.wt,v),S=s.getIndexManager(v),k=Uy.se(v,this.wt,S,s.referenceDelegate);return new zE(i,k,w,S).recalculateAndSaveOverlaysForDocumentKeys(new So(t,to.ot),f).next()})})}}function $D(n){n.createObjectStore("targetDocuments",{keyPath:Uk}).createIndex("documentTargetsIndex",SE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",AE,{unique:!0}),n.createObjectStore("targetGlobal")}const WE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class KE{constructor(e,t,r,i,s,c,d,f,g,v,w=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=s,this.window=c,this.document=d,this.Ws=g,this.zs=v,this.Hs=w,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=S=>Promise.resolve(),!KE.V())throw new et(Se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zk(this,i),this.ei=t+"main",this.wt=new cb(f),this.ni=new tl(this.ei,this.Hs,new zD(this.wt)),this.Vs=new jE(this.referenceDelegate,this.wt),this.remoteDocumentCache=HE(this.wt),this.Ds=new PD,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===v&&ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(Se.FAILED_PRECONDITION,WE);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new to(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,Be.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Be.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ib(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Ru(e))return ot("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ot("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Hy(e).get("owner").next(t=>Ae.resolve(this.di(t)))}_i(e){return Ib(e).delete(this.clientId)}wi(){var e=this;return(0,Be.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ui(r,"clientMetadata");return i.K().next(s=>{const c=e.gi(s,18e5),d=s.filter(f=>-1===c.indexOf(f));return Ae.forEach(d,f=>i.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Ae.resolve(!0):Hy(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new et(Se.FAILED_PRECONDITION,WE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ib(e).K().next(r=>void 0===this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,d=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ot("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Be.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new So(t,to.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Ib(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return Uy.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hk(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Ny.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){ot("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(c=this.Hs)?OD:14===c?Ry:13===c?kE:12===c?Zk:11===c?ME:void Rt();var c;let d;return this.ni.runTransaction(e,i,s,f=>(d=new So(f,this.Ps?this.Ps.next():to.ot),"readwrite-primary"===t?this.ai(d).next(g=>!!g||this.hi(d)).next(g=>{if(!g)throw ui(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new et(Se.FAILED_PRECONDITION,Ux);return r(d)}).next(g=>this.fi(d).next(()=>g)):this.bi(d).next(()=>r(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}bi(e){return Hy(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new et(Se.FAILED_PRECONDITION,WE)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hy(e).put("owner",t)}static V(){return tl.V()}li(e){const t=Hy(e);return t.get("owner").next(r=>this.di(r)?(ot("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ae.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ui(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,tn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return ot("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ui("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){ui("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hy(n){return Ui(n,"owner")}function Ib(n){return Ui(n,"clientMetadata")}function Db(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class YE{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=wn(),i=wn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new YE(e,t.fromCache,r,i)}}class GD{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(s=>s||this.xi(e,t,i,r)).next(s=>s||this.Ni(e,t))}Ci(e,t){return Ae.resolve(null)}xi(e,t,r,i){return function pD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(en.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(s=>{const c=this.ki(t,s);return this.Oi(t,c,r,i)?this.Ni(e,t):(A0()<=Cd.in.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),H0(t)),this.Mi(e,c,t,Fx(i,-1)))})}ki(e,t){let r=new rr(iE(e));return t.forEach((i,s)=>{by(e,s)&&(r=r.add(s))}),r}Oi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,t){return A0()<=Cd.in.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",H0(t)),this.Di.getDocumentsMatchingQuery(e,t,Io.min())}Mi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class Wk{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new Wr(bn),this.Bi=new qc(s=>Vc(s),my),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zE(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function WD(n,e,t,r){return new Wk(n,e,t,r)}function o(n,e){return a.apply(this,arguments)}function a(){return a=(0,Be.Z)(function*(n,e){const t=It(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const c=[],d=[];let f=wn();for(const g of i){c.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}for(const g of s){d.push(g.batchId);for(const v of g.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(g=>({Ki:g,removedBatchIds:c,addedBatchIds:d}))})})}),a.apply(this,arguments)}function u(n,e){const t=It(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,d,f,g){const v=f.batch,w=v.keys();let S=Ae.resolve();return w.forEach(k=>{S=S.next(()=>g.getEntry(d,k)).next(R=>{const B=f.docVersions.get(k);Xt(null!==B),R.version.compareTo(B)<0&&(v.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),g.addEntry(R)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=wn();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function h(n){const e=It(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function p(n,e){const t=It(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const d=[];e.targetChanges.forEach((v,w)=>{const S=i.get(w);if(!S)return;d.push(t.Vs.removeMatchingKeys(s,v.removedDocuments,w).next(()=>t.Vs.addMatchingKeys(s,v.addedDocuments,w)));let k=S.withSequenceNumber(s.currentSequenceNumber);var R,B,G;e.targetMismatches.has(w)?k=k.withResumeToken(Ei.EMPTY_BYTE_STRING,en.min()).withLastLimboFreeSnapshotVersion(en.min()):v.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(v.resumeToken,r)),i=i.insert(w,k),B=k,G=v,(0===(R=S).resumeToken.approximateByteSize()||B.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8||G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0)&&d.push(t.Vs.updateTargetData(s,k))});let f=no(),g=wn();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,v))}),d.push(m(s,c,e.documentUpdates).next(v=>{f=v.Gi,g=v.Qi})),!r.isEqual(en.min())){const v=t.Vs.getLastRemoteSnapshotVersion(s).next(w=>t.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));d.push(v)}return Ae.waitFor(d).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,g)).next(()=>f)}).then(s=>(t.$i=i,s))}function m(n,e,t){let r=wn(),i=wn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let c=no();return t.forEach((d,f)=>{const g=s.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(en.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):ot("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)}),{Gi:c,Qi:i}})}function b(n,e){const t=It(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function x(n,e){const t=It(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(s=>s?(i=s,Ae.resolve(i)):t.Vs.allocateTargetId(r).next(c=>(i=new Gl(e,c,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function D(n,e,t){return O.apply(this,arguments)}function O(){return O=(0,Be.Z)(function*(n,e,t){const r=It(n),i=r.$i.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Ru(c))throw c;ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),O.apply(this,arguments)}function N(n,e,t){const r=It(n);let i=en.min(),s=wn();return r.persistence.runTransaction("Execute query","readonly",c=>function(d,f,g){const v=It(d),w=v.Bi.get(g);return void 0!==w?Ae.resolve(v.$i.get(w)):v.Vs.getTargetData(f,g)}(r,c,Ao(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(c,d.targetId).next(f=>{s=f})}).next(()=>r.Fi.getDocumentsMatchingQuery(c,e,t?i:en.min(),t?s:wn())).next(d=>(fe(r,q0(e),d),{documents:d,ji:s})))}function q(n,e){const t=It(n),r=It(t.Vs),i=t.$i.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.te(s,e).next(c=>c?c.target:null))}function re(n,e){const t=It(n),r=t.Li.get(e)||en.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ui.getAllFromCollectionGroup(i,e,Fx(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(fe(t,e,i),i))}function fe(n,e,t){let r=en.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Li.set(e,r)}function ct(){return ct=(0,Be.Z)(function*(n,e,t,r){const i=It(n);let s=wn(),c=no();for(const g of t){const v=e.Wi(g.metadata.name);g.document&&(s=s.add(v));const w=e.zi(g);w.setReadTime(e.Hi(g.metadata.readTime)),c=c.insert(v,w)}const d=i.Ui.newChangeBuffer({trackRemovals:!0}),f=yield x(i,(g=r,Ao(ff(Nn.fromString(`__bundle__/docs/${g}`)))));var g;return i.persistence.runTransaction("Apply bundle documents","readwrite",g=>m(g,d,c).next(v=>(d.apply(g),v)).next(v=>i.Vs.removeMatchingKeysForTargetId(g,f.targetId).next(()=>i.Vs.addMatchingKeys(g,s,f.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(g,v.Gi,v.Qi)).next(()=>v.Gi)))}),ct.apply(this,arguments)}function vt(n,e){return kt.apply(this,arguments)}function kt(){return kt=(0,Be.Z)(function*(n,e,t=wn()){const r=yield x(n,Ao(ub(e.bundledQuery))),i=It(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const c=di(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ds.saveNamedQuery(s,e);const d=r.withResumeToken(Ei.EMPTY_BYTE_STRING,c);return i.$i=i.$i.insert(d.targetId,d),i.Vs.updateTargetData(s,d).next(()=>i.Vs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Vs.addMatchingKeys(s,t,r.targetId)).next(()=>i.Ds.saveNamedQuery(s,e))})}),kt.apply(this,arguments)}function Je(n,e){return`firestore_clients_${n}_${e}`}function qt(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function En(n,e){return`firestore_targets_${n}_${e}`}class zn{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let s,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(s=new et(i.error.code,i.error.message))),c?new zn(e,t,i.state,s):(ui("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class os{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new et(r.error.code,r.error.message))),s?new os(e,r.state,i):(ui("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wl{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Ty();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=qx(r.activeTargetIds[c]),s=s.add(r.activeTargetIds[c]);return i?new Wl(e,s):(ui("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mg{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mg(t.clientId,t.onlineState):(ui("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yg{constructor(){this.activeTargetIds=Ty()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _g{constructor(e,t,r,i,s){this.window=e,this.js=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Wr(bn),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=Je(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new yg),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Be.Z)(function*(){const t=yield e.syncEngine.Ri();for(const i of t){if(i===e.tr)continue;const s=e.getItem(Je(e.persistenceKey,i));if(s){const c=Wl.Ji(i,s);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(En(this.persistenceKey,e));if(r){const i=os.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(En(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ot("SharedClientState","READ",e,t),t}setItem(e,t){ot("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ot("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ot("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Be.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(s){let c=to.ot;if(null!=s)try{const d=JSON.parse(s);Xt("number"==typeof d),c=d}catch(d){ui("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(r.newValue);i!==to.ot&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Nr(s)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new zn(this.currentUser,e,t,r),s=qt(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Yi())}pr(e){const t=qt(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=En(this.persistenceKey,e),s=new os(e,t,r);this.setItem(i,s.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Wl.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),i=Number(r[1]);return zn.Ji(new xi(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return os.Ji(i,t)}wr(e){return mg.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);ot("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),s=this.gr(r),c=[],d=[];return s.forEach(f=>{i.has(f)||c.push(f)}),i.forEach(f=>{s.has(f)||d.push(f)}),this.syncEngine.Mr(c,d).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Ty();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class qy{constructor(){this.Fr=new yg,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new yg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ab{Br(e){}shutdown(){}}class zy{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Sb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Mb{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class kb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,s){const c=this.oo(e,t);ot("RestConnection","Sending: ",c,r);const d={};return this.uo(d,i,s),this.co(e,c,d,r).then(f=>(ot("RestConnection","Received: ",f),f),f=>{throw Zp("RestConnection",`${e} failed with error: `,f,"url: ",c,"request:",r),f})}ao(e,t,r,i,s){return this.ro(e,t,r,i,s)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+rf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,t){return`${this.so}/v1/${t}:${Sb[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((s,c)=>{const d=new kx;d.listenOnce(Ak.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Or.NO_ERROR:const g=d.getResponseJson();ot("Connection","XHR received:",JSON.stringify(g)),s(g);break;case Or.TIMEOUT:ot("Connection",'RPC "'+e+'" timed out'),c(new et(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Or.HTTP_ERROR:const v=d.getStatus();if(ot("Connection",'RPC "'+e+'" failed with status:',v,"response text:",d.getResponseText()),v>0){const w=d.getResponseJson().error;if(w&&w.status&&w.message){const S=function(k){const R=k.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(R)>=0?R:Se.UNKNOWN}(w.status);c(new et(S,w.message))}else c(new et(Se.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new et(Se.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{ot("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(i);d.send(t,"POST",f,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=sy(),c=oy(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new tD({})),this.uo(d.initMessageHeaders,t,r),(0,tn.uI)()||(0,tn.b$)()||(0,tn.d)()||(0,tn.w1)()||(0,tn.Mn)()||(0,tn.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const f=i.join("");ot("Connection","Creating WebChannel: "+f,d);const g=s.createWebChannel(f,d);let v=!1,w=!1;const S=new Mb({jr:R=>{w?ot("Connection","Not sending because WebChannel is closed:",R):(v||(ot("Connection","Opening WebChannel transport."),g.open(),v=!0),ot("Connection","WebChannel sending:",R),g.send(R))},Wr:()=>g.close()}),k=(R,B,G)=>{R.listen(B,te=>{try{G(te)}catch(ye){setTimeout(()=>{throw ye},0)}})};return k(g,Bp.EventType.OPEN,()=>{w||ot("Connection","WebChannel transport opened.")}),k(g,Bp.EventType.CLOSE,()=>{w||(w=!0,ot("Connection","WebChannel transport closed"),S.eo())}),k(g,Bp.EventType.ERROR,R=>{w||(w=!0,Zp("Connection","WebChannel transport errored:",R),S.eo(new et(Se.UNAVAILABLE,"The operation could not be completed")))}),k(g,Bp.EventType.MESSAGE,R=>{var B;if(!w){const G=R.data[0];Xt(!!G);const te=G,ye=te.error||(null===(B=te[0])||void 0===B?void 0:B.error);if(ye){ot("Connection","WebChannel received error:",ye);const Le=ye.status;let xe=function(tt){const dt=si[tt];if(void 0!==dt)return mE(dt)}(Le),Ie=ye.message;void 0===xe&&(xe=Se.INTERNAL,Ie="Unknown error status: "+Le+" with message "+ye.message),w=!0,S.eo(new et(xe,Ie)),g.close()}else ot("Connection","WebChannel received:",G),S.no(G)}}),k(c,Sx.STAT_EVENT,R=>{R.stat===Mx.PROXY?ot("Connection","Detected buffering proxy"):R.stat===Mx.NOPROXY&&ot("Connection","Detected no buffering proxy")}),setTimeout(()=>{S.Zr()},0),S}}function Kk(){return"undefined"!=typeof window?window:null}function QE(){return"undefined"!=typeof document?document:null}function Ob(n){return new bE(n,!0)}class KD{constructor(e,t,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Yk{constructor(e,t,r,i,s,c,d,f){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new KD(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Be.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Be.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,Be.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===Se.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===Se.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new et(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,Be.Z)(function*(){e.state=0,e.start()}))}qo(e){return ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aF extends Yk{constructor(e,t,r,i,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.wt=s}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function CE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Rt(),i=e.targetChange.targetIds||[],s=function(f,g){return f.dt?(Xt(void 0===g||"string"==typeof g),Ei.fromBase64String(g||"")):(Xt(void 0===g||g instanceof Uint8Array),Ei.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(f){const g=void 0===f.code?Se.UNKNOWN:mE(f.code);return new et(g,f.message||"")}(c);t=new Y0(r,i,s,d||null)}else if("documentChange"in e){const r=e.documentChange,i=$l(n,r.document.name),s=di(r.document.updateTime),c=new ss({mapValue:{fields:r.document.fields}}),d=hr.newFoundDocument(i,s,c);t=new Iy(r.targetIds||[],r.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const r=e.documentDelete,i=$l(n,r.document),s=r.readTime?di(r.readTime):en.min(),c=hr.newNoDocument(i,s);t=new Iy([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=$l(n,r.document);t=new Iy([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Rt();{const r=e.filter,s=new gE(r.count||0);t=new Dy(r.targetId,s)}}var f;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return en.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?en.min():s.readTime?di(s.readTime):en.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=og(this.wt),t.addTarget=function(i,s){let c;const d=s.target;return c=yy(d)?{documents:nb(i,d)}:{query:rb(i,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=J0(i,s.resumeToken):s.snapshotVersion.compareTo(en.min())>0&&(c.readTime=Uu(i,s.snapshotVersion.toTimestamp())),c}(this.wt,e);const r=function xD(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=og(this.wt),t.removeTarget=e,this.Mo(t)}}class lF extends Yk{constructor(e,t,r,i,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function xE(n,e){return n&&n.length>0?(Xt(void 0!==e),n.map(t=>function(r,i){let s=di(r.updateTime?r.updateTime:i);return s.isEqual(en.min())&&(s=di(i)),new z0(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=di(e.commitTime);return this.listener.Jo(r,t)}return Xt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=og(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ag(this.wt,r))};this.Mo(t)}}class cF extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new et(Se.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new et(Se.UNKNOWN,i.toString())})}ao(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new et(Se.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class uF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ui(t),this.su=!1):ot("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class dF{constructor(e,t,r,i,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(d=>{r.enqueueAndForget((0,Be.Z)(function*(){var f;Cf(c)&&(ot("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Be.Z)(function*(g){const v=It(g);v.lu.add(4),yield $y(v),v._u.set("Unknown"),v.lu.delete(4),yield Pb(v)}),function(g){return f.apply(this,arguments)})(c))}))}),this._u=new uF(r,i)}}function Pb(n){return YD.apply(this,arguments)}function YD(){return YD=(0,Be.Z)(function*(n){if(Cf(n))for(const e of n.fu)yield e(!0)}),YD.apply(this,arguments)}function $y(n){return QD.apply(this,arguments)}function QD(){return QD=(0,Be.Z)(function*(n){for(const e of n.fu)yield e(!1)}),QD.apply(this,arguments)}function JE(n,e){const t=It(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),eA(t)?XD(t):Wy(t).Co()&&JD(t,e))}function Rb(n,e){const t=It(n),r=Wy(t);t.hu.delete(e),r.Co()&&Qk(t,e),0===t.hu.size&&(r.Co()?r.ko():Cf(t)&&t._u.set("Unknown"))}function JD(n,e){n.wu.Nt(e.targetId),Wy(n).Qo(e)}function Qk(n,e){n.wu.Nt(e),Wy(n).jo(e)}function XD(n){n.wu=new Ay({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Wy(n).start(),n._u.iu()}function eA(n){return Cf(n)&&!Wy(n).Do()&&n.hu.size>0}function Cf(n){return 0===It(n).lu.size}function Jk(n){n.wu=void 0}function hF(n){return tA.apply(this,arguments)}function tA(){return tA=(0,Be.Z)(function*(n){n.hu.forEach((e,t)=>{JD(n,e)})}),tA.apply(this,arguments)}function fF(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,Be.Z)(function*(n,e){Jk(n),eA(n)?(n._u.uu(e),XD(n)):n._u.set("Unknown")}),nA.apply(this,arguments)}function pF(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=(0,Be.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof Y0&&2===e.state&&e.cause)try{yield(r=(0,Be.Z)(function*(i,s){const c=s.cause;for(const d of s.targetIds)i.hu.has(d)&&(yield i.remoteSyncer.rejectListen(d,c),i.hu.delete(d),i.wu.removeTarget(d))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield XE(n,r)}else if(e instanceof Iy?n.wu.Ut(e):e instanceof Dy?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(en.min()))try{const r=yield h(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const c=i.wu.Yt(s);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=i.hu.get(f);g&&i.hu.set(f,g.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const f=i.hu.get(d);if(!f)return;i.hu.set(d,f.withResumeToken(Ei.EMPTY_BYTE_STRING,f.snapshotVersion)),Qk(i,d);const g=new Gl(f.target,d,1,f.sequenceNumber);JD(i,g)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){ot("RemoteStore","Failed to raise snapshot:",r),yield XE(n,r)}var r}),rA.apply(this,arguments)}function XE(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=(0,Be.Z)(function*(n,e,t){if(!Ru(e))throw e;n.lu.add(1),yield $y(n),n._u.set("Offline"),t||(t=()=>h(n.localStore)),n.asyncQueue.enqueueRetryable((0,Be.Z)(function*(){ot("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Pb(n)}))}),iA.apply(this,arguments)}function Xk(n,e){return e().catch(t=>XE(n,t,e))}function Gy(n){return sA.apply(this,arguments)}function sA(){return sA=(0,Be.Z)(function*(n){const e=It(n),t=xf(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;gF(e);)try{const i=yield b(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,mF(e,i)}catch(i){yield XE(e,i)}eO(e)&&tO(e)}),sA.apply(this,arguments)}function gF(n){return Cf(n)&&n.au.length<10}function mF(n,e){n.au.push(e);const t=xf(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function eO(n){return Cf(n)&&!xf(n).Do()&&n.au.length>0}function tO(n){xf(n).start()}function yF(n){return oA.apply(this,arguments)}function oA(){return oA=(0,Be.Z)(function*(n){xf(n).Xo()}),oA.apply(this,arguments)}function _F(n){return aA.apply(this,arguments)}function aA(){return aA=(0,Be.Z)(function*(n){const e=xf(n);for(const t of n.au)e.Ho(t.mutations)}),aA.apply(this,arguments)}function vF(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,Be.Z)(function*(n,e,t){const r=n.au.shift(),i=ab.from(r,e,t);yield Xk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Gy(n)}),lA.apply(this,arguments)}function bF(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,Be.Z)(function*(n,e){var t;e&&xf(n).zo&&(yield(t=(0,Be.Z)(function*(r,i){if(G0(s=i.code)&&s!==Se.ABORTED){const c=r.au.shift();xf(r).No(),yield Xk(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Gy(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),eO(n)&&tO(n)}),cA.apply(this,arguments)}function nO(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,Be.Z)(function*(n,e){const t=It(n);t.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const r=Cf(t);t.lu.add(3),yield $y(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Pb(t)}),uA.apply(this,arguments)}function dA(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,Be.Z)(function*(n,e){const t=It(n);e?(t.lu.delete(2),yield Pb(t)):e||(t.lu.add(2),yield $y(t),t._u.set("Unknown"))}),hA.apply(this,arguments)}function Wy(n){return n.mu||(n.mu=function(e,t,r){const i=It(e);return i.tu(),new aF(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:hF.bind(null,n),Jr:fF.bind(null,n),Go:pF.bind(null,n)}),n.fu.push(function(){var e=(0,Be.Z)(function*(t){t?(n.mu.No(),eA(n)?XD(n):n._u.set("Unknown")):(yield n.mu.stop(),Jk(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function xf(n){return n.gu||(n.gu=function(e,t,r){const i=It(e);return i.tu(),new lF(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:yF.bind(null,n),Jr:bF.bind(null,n),Yo:_F.bind(null,n),Jo:vF.bind(null,n)}),n.fu.push(function(){var e=(0,Be.Z)(function*(t){t?(n.gu.No(),yield Gy(n)):(yield n.gu.stop(),n.au.length>0&&(ot("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class fA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,s){const c=Date.now()+r,d=new fA(e,t,c,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new et(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ky(n,e){if(ui("AsyncQueue",`${e}: ${n}`),Ru(n))return new et(Se.UNAVAILABLE,`${e}: ${n}`);throw n}class Yy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||wt.comparator(t.key,r.key):(t,r)=>wt.comparator(t.key,r.key),this.keyedMap=_f(),this.sortedSet=new Wr(this.comparator)}static emptySet(e){return new Yy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Yy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class rO{constructor(){this.yu=new Wr(wt.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Rt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Qy{constructor(e,t,r,i,s,c,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new Qy(e,t,Yy.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class wF{constructor(){this.Iu=void 0,this.listeners=[]}}class CF{constructor(){this.queries=new qc(e=>Z0(e),pf),this.onlineState="Unknown",this.Tu=new Set}}function pA(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,Be.Z)(function*(n,e){const t=It(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new wF),i)try{s.Iu=yield t.onListen(r)}catch(c){const d=Ky(c,`Initialization of query '${H0(e.query)}' failed`);return void e.onError(d)}t.queries.set(r,s),s.listeners.push(e),e.Eu(t.onlineState),s.Iu&&e.Au(s.Iu)&&_A(t)}),gA.apply(this,arguments)}function mA(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,Be.Z)(function*(n,e){const t=It(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),yA.apply(this,arguments)}function xF(n,e){const t=It(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const d of c.listeners)d.Au(i)&&(r=!0);c.Iu=i}}r&&_A(t)}function EF(n,e,t){const r=It(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function _A(n){n.Tu.forEach(e=>{e.next()})}class vA{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Qy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Qy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class TF{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class iO{constructor(e){this.wt=e}Wi(e){return $l(this.wt,e)}zi(e){return e.metadata.exists?wE(this.wt,e.document,!1):hr.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return di(e)}}class IF{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sO(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Nn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new iO(this.wt);for(const i of e)if(i.metadata.queries){const s=r.Wi(i.metadata.name);for(const c of i.metadata.queries){const d=(t.get(c)||wn()).add(s);t.set(c,d)}}return t}complete(){var e=this;return(0,Be.Z)(function*(){const t=yield function qe(n,e,t,r){return ct.apply(this,arguments)}(e.localStore,new iO(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield vt(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function sO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class oO{constructor(e){this.key=e}}class aO{constructor(e){this.key=e}}class lO{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=wn(),this.mutatedKeys=wn(),this.Lu=iE(e),this.Uu=new Yy(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new rO,i=t?t.Uu:this.Uu;let s=t?t.mutatedKeys:this.mutatedKeys,c=i,d=!1;const f="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,g="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((v,w)=>{const S=i.get(v),k=by(this.query,w)?w:null,R=!!S&&this.mutatedKeys.has(S.key),B=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let G=!1;S&&k?S.data.isEqual(k.data)?R!==B&&(r.track({type:3,doc:k}),G=!0):this.Qu(S,k)||(r.track({type:2,doc:k}),G=!0,(f&&this.Lu(k,f)>0||g&&this.Lu(k,g)<0)&&(d=!0)):!S&&k?(r.track({type:0,doc:k}),G=!0):S&&!k&&(r.track({type:1,doc:S}),G=!0,(f||g)&&(d=!0)),G&&(k?(c=c.add(k),s=B?s.add(v):s.delete(v)):(c=c.delete(v),s=s.delete(v)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const v="F"===this.query.limitType?c.last():c.first();c=c.delete(v.key),s=s.delete(v.key),r.track({type:1,doc:v})}return{Uu:c,Gu:r,Oi:d,mutatedKeys:s}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((g,v)=>function(w,S){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return k(w)-k(S)}(g.type,v.type)||this.Lu(g.doc,v.doc)),this.ju(r);const c=t?this.Wu():[],d=0===this.Bu.size&&this.current?1:0,f=d!==this.$u;return this.$u=d,0!==s.length||f?{snapshot:new Qy(this.query,e.Uu,i,s,e.mutatedKeys,0===d,f,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new rO,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=wn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new aO(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new oO(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=wn();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Qy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class DF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class AF{constructor(e){this.key=e,this.Xu=!1}}class SF{constructor(e,t,r,i,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new qc(d=>Z0(d),pf),this.ec=new Map,this.nc=new Set,this.sc=new Wr(wt.comparator),this.ic=new Map,this.rc=new GE,this.oc={},this.uc=new Map,this.cc=ko.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function MF(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,Be.Z)(function*(n,e){const t=HA(n);let r,i;const s=t.tc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const c=yield x(t.localStore,Ao(e));t.isPrimaryClient&&JE(t.remoteStore,c);const d=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield wA(t,e,r,"current"===d)}return i}),bA.apply(this,arguments)}function wA(n,e,t,r){return CA.apply(this,arguments)}function CA(){return CA=(0,Be.Z)(function*(n,e,t,r){n.hc=(v,w,S)=>{return(k=(0,Be.Z)(function*(R,B,G,te){let ye=B.view.Ku(G);ye.Oi&&(ye=yield N(R.localStore,B.query,!1).then(({documents:Ie})=>B.view.Ku(Ie,ye)));const Le=te&&te.targetChanges.get(B.targetId),xe=B.view.applyChanges(ye,R.isPrimaryClient,Le);return OA(R,B.targetId,xe.zu),xe.snapshot}),function(R,B,G,te){return k.apply(this,arguments)})(n,v,w,S);var k};const i=yield N(n.localStore,e,!0),s=new lO(e,i.ji),c=s.Ku(i.documents),d=rg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),f=s.applyChanges(c,n.isPrimaryClient,d);OA(n,t,f.zu);const g=new DF(e,t,s);return n.tc.set(e,g),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),f.snapshot}),CA.apply(this,arguments)}function kF(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,Be.Z)(function*(n,e){const t=It(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(s=>!pf(s,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield D(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Rb(t.remoteStore,r.targetId),Jy(t,r.targetId)}).catch(Pu))):(Jy(t,r.targetId),yield D(t.localStore,r.targetId,!0))}),xA.apply(this,arguments)}function EA(){return EA=(0,Be.Z)(function*(n,e,t){const r=qA(n);try{const i=yield function(s,c){const d=It(s),f=dr.now(),g=c.reduce((S,k)=>S.add(k.key),wn());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let k=no(),R=wn();return d.Ui.getEntries(S,g).next(B=>{k=B,k.forEach((G,te)=>{te.isValidDocument()||(R=R.add(G))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,k)).next(B=>{v=B;const G=[];for(const te of c){const ye=dE(te,v.get(te.key).overlayedDocument);null!=ye&&G.push(new Hc(te.key,ye,F0(ye.value.mapValue),Rr.exists(!0)))}return d.mutationQueue.addMutationBatch(S,f,G,c)}).next(B=>{w=B;const G=B.applyToLocalDocumentSet(v,R);return d.documentOverlayCache.saveOverlays(S,B.batchId,G)})}).then(()=>({batchId:w.batchId,changes:ws(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,d){let f=s.oc[s.currentUser.toKey()];f||(f=new Wr(bn)),f=f.insert(c,d),s.oc[s.currentUser.toKey()]=f}(r,i.batchId,t),yield Xd(r,i.changes),yield Gy(r.remoteStore)}catch(i){const s=Ky(i,"Failed to persist write");t.reject(s)}}),EA.apply(this,arguments)}function cO(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,Be.Z)(function*(n,e){const t=It(n);try{const r=yield p(t.localStore,e);e.targetChanges.forEach((i,s)=>{const c=t.ic.get(s);c&&(Xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?Xt(c.Xu):i.removedDocuments.size>0&&(Xt(c.Xu),c.Xu=!1))}),yield Xd(t,r,e)}catch(r){yield Pu(r)}}),TA.apply(this,arguments)}function uO(n,e,t){const r=It(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((s,c)=>{const d=c.view.Eu(e);d.snapshot&&i.push(d.snapshot)}),function(s,c){const d=It(s);d.onlineState=c;let f=!1;d.queries.forEach((g,v)=>{for(const w of v.listeners)w.Eu(c)&&(f=!0)}),f&&_A(d)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function PF(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,Be.Z)(function*(n,e,t){const r=It(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),s=i&&i.key;if(s){let c=new Wr(wt.comparator);c=c.insert(s,hr.newNoDocument(s,en.min()));const d=wn().add(s),f=new vf(en.min(),new Map,new rr(bn),c,d);yield cO(r,f),r.sc=r.sc.remove(s),r.ic.delete(e),PA(r)}else yield D(r.localStore,e,!1).then(()=>Jy(r,e,t)).catch(Pu)}),IA.apply(this,arguments)}function RF(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,Be.Z)(function*(n,e){const t=It(n),r=e.batch.batchId;try{const i=yield u(t.localStore,e);kA(t,r,null),MA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Xd(t,i)}catch(i){yield Pu(i)}}),DA.apply(this,arguments)}function NF(n,e,t){return AA.apply(this,arguments)}function AA(){return AA=(0,Be.Z)(function*(n,e,t){const r=It(n);try{const i=yield function(s,c){const d=It(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,c).next(v=>(Xt(null!==v),g=v.keys(),d.mutationQueue.removeMutationBatch(f,v))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(r.localStore,e);kA(r,e,t),MA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Xd(r,i)}catch(i){yield Pu(i)}}),AA.apply(this,arguments)}function SA(){return SA=(0,Be.Z)(function*(n,e){const t=It(n);Cf(t.remoteStore)||ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const c=It(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===r)return void e.resolve();const i=t.uc.get(r)||[];i.push(e),t.uc.set(r,i)}catch(r){const i=Ky(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),SA.apply(this,arguments)}function MA(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function kA(n,e,t){const r=It(n);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Jy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||dO(n,r)})}function dO(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(Rb(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),PA(n))}function OA(n,e,t){for(const r of t)r instanceof oO?(n.rc.addReference(r.key,e),FF(n,r)):r instanceof aO?(ot("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||dO(n,r.key)):Rt()}function FF(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(ot("SyncEngine","New document in limbo: "+t),n.nc.add(r),PA(n))}function PA(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new wt(Nn.fromString(e)),r=n.cc.next();n.ic.set(r,new AF(t)),n.sc=n.sc.insert(t,r),JE(n.remoteStore,new Gl(Ao(ff(t.path)),r,2,to.ot))}}function Xd(n,e,t){return RA.apply(this,arguments)}function RA(){return RA=(0,Be.Z)(function*(n,e,t){const r=It(n),i=[],s=[],c=[];var d;r.tc.isEmpty()||(r.tc.forEach((d,f)=>{c.push(r.hc(f,e,t).then(g=>{if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(f.targetId,g.fromCache?"not-current":"current"),i.push(g);const v=YE.Vi(f.targetId,g);s.push(v)}}))}),yield Promise.all(c),r.Zu.Go(i),yield(d=(0,Be.Z)(function*(f,g){const v=It(f);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Ae.forEach(g,S=>Ae.forEach(S.Pi,k=>v.persistence.referenceDelegate.addReference(w,S.targetId,k)).next(()=>Ae.forEach(S.vi,k=>v.persistence.referenceDelegate.removeReference(w,S.targetId,k)))))}catch(w){if(!Ru(w))throw w;ot("LocalStore","Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const k=v.$i.get(S),B=k.withLastLimboFreeSnapshotVersion(k.snapshotVersion);v.$i=v.$i.insert(S,B)}}}),function(f,g){return d.apply(this,arguments)})(r.localStore,s))}),RA.apply(this,arguments)}function UF(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,Be.Z)(function*(n,e){const t=It(n);if(!t.currentUser.isEqual(e)){ot("SyncEngine","User change. New user:",e.toKey());const r=yield o(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(c=>{c.forEach(d=>{d.reject(new et(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xd(t,r.Ki)}var i}),NA.apply(this,arguments)}function VF(n,e){const t=It(n),r=t.ic.get(e);if(r&&r.Xu)return wn().add(r.key);{let i=wn();const s=t.ec.get(e);if(!s)return i;for(const c of s){const d=t.tc.get(c);i=i.unionWith(d.view.qu)}return i}}function BF(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,Be.Z)(function*(n,e){const t=It(n),r=yield N(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&OA(t,e.targetId,i.zu),i}),LA.apply(this,arguments)}function jF(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,Be.Z)(function*(n,e){const t=It(n);return re(t.localStore,e).then(r=>Xd(t,r))}),FA.apply(this,arguments)}function ZF(n,e,t,r){return UA.apply(this,arguments)}function UA(){return UA=(0,Be.Z)(function*(n,e,t,r){const i=It(n),s=yield function(c,d){const f=It(c),g=It(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",v=>g.yn(v,d).next(w=>w?f.localDocuments.getDocuments(v,w):Ae.resolve(null)))}(i.localStore,e);var d;null!==s?("pending"===t?yield Gy(i.remoteStore):"acknowledged"===t||"rejected"===t?(kA(i,e,r||null),MA(i,e),d=e,It(It(i.localStore).mutationQueue).In(d)):Rt(),yield Xd(i,s)):ot("SyncEngine","Cannot apply mutation batch with id: "+e)}),UA.apply(this,arguments)}function VA(){return VA=(0,Be.Z)(function*(n,e){const t=It(n);if(HA(t),qA(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield hO(t,r.toArray());t.ac=!0,yield dA(t.remoteStore,!0);for(const s of i)JE(t.remoteStore,s)}else if(!1===e&&!1!==t.ac){const r=[];let i=Promise.resolve();t.ec.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Jy(t,c),D(t.localStore,c,!0))),Rb(t.remoteStore,c)}),yield i,yield hO(t,r),function(s){const c=It(s);c.ic.forEach((d,f)=>{Rb(c.remoteStore,f)}),c.rc.cs(),c.ic=new Map,c.sc=new Wr(wt.comparator)}(t),t.ac=!1,yield dA(t.remoteStore,!1)}}),VA.apply(this,arguments)}function hO(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,Be.Z)(function*(n,e,t){const r=It(n),i=[],s=[];for(const c of e){let d;const f=r.ec.get(c);if(f&&0!==f.length){d=yield x(r.localStore,Ao(f[0]));for(const g of f){const v=r.tc.get(g),w=yield BF(r,v);w.snapshot&&s.push(w.snapshot)}}else{const g=yield q(r.localStore,c);d=yield x(r.localStore,g),yield wA(r,fO(g),c,!1)}i.push(d)}return r.Zu.Go(s),i}),BA.apply(this,arguments)}function fO(n){return rE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function qF(n){const e=It(n);return It(It(e.localStore).persistence).Ri()}function zF(n,e,t,r){return jA.apply(this,arguments)}function jA(){return jA=(0,Be.Z)(function*(n,e,t,r){const i=It(n);if(i.ac)return void ot("SyncEngine","Ignoring unexpected query state notification.");const s=i.ec.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield re(i.localStore,q0(s[0])),d=vf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Xd(i,c,d);break}case"rejected":yield D(i.localStore,e,!0),Jy(i,e,r);break;default:Rt()}}),jA.apply(this,arguments)}function $F(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Be.Z)(function*(n,e,t){const r=HA(n);if(r.ac){for(const i of e){if(r.ec.has(i)){ot("SyncEngine","Adding an already active target "+i);continue}const s=yield q(r.localStore,i),c=yield x(r.localStore,s);yield wA(r,fO(s),c.targetId,!1),JE(r.remoteStore,c)}for(const i of t)r.ec.has(i)&&(yield D(r.localStore,i,!1).then(()=>{Rb(r.remoteStore,i),Jy(r,i)}).catch(Pu))}}),ZA.apply(this,arguments)}function HA(n){const e=It(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PF.bind(null,e),e.Zu.Go=xF.bind(null,e.eventManager),e.Zu.lc=EF.bind(null,e.eventManager),e}function qA(n){const e=It(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NF.bind(null,e),e}class pO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Be.Z)(function*(){t.wt=Ob(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return WD(this.persistence,new GD,e.initialUser,this.wt)}_c(e){return new qD(Zy.Ms,this.wt)}dc(e){return new qy}terminate(){var e=this;return(0,Be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gO extends pO{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Be.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield qA(r.yc.syncEngine),yield Gy(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return WD(this.persistence,new GD,e.initialUser,this.wt)}mc(e,t){return new jy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new aD(t,this.persistence);return new Bx(e.asyncQueue,r)}_c(e){const t=Db(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Mo.withCacheSize(this.cacheSizeBytes):Mo.DEFAULT;return new KE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Kk(),QE(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new qy}}class WF extends gO{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Be.Z)(function*(){yield t().call(r,e);const i=r.yc.syncEngine;r.sharedClientState instanceof _g&&(r.sharedClientState.syncEngine={kr:ZF.bind(null,i),Or:zF.bind(null,i),Mr:$F.bind(null,i),Ri:qF.bind(null,i),Nr:jF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var s=(0,Be.Z)(function*(c){yield function HF(n,e){return VA.apply(this,arguments)}(r.yc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}dc(e){const t=Kk();if(!_g.V(t))throw new et(Se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Db(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _g(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class zA{initialize(e,t){var r=this;return(0,Be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>uO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=UF.bind(null,r.syncEngine),yield dA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new CF}createDatastore(e){const t=Ob(e.databaseInfo.databaseId),r=new kb(e.databaseInfo);return new cF(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=d=>uO(this.syncEngine,d,0),c=zy.V()?new zy:new Ab,new dF(t,r,i,s,c);var t,r,i,s,c}createSyncEngine(e,t){return function(r,i,s,c,d,f,g){const v=new SF(r,i,s,c,d,f);return g&&(v.ac=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Be.Z)(function*(t){const r=It(t);ot("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield $y(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function mO(n,e=10240){let t=0;return{read:()=>(0,Be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class e1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class KF{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Fi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Be.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Be.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Be.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),i=Number(r);isNaN(i)&&e.Pc(`length string (${r}) is not valid number`);const s=yield e.vc(i);return new TF(JSON.parse(s),t.length+i)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Be.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,Be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Be.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class YF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new et(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Be.Z)(function*(s,c){const d=It(s),f=og(d.wt)+"/documents",g={documents:c.map(k=>sg(d.wt,k))},v=yield d.ao("BatchGetDocuments",f,g),w=new Map;v.forEach(k=>{const R=function CD(n,e){return"found"in e?function(t,r){Xt(!!r.found);const i=$l(t,r.found.name),s=di(r.found.updateTime),c=new ss({mapValue:{fields:r.found.fields}});return hr.newFoundDocument(i,s,c)}(n,e):"missing"in e?function(t,r){Xt(!!r.missing),Xt(!!r.readTime);const i=$l(t,r.missing),s=di(r.readTime);return hr.newNoDocument(i,s)}(n,e):Rt()}(d.wt,k);w.set(R.key.toString(),R)});const S=[];return c.forEach(k=>{const R=w.get(k.toString());Xt(!!R),S.push(R)}),S}),function(s,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $d(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=wt.fromPath(i);e.mutations.push(new eg(s,e.precondition(s)))}),yield(r=(0,Be.Z)(function*(i,s){const c=It(i),d=og(c.wt)+"/documents",f={writes:s.map(g=>ag(c.wt,g))};yield c.ro("Commit",d,f)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Rt();t=en.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new et(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Rr.updateTime(t):Rr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(en.min()))throw new et(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rr.updateTime(t)}return Rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class QF{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Dc=r.maxAttempts,this.So=new KD(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Be.Z)(function*(){const t=new YF(e.datastore),r=e.xc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Nc(s)}))}).catch(i=>{e.Nc(i)})}))}xc(e){try{const t=this.updateFunction(e);return!Kp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!G0(t)}return!1}}class JF{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=xi.UNAUTHENTICATED,this.clientId=sD.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Be.Z)(function*(d){ot("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(ot("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new et(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ky(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function yO(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,Be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Be.Z)(function*(s){r.isEqual(s)||(yield o(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),$A.apply(this,arguments)}function _O(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,Be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield WA(n);ot("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>nO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>nO(e.remoteStore,s)),n.onlineComponents=e}),GA.apply(this,arguments)}function WA(n){return KA.apply(this,arguments)}function KA(){return KA=(0,Be.Z)(function*(n){return n.offlineComponents||(ot("FirestoreClient","Using default OfflineComponentProvider"),yield yO(n,new pO)),n.offlineComponents}),KA.apply(this,arguments)}function t1(n){return YA.apply(this,arguments)}function YA(){return YA=(0,Be.Z)(function*(n){return n.onlineComponents||(ot("FirestoreClient","Using default OnlineComponentProvider"),yield _O(n,new zA)),n.onlineComponents}),YA.apply(this,arguments)}function vO(n){return WA(n).then(e=>e.persistence)}function QA(n){return WA(n).then(e=>e.localStore)}function bO(n){return t1(n).then(e=>e.remoteStore)}function JA(n){return t1(n).then(e=>e.syncEngine)}function Xy(n){return XA.apply(this,arguments)}function XA(){return XA=(0,Be.Z)(function*(n){const e=yield t1(n),t=e.eventManager;return t.onListen=MF.bind(null,e.syncEngine),t.onUnlisten=kF.bind(null,e.syncEngine),t}),XA.apply(this,arguments)}function wO(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(i,s,c,d,f){const g=new e1({next:w=>{s.enqueueAndForget(()=>mA(i,v));const S=w.docs.has(c);!S&&w.fromCache?f.reject(new et(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&d&&"server"===d.source?f.reject(new et(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(w)},error:w=>f.reject(w)}),v=new vA(ff(c.path),g,{includeMetadataChanges:!0,Du:!0});return pA(i,v)}(yield Xy(n),n.asyncQueue,e,t,r)})),r.promise}function CO(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(i,s,c,d,f){const g=new e1({next:w=>{s.enqueueAndForget(()=>mA(i,v)),w.fromCache&&"server"===d.source?f.reject(new et(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),v=new vA(c,g,{includeMetadataChanges:!0,Du:!0});return pA(i,v)}(yield Xy(n),n.asyncQueue,e,t,r)})),r.promise}const xO=new Map;function eS(n,e,t){if(!t)throw new et(Se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EO(n,e,t,r){if(!0===e&&!0===r)throw new et(Se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TO(n){if(!wt.isDocumentKey(n))throw new et(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IO(n){if(wt.isDocumentKey(n))throw new et(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function n1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Rt()}function $n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new et(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=n1(n);throw new et(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function DO(n,e){if(e<=0)throw new et(Se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class AO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new et(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new et(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,EO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AO({}),this._settingsFrozen=!1,e instanceof nl?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new et(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(i.options.projectId)}(e))}get app(){if(!this._app)throw new et(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new et(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new nD;switch(t.type){case"gapi":const r=t.client;return Xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new rD(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new et(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xO.get(e);t&&(ot("ComponentProvider","Removing Datastore"),xO.delete(e),t.terminate())}(this),Promise.resolve()}}class zr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zr(this.firestore,e,this._key)}}class io{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class zu extends io{constructor(e,t,r){super(e,t,ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zr(this.firestore,null,new wt(e))}withConverter(e){return new zu(this.firestore,e,this._path)}}function SO(n,e,...t){if(n=(0,tn.m9)(n),eS("collection","path",e),n instanceof Nb){const r=Nn.fromString(e,...t);return IO(r),new zu(n,null,r)}{if(!(n instanceof zr||n instanceof zu))throw new et(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nn.fromString(e,...t));return IO(r),new zu(n.firestore,null,r)}}function r1(n,e,...t){if(n=(0,tn.m9)(n),1===arguments.length&&(e=sD.I()),eS("doc","path",e),n instanceof Nb){const r=Nn.fromString(e,...t);return TO(r),new zr(n,null,new wt(r))}{if(!(n instanceof zr||n instanceof zu))throw new et(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nn.fromString(e,...t));return TO(r),new zr(n.firestore,n instanceof zu?n.converter:null,new wt(r))}}function MO(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),(n instanceof zr||n instanceof zu)&&(e instanceof zr||e instanceof zu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function kO(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),n instanceof io&&e instanceof io&&n.firestore===e.firestore&&pf(n._query,e._query)&&n.converter===e.converter}class cU{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new KD(this,"async_queue_retry"),this.Kc=()=>{const t=QE();t&&ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=QE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=QE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Fi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Be.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!Ru(t))throw t;ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,ui("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=fA.createAndSchedule(this,e,t,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&Rt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Be.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function tS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class uU{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Yr extends Nb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new cU,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||OO(this),this._firestoreClient.terminate()}}function Vi(n){return n._firestoreClient||OO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function OO(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new cD(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new JF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function PO(n,e,t){const r=new Fi;return n.asyncQueue.enqueue((0,Be.Z)(function*(){try{yield yO(n,t),yield _O(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(s=i).name?s.code===Se.FAILED_PRECONDITION||s.code===Se.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var s})).then(()=>r.promise)}function RO(n){if(n._initialized||n._terminated)throw new et(Se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class eh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new et(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $u(Ei.fromBase64String(e))}catch(t){throw new et(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $u(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vg{constructor(e){this._methodName=e}}class i1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new et(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new et(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bn(this._lat,e._lat)||bn(this._long,e._long)}}const bU=/^__.*__$/;class wU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Hc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fu(e,this.data,t,this.fieldTransforms)}}class NO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Hc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class s1{constructor(e,t,r,i,s,c){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new s1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return l1(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(LO(this.Zc)&&bU.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class CU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||Ob(e)}aa(e,t,r,i=!1){return new s1({Zc:e,methodName:t,ca:r,path:ii.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function bg(n){const e=n._freezeSettings(),t=Ob(n._databaseId);return new CU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function o1(n,e,t,r,i,s={}){const c=n.aa(s.merge||s.mergeFields?2:0,e,t,i);sS("Data must be an object, but it was:",c,r);const d=VO(r,c);let f,g;if(s.merge)f=new Do(c.fieldMask),g=c.fieldTransforms;else if(s.mergeFields){const v=[];for(const w of s.mergeFields){const S=oS(e,w,t);if(!c.contains(S))throw new et(Se.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);jO(v,S)||v.push(S)}f=new Do(v),g=c.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,g=c.fieldTransforms;return new wU(new ss(d),f,g)}class Lb extends vg{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lb}}function FO(n,e,t){return new s1({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class nS extends vg{_toFieldTransform(e){return new yf(e.path,new zl)}isEqual(e){return e instanceof nS}}class xU extends vg{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=FO(this,e,!0),r=this.ha.map(s=>wg(s,t)),i=new Hd(r);return new yf(e.path,i)}isEqual(e){return this===e}}class EU extends vg{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=FO(this,e,!0),r=this.ha.map(s=>wg(s,t)),i=new qd(r);return new yf(e.path,i)}isEqual(e){return this===e}}class TU extends vg{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Zc(e.wt,oE(e.wt,this.la));return new yf(e.path,t)}isEqual(e){return this===e}}function rS(n,e,t,r){const i=n.aa(1,e,t);sS("Data must be an object, but it was:",i,r);const s=[],c=ss.empty();Ld(r,(f,g)=>{const v=a1(e,f,t);g=(0,tn.m9)(g);const w=i.ia(v);if(g instanceof Lb)s.push(v);else{const S=wg(g,w);null!=S&&(s.push(v),c.set(v,S))}});const d=new Do(s);return new NO(c,d,i.fieldTransforms)}function iS(n,e,t,r,i,s){const c=n.aa(1,e,t),d=[oS(e,r,t)],f=[i];if(s.length%2!=0)throw new et(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<s.length;S+=2)d.push(oS(e,s[S])),f.push(s[S+1]);const g=[],v=ss.empty();for(let S=d.length-1;S>=0;--S)if(!jO(g,d[S])){const k=d[S];let R=f[S];R=(0,tn.m9)(R);const B=c.ia(k);if(R instanceof Lb)g.push(k);else{const G=wg(R,B);null!=G&&(g.push(k),v.set(k,G))}}const w=new Do(g);return new NO(v,w,c.fieldTransforms)}function UO(n,e,t,r=!1){return wg(t,n.aa(r?4:3,e))}function wg(n,e){if(BO(n=(0,tn.m9)(n)))return sS("Unsupported field value:",e,n),VO(n,e);if(n instanceof vg)return function(t,r){if(!LO(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const c of t){let d=wg(c,r.ra(s));null==d&&(d={nullValue:"NULL_VALUE"}),i.push(d),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,tn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return oE(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=dr.fromDate(t);return{timestampValue:Uu(r.wt,i)}}if(t instanceof dr){const i=new dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Uu(r.wt,i)}}if(t instanceof i1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $u)return{bytesValue:J0(r.wt,t._byteString)};if(t instanceof zr){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ig(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${n1(t)}`)}(n,e)}function VO(n,e){const t={};return Zx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ld(n,(r,i)=>{const s=wg(i,e.ea(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function BO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof dr||n instanceof i1||n instanceof $u||n instanceof zr||n instanceof vg)}function sS(n,e,t){if(!BO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=n1(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function oS(n,e,t){if((e=(0,tn.m9)(e))instanceof eh)return e._internalPath;if("string"==typeof e)return a1(n,e);throw l1("Field path arguments must be of type string or ",n,!1,void 0,t)}const IU=new RegExp("[~\\*/\\[\\]]");function a1(n,e,t){if(e.search(IU)>=0)throw l1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new eh(...e.split("."))._internalPath}catch(r){throw l1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function l1(n,e,t,r,i){const s=r&&!r.isEmpty(),c=void 0!==i;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new et(Se.INVALID_ARGUMENT,d+n+f)}function jO(n,e){return n.some(t=>t.isEqual(e))}class Fb{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new DU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(c1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class DU extends Fb{data(){return super.data()}}function c1(n,e){return"string"==typeof e?a1(n,e):e instanceof eh?e._internalPath:e._delegate._internalPath}class Cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class th extends Fb{constructor(e,t,r,i,s,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ub(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(c1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ub extends th{data(e={}){return super.data(e)}}class Ef{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Cg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ub(this._firestore,this._userDataWriter,r.key,r,new Cg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new et(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Ub(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Cg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const d=new Ub(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Cg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,g=-1;return 0!==c.type&&(f=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),g=s.indexOf(c.doc.key)),{type:AU(c.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}function ZO(n,e){return n instanceof th&&e instanceof th?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ef&&e instanceof Ef&&n._firestore===e._firestore&&kO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function HO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new et(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vb{}function Tf(n,...e){for(const t of e)n=t._apply(n);return n}class SU extends Vb{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=bg(e.firestore),r=function(i,s,c,d,f,g,v){let w;if(f.isKeyField()){if("array-contains"===g||"array-contains-any"===g)throw new et(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if("in"===g||"not-in"===g){KO(v,g);const k=[];for(const R of v)k.push(WO(d,i,R));w={arrayValue:{values:k}}}else w=WO(d,i,v)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||KO(v,g),w=UO(c,"where",v,"in"===g||"not-in"===g);const S=Kr.create(f,g,w);return function(k,R){if(R.ht()){const G=jd(k);if(null!==G&&!G.isEqual(R.field))throw new et(Se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${G.toString()}' and '${R.field.toString()}'`);const te=B0(k);null!==te&&YO(0,R.field,te)}const B=function(G,te){for(const ye of G.filters)if(te.indexOf(ye.op)>=0)return ye.op;return null}(k,function(G){switch(G){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(R.op));if(null!==B)throw new et(Se.INVALID_ARGUMENT,B===R.op?`Invalid query. You cannot use more than one '${R.op.toString()}' filter.`:`Invalid query. You cannot use '${R.op.toString()}' filters with '${B.toString()}' filters.`)}(i,S),S}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new io(e.firestore,e.converter,function(i,s){const c=i.filters.concat([s]);return new jc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class kU extends Vb{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new et(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new et(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Bd(i,s);return function(d,f){if(null===B0(d)){const g=jd(d);null!==g&&YO(0,g,f.field)}}(r,c),c}(e._query,this.fa,this.wa);return new io(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new jc(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class qO extends Vb{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new io(e.firestore,e.converter,j0(e._query,this.ma,this.ga))}}class zO extends Vb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=GO(e,this.type,this.ya,this.pa);return new io(e.firestore,e.converter,(i=t,new jc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class $O extends Vb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=GO(e,this.type,this.ya,this.pa);return new io(e.firestore,e.converter,(i=t,new jc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function GO(n,e,t,r){if(t[0]=(0,tn.m9)(t[0]),t[0]instanceof Fb)return function(i,s,c,d,f){if(!d)throw new et(Se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const g=[];for(const v of Zd(i))if(v.field.isKeyField())g.push(Ud(s,d.key));else{const w=d.data.field(v.field);if(hy(w))throw new et(Se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===w){const S=v.field.canonicalString();throw new et(Se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}g.push(w)}return new Bc(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=bg(n.firestore);return function(s,c,d,f,g,v){const w=s.explicitOrderBy;if(g.length>w.length)throw new et(Se.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let k=0;k<g.length;k++){const R=g[k];if(w[k].field.isKeyField()){if("string"!=typeof R)throw new et(Se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof R}`);if(!vy(s)&&-1!==R.indexOf("/"))throw new et(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${R}' contains a slash.`);const B=s.path.child(Nn.fromString(R));if(!wt.isDocumentKey(B))throw new et(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${B}' is not because it contains an odd number of segments.`);const G=new wt(B);S.push(Ud(c,G))}else{const B=UO(d,f,R);S.push(B)}}return new Bc(S,v)}(n._query,n.firestore._databaseId,i,e,t,r)}}function WO(n,e,t){if("string"==typeof(t=(0,tn.m9)(t))){if(""===t)throw new et(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vy(e)&&-1!==t.indexOf("/"))throw new et(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Nn.fromString(t));if(!wt.isDocumentKey(r))throw new et(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ud(n,new wt(r))}if(t instanceof zr)return Ud(n,t._key);throw new et(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${n1(t)}.`)}function KO(n,e){if(!Array.isArray(n)||0===n.length)throw new et(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new et(Se.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function YO(n,e,t){if(!t.isEqual(e))throw new et(Se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const VU={maxAttempts:5};class aS{convertValue(e,t="none"){switch(Lu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rt()}}convertObject(e,t){const r={};return Ld(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new i1(Pr(e.latitude),Pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fy(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wp(e));default:return null}}convertTimestamp(e){const t=Nu(e);return new dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Nn.fromString(e);Xt(ID(r));const i=new nl(r.get(1),r.get(3)),s=new wt(r.popFirst(5));return i.isEqual(t)||ui(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function u1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class BU extends aS{constructor(e){super(),this.firestore=e}convertBytes(e){return new $u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,t)}}class QO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bg(e)}set(e,t,r){this._verifyNotCommitted();const i=If(e,this._firestore),s=u1(i.converter,t,r),c=o1(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Rr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=If(e,this._firestore);let c;return c="string"==typeof(t=(0,tn.m9)(t))||t instanceof eh?iS(this._dataReader,"WriteBatch.update",s._key,t,r,i):rS(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,Rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=If(e,this._firestore);return this._mutations=this._mutations.concat(new $d(t._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new et(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function If(n,e){if((n=(0,tn.m9)(n)).firestore!==e)throw new et(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class xg extends aS{constructor(e){super(),this.firestore=e}convertBytes(e){return new $u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,t)}}function JO(n,e,t){n=$n(n,zr);const r=$n(n.firestore,Yr),i=u1(n.converter,e,t);return e_(r,[o1(bg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Rr.none())])}function XO(n,e,t,...r){n=$n(n,zr);const i=$n(n.firestore,Yr),s=bg(i);let c;return c="string"==typeof(e=(0,tn.m9)(e))||e instanceof eh?iS(s,"updateDoc",n._key,e,t,r):rS(s,"updateDoc",n._key,e),e_(i,[c.toMutation(n._key,Rr.exists(!0))])}function eP(n,...e){var t,r,i;n=(0,tn.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||tS(e[c])||(s=e[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(tS(e[c])){const w=e[c];e[c]=null===(t=w.next)||void 0===t?void 0:t.bind(w),e[c+1]=null===(r=w.error)||void 0===r?void 0:r.bind(w),e[c+2]=null===(i=w.complete)||void 0===i?void 0:i.bind(w)}let f,g,v;if(n instanceof zr)g=$n(n.firestore,Yr),v=ff(n._key.path),f={next:w=>{e[c]&&e[c](lS(g,n,w))},error:e[c+1],complete:e[c+2]};else{const w=$n(n,io);g=$n(w.firestore,Yr),v=w._query;const S=new xg(g);f={next:k=>{e[c]&&e[c](new Ef(g,S,w,k))},error:e[c+1],complete:e[c+2]},HO(n._query)}return function(w,S,k,R){const B=new e1(R),G=new vA(S,B,k);return w.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return pA(yield Xy(w),G)})),()=>{B.Tc(),w.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return mA(yield Xy(w),G)}))}}(Vi(g),v,d,f)}function e_(n,e){return function(t,r){const i=new Fi;return t.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function OF(n,e,t){return EA.apply(this,arguments)}(yield JA(t),r,i)})),i.promise}(Vi(n),e)}function lS(n,e,t){const r=t.docs.get(e._key),i=new xg(n);return new th(n,i,e._key,r,new Cg(t.hasPendingWrites,t.fromCache),e.converter)}class YU extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bg(e)}get(e){const t=If(e,this._firestore),r=new BU(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Rt();const s=i[0];if(s.isFoundDocument())return new Fb(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Fb(this._firestore,r,t._key,null,t.converter);throw Rt()})}set(e,t,r){const i=If(e,this._firestore),s=u1(i.converter,t,r),c=o1(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const s=If(e,this._firestore);let c;return c="string"==typeof(t=(0,tn.m9)(t))||t instanceof eh?iS(this._dataReader,"Transaction.update",s._key,t,r,i):rS(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=If(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=If(e,this._firestore),r=new xg(this._firestore);return super.get(e).then(i=>new th(this._firestore,r,t._key,i._document,new Cg(!1,!1),t.converter))}}function cS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new et("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function nP(){if("undefined"==typeof Uint8Array)throw new et("unimplemented","Uint8Arrays are not available in this environment.")}function rP(){if(!function Hx(){return"undefined"!=typeof atob}())throw new et("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){rf=Eo.SDK_VERSION,(0,Eo._registerComponent)(new Hh.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new Yr(i,new Nx(t.getProvider("auth-internal")),new iD(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),(0,Eo.registerVersion)(D0,"3.4.10",n),(0,Eo.registerVersion)(D0,"3.4.10","esm2017")}();class Bb{constructor(e){this._delegate=e}static fromBase64String(e){return rP(),new Bb($u.fromBase64String(e))}static fromUint8Array(e){return nP(),new Bb($u.fromUint8Array(e))}toBase64(){return rP(),this._delegate.toBase64()}toUint8Array(){return nP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uS(n){return function sV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class oV{enableIndexedDbPersistence(e,t){return function hU(n,e){RO(n=$n(n,Yr));const t=Vi(n),r=n._freezeSettings(),i=new zA;return PO(t,i,new gO(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function fU(n){RO(n=$n(n,Yr));const e=Vi(n),t=n._freezeSettings(),r=new zA;return PO(e,r,new WF(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pU(n){if(n._initialized&&!n._terminated)throw new et(Se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{yield(t=(0,Be.Z)(function*(r){if(!tl.V())return Promise.resolve();const i=r+"main";yield tl.delete(i)}),function(r){return t.apply(this,arguments)})(Db(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class iP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof nl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function aU(n,e,t,r={}){var i;const s=(n=$n(n,Nb))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Zp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,d;if("string"==typeof r.mockUserToken)c=r.mockUserToken,d=xi.MOCK_USER;else{c=(0,tn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new et(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new xi(f)}n._authCredentials=new Rx(new Px(c,d))}}(this._delegate,e,t,r)}enableNetwork(){return function mU(n){return function XF(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const e=yield vO(n),t=yield bO(n);return e.setNetworkEnabled(!0),function(r){const i=It(r);return i.lu.delete(0),Pb(i)}(t)}))}(Vi(n=$n(n,Yr)))}(this._delegate)}disableNetwork(){return function yU(n){return function eU(n){return n.asyncQueue.enqueue((0,Be.Z)(function*(){const e=yield vO(n),t=yield bO(n);return e.setNetworkEnabled(!1),(r=(0,Be.Z)(function*(i){const s=It(i);s.lu.add(0),yield $y(s),s._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Vi(n=$n(n,Yr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,EO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gU(n){return function(e){const t=new Fi;return e.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function LF(n,e){return SA.apply(this,arguments)}(yield JA(e),t)})),t.promise}(Vi(n=$n(n,Yr)))}(this._delegate)}onSnapshotsInSync(e){return function KU(n,e){return function rU(n,e){const t=new e1(e);return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return r=yield Xy(n),i=t,It(r).Tu.add(i),void i.next();var r,i})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return r=yield Xy(n),i=t,void It(r).Tu.delete(i);var r,i}))}}(Vi(n=$n(n,Yr)),tS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new et("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new t_(this,SO(this._delegate,e))}catch(t){throw Oo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Kl(this,r1(this._delegate,e))}catch(t){throw Oo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Po(this,function lU(n,e){if(n=$n(n,Nb),eS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new et(Se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new io(n,null,(t=e,new jc(Nn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Oo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function QU(n,e,t){n=$n(n,Yr);const r=Object.assign(Object.assign({},VU),t);return function(i){if(i.maxAttempts<1)throw new et(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function iU(n,e,t){const r=new Fi;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){const i=yield(s=n,t1(s).then(c=>c.datastore));var s;new QF(n.asyncQueue,i,t,e,r).run()})),r.promise}(Vi(n),i=>e(new YU(n,i)),r)}(this._delegate,t=>e(new sP(this,t)))}batch(){return Vi(this._delegate),new oP(new QO(this._delegate,e=>e_(this._delegate,e)))}loadBundle(e){return function _U(n,e){const t=Vi(n=$n(n,Yr)),r=new uU;return function sU(n,e,t,r){const i=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,f=function(f,g){if(f instanceof Uint8Array)return mO(f,g);if(f instanceof ArrayBuffer)return mO(new Uint8Array(f),g);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new KF(f,c);var f}(t,Ob(e));n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){!function GF(n,e,t){const r=It(n);var i;(i=(0,Be.Z)(function*(s,c,d){try{const f=yield c.getMetadata();if(yield function(S,k){const R=It(S),B=di(k.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",G=>R.Ds.getBundleMetadata(G,k.id)).then(G=>!!G&&G.createTime.compareTo(B)>=0)}(s.localStore,f))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(S=f).totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}),Promise.resolve(new Set);d._updateProgress(sO(f));const g=new IF(f,s.localStore,c.wt);let v=yield c.fc();for(;v;){const S=yield g.Nu(v);S&&d._updateProgress(S),v=yield c.fc()}const w=yield g.complete();return yield Xd(s,w.Mu,void 0),yield function(S,k){const R=It(S);return R.persistence.runTransaction("Save bundle","readwrite",B=>R.Ds.saveBundleMetadata(B,k))}(s.localStore,f),d._completeWith(w.progress),Promise.resolve(w.Ou)}catch(f){return Zp("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var S}),function(s,c,d){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield JA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function vU(n,e){return function oU(n,e){return n.asyncQueue.enqueue((0,Be.Z)(function*(){return function(t,r){const i=It(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ds.getNamedQuery(s,r))}(yield QA(n),e)}))}(Vi(n=$n(n,Yr)),e).then(t=>t?new io(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Po(this,t):null)}}class d1 extends aS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bb(new $u(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Kl.forKey(t,this.firestore,null)}}class sP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new d1(e)}get(e){const t=Tg(e);return this._delegate.get(t).then(r=>new jb(this._firestore,new th(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Tg(e);return r?(cS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Tg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Tg(e);return this._delegate.delete(t),this}}class oP{constructor(e){this._delegate=e}set(e,t,r){const i=Tg(e);return r?(cS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Tg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Tg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Eg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ub(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zb(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Eg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Eg(e,new d1(e),t),i.set(t,s)),s}}Eg.INSTANCES=new WeakMap;class Kl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new d1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new et("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Kl(t,new zr(t._delegate,r,new wt(e)))}static forKey(e,t,r){return new Kl(t,new zr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new t_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new t_(this.firestore,SO(this._delegate,e))}catch(t){throw Oo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,tn.m9)(e))instanceof zr&&MO(this._delegate,e)}set(e,t){t=cS("DocumentReference.set",t);try{return t?JO(this._delegate,e,t):JO(this._delegate,e)}catch(r){throw Oo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?XO(this._delegate,e):XO(this._delegate,e,t,...r)}catch(i){throw Oo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function GU(n){return e_($n(n.firestore,Yr),[new $d(n._key,Rr.none())])}(this._delegate)}onSnapshot(...e){const t=aP(e),r=lP(e,i=>new jb(this.firestore,new th(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return eP(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function ZU(n){n=$n(n,zr);const e=$n(n.firestore,Yr),t=Vi(e),r=new xg(e);return function tU(n,e){const t=new Fi;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(r=(0,Be.Z)(function*(i,s,c){try{const d=yield function(f,g){const v=It(f);return v.persistence.runTransaction("read document","readonly",w=>v.localDocuments.getDocument(w,g))}(i,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new et(Se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=Ky(d,`Failed to get document '${s} from cache`);c.reject(f)}}),function(i,s,c){return r.apply(this,arguments)})(yield QA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new th(e,r,n._key,i,new Cg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function HU(n){n=$n(n,zr);const e=$n(n.firestore,Yr);return wO(Vi(e),n._key,{source:"server"}).then(t=>lS(e,n,t))}(this._delegate):function jU(n){n=$n(n,zr);const e=$n(n.firestore,Yr);return wO(Vi(e),n._key).then(t=>lS(e,n,t))}(this._delegate),t.then(r=>new jb(this.firestore,new th(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Kl(this.firestore,this._delegate.withConverter(e?Eg.getInstance(this.firestore,e):null))}}function Oo(n,e,t){return n.message=n.message.replace(e,t),n}function aP(n){for(const e of n)if("object"==typeof e&&!uS(e))return e;return{}}function lP(n,e){var t,r;let i;return i=uS(n[0])?n[0]:uS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class jb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Kl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ZO(this._delegate,e._delegate)}}class Zb extends jb{data(e){const t=this._delegate.data(e);return function Ox(n,e){n||Rt()}(void 0!==t),t}}class Po{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new d1(e)}where(e,t,r){try{return new Po(this.firestore,Tf(this._delegate,function MU(n,e,t){const r=e,i=c1("where",n);return new SU(i,r,t)}(e,t,r)))}catch(i){throw Oo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Po(this.firestore,Tf(this._delegate,function OU(n,e="asc"){const t=e,r=c1("orderBy",n);return new kU(r,t)}(e,t)))}catch(r){throw Oo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Po(this.firestore,Tf(this._delegate,function PU(n){return DO("limit",n),new qO("limit",n,"F")}(e)))}catch(t){throw Oo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Po(this.firestore,Tf(this._delegate,function RU(n){return DO("limitToLast",n),new qO("limitToLast",n,"L")}(e)))}catch(t){throw Oo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Po(this.firestore,Tf(this._delegate,function NU(...n){return new zO("startAt",n,!0)}(...e)))}catch(t){throw Oo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Po(this.firestore,Tf(this._delegate,function LU(...n){return new zO("startAfter",n,!1)}(...e)))}catch(t){throw Oo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Po(this.firestore,Tf(this._delegate,function FU(...n){return new $O("endBefore",n,!1)}(...e)))}catch(t){throw Oo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Po(this.firestore,Tf(this._delegate,function UU(...n){return new $O("endAt",n,!0)}(...e)))}catch(t){throw Oo(t,"endAt()","Query.endAt()")}}isEqual(e){return kO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function zU(n){n=$n(n,io);const e=$n(n.firestore,Yr),t=Vi(e),r=new xg(e);return function nU(n,e){const t=new Fi;return n.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(r=(0,Be.Z)(function*(i,s,c){try{const d=yield N(i,s,!0),f=new lO(s,d.ji),g=f.Ku(d.documents),v=f.applyChanges(g,!1);c.resolve(v.snapshot)}catch(d){const f=Ky(d,`Failed to execute query '${s} against cache`);c.reject(f)}}),function(i,s,c){return r.apply(this,arguments)})(yield QA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ef(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function $U(n){n=$n(n,io);const e=$n(n.firestore,Yr),t=Vi(e),r=new xg(e);return CO(t,n._query,{source:"server"}).then(i=>new Ef(e,r,n,i))}(this._delegate):function qU(n){n=$n(n,io);const e=$n(n.firestore,Yr),t=Vi(e),r=new xg(e);return HO(n._query),CO(t,n._query).then(i=>new Ef(e,r,n,i))}(this._delegate),t.then(r=>new dS(this.firestore,new Ef(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=aP(e),r=lP(e,i=>new dS(this.firestore,new Ef(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return eP(this._delegate,t,r)}withConverter(e){return new Po(this.firestore,this._delegate.withConverter(e?Eg.getInstance(this.firestore,e):null))}}class lV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Zb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Zb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new lV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Zb(this._firestore,r))})}isEqual(e){return ZO(this._delegate,e._delegate)}}class t_ extends Po{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Kl(this.firestore,e):null}doc(e){try{return new Kl(this.firestore,void 0===e?r1(this._delegate):r1(this._delegate,e))}catch(t){throw Oo(t,"doc()","CollectionReference.doc()")}}add(e){return function WU(n,e){const t=$n(n.firestore,Yr),r=r1(n),i=u1(n.converter,e);return e_(t,[o1(bg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Kl(this.firestore,t))}isEqual(e){return MO(this._delegate,e._delegate)}withConverter(e){return new t_(this.firestore,this._delegate.withConverter(e?Eg.getInstance(this.firestore,e):null))}}function Tg(n){return $n(n,zr)}class hS{constructor(...e){this._delegate=new eh(...e)}static documentId(){return new hS(ii.keyField().canonicalString())}isEqual(e){return(e=(0,tn.m9)(e))instanceof eh&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ig{constructor(e){this._delegate=e}static serverTimestamp(){const e=function XU(){return new nS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ig(e)}static delete(){const e=function JU(){return new Lb("deleteField")}();return e._methodName="FieldValue.delete",new Ig(e)}static arrayUnion(...e){const t=function eV(...n){return new xU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ig(t)}static arrayRemove(...e){const t=function tV(...n){return new EU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ig(t)}static increment(e){const t=function nV(n){return new TU("increment",n)}(e);return t._methodName="FieldValue.increment",new Ig(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const cV={Firestore:iP,GeoPoint:i1,Timestamp:dr,Blob:Bb,Transaction:sP,WriteBatch:oP,DocumentReference:Kl,DocumentSnapshot:jb,Query:Po,QueryDocumentSnapshot:Zb,QuerySnapshot:dS,CollectionReference:t_,FieldPath:hS,FieldValue:Ig,setLogLevel:function aV(n){!function jp(n){Ou.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function dV(n){(function uV(n,e){n.INTERNAL.registerComponent(new Hh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},cV)))})(n,(e,t)=>new iP(e,t,new oV)),n.registerVersion("@firebase/firestore-compat","0.1.19")}(AI.Z);var fS=V(6451),h1=V(5363),hV=V(6063);class fV extends Wi.x{constructor(e=1/0,t=1/0,r=hV.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:c}=this;t||(r.push(e),!i&&r.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let c=0;c<s.length&&!e.closed;c+=r?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const c=t.now();let d=0;for(let f=1;f<r.length&&r[f]<=c;f+=2)d=f;d&&r.splice(0,d+1)}}}var pV=V(3099);function cP(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,pV.B)({connector:()=>new fV(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function uP(n,e){return(0,vi.m)(e)?cr(()=>n,e):cr(()=>n)}var pS=V(9468);V(5867);const hP=new Map,vV={activated:!1,tokenObservers:[]},bV={initialized:!1,enabled:!1};function Cs(n){return hP.get(n)||vV}function zc(n,e){hP.set(n,e)}function p1(){return bV}class TV{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Be.Z)(function*(){t.stop();try{t.pending=new tn.BH,yield function IV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new tn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ro=new tn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pP(n){if(!Cs(n).activated)throw Ro.create("use-before-activation",{appName:n.name})}function _S(n,e){return vS.apply(this,arguments)}function vS(){return vS=(0,Be.Z)(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const k=yield c.getHeartbeatsHeader();k&&(s["X-Firebase-Client"]=k)}const d={method:"POST",body:JSON.stringify(e),headers:s};let f,g;try{f=yield fetch(n,d)}catch(k){throw Ro.create("fetch-network-error",{originalErrorMessage:null===(r=k)||void 0===r?void 0:r.message})}if(200!==f.status)throw Ro.create("fetch-status-error",{httpStatus:f.status});try{g=yield f.json()}catch(k){throw Ro.create("fetch-parse-error",{originalErrorMessage:null===(i=k)||void 0===i?void 0:i.message})}const v=g.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Ro.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const w=1e3*Number(v[1]),S=Date.now();return{token:g.token,expireTimeMillis:S+w,issuedAtTimeMillis:S}}),vS.apply(this,arguments)}function kV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Hb="firebase-app-check-store";let y1=null;function mP(){return y1||(y1=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(Ro.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Hb,{keyPath:"compositeKey"})}}catch(r){e(Ro.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),y1)}function bS(){return bS=(0,Be.Z)(function*(n,e){const r=(yield mP()).transaction(Hb,"readwrite"),s=r.objectStore(Hb).put({compositeKey:n,value:e});return new Promise((c,d)=>{s.onsuccess=f=>{c()},r.onerror=f=>{var g;d(Ro.create("storage-set",{originalErrorMessage:null===(g=f.target.error)||void 0===g?void 0:g.message}))}})}),bS.apply(this,arguments)}const qb=new Cd.Yd("@firebase/app-check");function bP(n,e){return(0,tn.hl)()?function NV(n,e){return function yP(n,e){return bS.apply(this,arguments)}(function vP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{qb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function wP(){return p1().enabled}function CP(){return ES.apply(this,arguments)}function ES(){return ES=(0,Be.Z)(function*(){const n=p1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ES.apply(this,arguments)}const jV={error:"UNKNOWN_ERROR"};function ZV(n){return tn.US.encodeString(JSON.stringify(n),!1)}function _1(n){return TS.apply(this,arguments)}function TS(){return TS=(0,Be.Z)(function*(n,e=!1){const t=n.app;pP(t);const r=Cs(t);let s,i=r.token;if(!i){const f=yield r.cachedTokenPromise;f&&v1(f)&&(i=f)}if(!e&&i&&v1(i))return{token:i.token};let d,c=!1;if(wP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_S(kV(t,yield CP()),n.heartbeatServiceProvider).then(g=>(r.exchangeTokenPromise=void 0,g)),c=!0);const f=yield r.exchangeTokenPromise;return yield bP(t,f),zc(t,Object.assign(Object.assign({},r),{token:f})),{token:f.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(f=>(r.exchangeTokenPromise=void 0,f)),c=!0),i=yield r.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?qb.warn(f.message):qb.error(f),s=f}return i?(d={token:i.token},zc(t,Object.assign(Object.assign({},r),{token:i})),yield bP(t,i)):d=qV(s),c&&EP(t,d),d}),TS.apply(this,arguments)}function DS(n,e){const t=Cs(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),zc(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function xP(n){const{app:e}=n,t=Cs(e);let r=t.tokenRefresher;r||(r=function HV(n){const{app:e}=n;return new TV((0,Be.Z)(function*(){let r;if(r=Cs(e).token?yield _1(n,!0):yield _1(n),r.error)throw r.error}),()=>!0,()=>{const t=Cs(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),zc(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function EP(n,e){const t=Cs(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function v1(n){return n.expireTimeMillis-Date.now()>0}function qV(n){return{token:ZV(jV),error:n}}class zV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Cs(this.app);for(const t of e)DS(this.app,t.next);return Promise.resolve()}}const OP="app-check-internal";!function sB(){(0,Eo._registerComponent)(new Hh.wA("app-check",n=>function $V(n,e){return new zV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(OP).initialize()})),(0,Eo._registerComponent)(new Hh.wA(OP,n=>function GV(n){return{getToken:e=>_1(n,e),addTokenListener:e=>function IS(n,e,t,r){const{app:i}=n,s=Cs(i),c={next:t,error:r,type:e};if(zc(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&v1(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),xP(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>xP(n))}(n,"INTERNAL",e),removeTokenListener:e=>DS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Eo.registerVersion)("@firebase/app-check","0.5.9")}();class w1{constructor(){return(0,qr.vb)("app-check")}}"undefined"!=typeof window&&window;var uB=V(127);const RP=new l.OlP("angularfire2.auth.use-emulator"),NP=new l.OlP("angularfire2.auth.settings"),LP=new l.OlP("angularfire2.auth.tenant-id"),FP=new l.OlP("angularfire2.auth.langugage-code"),UP=new l.OlP("angularfire2.auth.use-device-language"),VP=new l.OlP("angularfire.auth.persistence"),BP=(n,e,t,r,i,s,c,d)=>(0,vs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=e.runOutsideAngular(()=>n.auth());if(t&&f.useEmulator(...t),r&&(f.tenantId=r),f.languageCode=i,s&&f.useDeviceLanguage(),c)for(const[g,v]of Object.entries(c))f.settings[g]=v;return d&&f.setPersistence(d),f},[t,r,i,s,c,d]);let OS=(()=>{class n{constructor(t,r,i,s,c,d,f,g,v,w,S,k){const R=new Wi.x,B=Tt(void 0).pipe((0,h1.Q)(c.outsideAngular),cr(()=>s.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,5881)))),(0,Dt.U)(()=>(0,vs.on)(t,s,r)),(0,Dt.U)(G=>BP(G,s,d,g,v,w,f,S)),cP({bufferSize:1,refCount:!1}));if(yr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Tt(null);else{B.pipe(Tl()).subscribe();const te=B.pipe(cr(xe=>xe.getRedirectResult().then(Ie=>Ie,()=>null)),qr.iC,cP({bufferSize:1,refCount:!1})),ye=B.pipe(cr(xe=>new E.y(Ie=>({unsubscribe:s.runOutsideAngular(()=>xe.onAuthStateChanged(tt=>Ie.next(tt),tt=>Ie.error(tt),()=>Ie.complete()))})))),Le=B.pipe(cr(xe=>new E.y(Ie=>({unsubscribe:s.runOutsideAngular(()=>xe.onIdTokenChanged(tt=>Ie.next(tt),tt=>Ie.error(tt),()=>Ie.complete()))}))));this.authState=te.pipe(uP(ye),(0,pS.R)(c.outsideAngular),(0,h1.Q)(c.insideAngular)),this.user=te.pipe(uP(Le),(0,pS.R)(c.outsideAngular),(0,h1.Q)(c.insideAngular)),this.idToken=this.user.pipe(cr(xe=>xe?(0,Yn.D)(xe.getIdToken()):Tt(null))),this.idTokenResult=this.user.pipe(cr(xe=>xe?(0,Yn.D)(xe.getIdTokenResult()):Tt(null))),this.credential=(0,fS.T)(te,R,this.authState.pipe(_r(xe=>!xe))).pipe((0,Dt.U)(xe=>(null==xe?void 0:xe.user)?xe:null),(0,pS.R)(c.outsideAngular),(0,h1.Q)(c.insideAngular))}return(0,vs.pX)(this,B,s,{spy:{apply:(G,te,ye)=>{(G.startsWith("signIn")||G.startsWith("createUser"))&&ye.then(Le=>R.next(Le))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vs.Dh),l.LFG(vs.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(qr.HU),l.LFG(RP,8),l.LFG(NP,8),l.LFG(LP,8),l.LFG(FP,8),l.LFG(UP,8),l.LFG(VP,8),l.LFG(w1,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function jP(n,e){return function hB(n,e=_p.z){return new E.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function PS(n,e){return jP(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function C1(n,e){return PS(n,e).pipe(Gs(void 0),Pv(),(0,Dt.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,d)=>{const f=i.find(v=>v.doc.ref.isEqual(c.ref)),g=null==t?void 0:t.payload.docs.find(v=>v.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&g&&JSON.stringify(g.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function ZP(n,e,t){return C1(n,t).pipe(Ws((r,i)=>function pB(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function gB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return RS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return RS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return RS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),ZC(),(0,Dt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function RS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function HP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class qP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=C1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Gs(void 0),Pv(),_r(([r,i])=>i.length>0||!r),(0,Dt.U)(([r,i])=>i),qr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ws((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=HP(e);return ZP(this.query,t,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(e={}){return PS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),qr.iC)}get(e){return(0,Yn.D)(this.query.get(e)).pipe(qr.iC)}add(e){return this.ref.add(e)}doc(e){return new zP(this.ref.doc(e),this.afs)}}class zP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=$P(r,t);return new qP(i,s,this.afs)}snapshotChanges(){return function fB(n,e){return jP(n,e).pipe(Gs(void 0),Pv(),(0,Dt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Yn.D)(this.ref.get(e)).pipe(qr.iC)}}class mB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?C1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),_r(t=>t.length>0),qr.iC):C1(this.query,this.afs.schedulers.outsideAngular).pipe(qr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ws((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=HP(e);return ZP(this.query,t,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(e={}){return PS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),qr.iC)}get(e){return(0,Yn.D)(this.query.get(e)).pipe(qr.iC)}}const yB=new l.OlP("angularfire2.enableFirestorePersistence"),_B=new l.OlP("angularfire2.firestore.persistenceSettings"),vB=new l.OlP("angularfire2.firestore.settings"),bB=new l.OlP("angularfire2.firestore.use-emulator");function $P(n,e=(t=>t)){return{query:e(n),ref:n}}let GP=(()=>{class n{constructor(t,r,i,s,c,d,f,g,v,w,S,k,R,B,G,te,ye){this.schedulers=f;const Le=(0,vs.on)(t,d,r),xe=v;w&&BP(Le,d,S,R,B,G,k,te),[this.firestore,this.persistenceEnabled$]=(0,vs.cc)(`${Le.name}.firestore`,"AngularFirestore",Le.name,()=>{const Ie=d.runOutsideAngular(()=>Le.firestore());if(s&&Ie.settings(s),xe&&Ie.useEmulator(...xe),i&&!yr(c)){const tt=()=>{try{return(0,Yn.D)(Ie.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(dt){return"undefined"!=typeof console&&console.warn(dt),Tt(!1)}};return[Ie,d.runOutsideAngular(tt)]}return[Ie,Tt(!1)]},[s,xe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=$P(i,r),d=this.schedulers.ngZone.run(()=>s);return new qP(d,c,this)}collectionGroup(t,r){const i=r||(c=>c),s=this.firestore.collectionGroup(t);return new mB(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new zP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vs.Dh),l.LFG(vs.xv,8),l.LFG(yB,8),l.LFG(vB,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(qr.HU),l.LFG(_B,8),l.LFG(bB,8),l.LFG(OS,8),l.LFG(RP,8),l.LFG(NP,8),l.LFG(LP,8),l.LFG(FP,8),l.LFG(UP,8),l.LFG(VP,8),l.LFG(w1,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zb=(()=>{class n{constructor(t){this.firestore=t,this.products=this.firestore.collection("producto").valueChanges(),this.productsRef=this.firestore.collection("producto")}consultarRealProducto(){throw new Error("Method not implemented.")}addProduct(t){const r=this.firestore.createId(),i=Object.assign({id:r},t);this.productsRef.doc(r).set(i)}updateProduct(t){this.firestore.collection("producto").doc(t.id).update(t)}getProducts(){return this.products}getProduct(t){return this.firestore.collection("producto").doc(t).get().subscribe(r=>console.log(r)),this.firestore.collection("producto").doc(t).valueChanges()}deleteProduct(t){this.firestore.collection("producto").doc(t.id).delete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(GP))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yl=(()=>{class n{constructor(){this.band=!0,this.font_size=20,this.comb=3,this.cont=!1,this.array=JSON.parse(localStorage.getItem("conf")||"[]"),console.log("array: "+JSON.stringify(this.array))}guardarConf(){this.obj={user:this.usuario,font_size:this.font_size,combinacion:this.comb,gris:this.cont},-1!=this.array.findIndex(t=>t.user===this.usuario)?this.array[this.usuario]=this.obj:-1!=this.usuario&&this.array.push(this.obj),localStorage.setItem("conf",JSON.stringify(this.array))}recuperarConf(){-1!=this.array.findIndex(t=>t.user===this.usuario)&&(this.font_size=this.array[this.usuario].font_size,this.comb=this.array[this.usuario].combinacion,this.cont=this.array[this.usuario].gris,this.establecerFont())}aumentarFont(){this.font_size++,console.log("tama\xf1o de fuente: "+this.font_size),this.guardarConf()}disminuirFont(){this.font_size--,this.guardarConf()}establecerFont(){1==this.comb?(this.font_h="Sherika",this.font_p="Prompt,sans-serif"):2==this.comb?(this.font_h="Lobster, cursive",this.font_p="Cinzel,serif"):3==this.comb&&(this.font_h="Anton,sans-serif",this.font_p="Noto Serif, serif"),this.guardarConf()}cambiarFont(){1==this.comb||2==this.comb?this.comb++:this.comb=1,this.establecerFont()}stop(t){t.stopPropagation()}escalaGris(){this.cont=0==this.cont,this.guardarConf()}changeBand(){this.band=1!=this.band}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var n_=V(2309);class WP{}class KP{}class nh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof nh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new nh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof nh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class wB{encodeKey(e){return YP(e)}encodeValue(e){return YP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const xB=/%(\d[a-f0-9])/gi,EB={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function YP(n){return encodeURIComponent(n).replace(xB,(e,t)=>{var r;return null!==(r=EB[t])&&void 0!==r?r:e})}function QP(n){return`${n}`}class rh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wB,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function CB(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,d]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],f=t.get(c)||[];f.push(d),t.set(c,f)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new rh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(QP(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(QP(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class TB{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function JP(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function XP(n){return"undefined"!=typeof Blob&&n instanceof Blob}function eR(n){return"undefined"!=typeof FormData&&n instanceof FormData}class $b{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function IB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new nh),this.context||(this.context=new TB),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+c}}else this.params=new rh,this.urlWithParams=t}serializeBody(){return null===this.body?null:JP(this.body)||XP(this.body)||eR(this.body)||function DB(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eR(this.body)?null:XP(this.body)?this.body.type||null:JP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,v=e.params||this.params;const w=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((S,k)=>S.set(k,e.setHeaders[k]),g)),e.setParams&&(v=Object.keys(e.setParams).reduce((S,k)=>S.set(k,e.setParams[k]),v)),new $b(r,i,c,{params:v,headers:g,context:w,reportProgress:f,responseType:s,withCredentials:d})}}var Bi=(()=>((Bi=Bi||{})[Bi.Sent=0]="Sent",Bi[Bi.UploadProgress=1]="UploadProgress",Bi[Bi.ResponseHeader=2]="ResponseHeader",Bi[Bi.DownloadProgress=3]="DownloadProgress",Bi[Bi.Response=4]="Response",Bi[Bi.User=5]="User",Bi))();class NS{constructor(e,t=200,r="OK"){this.headers=e.headers||new nh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class LS extends NS{constructor(e={}){super(e),this.type=Bi.ResponseHeader}clone(e={}){return new LS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class x1 extends NS{constructor(e={}){super(e),this.type=Bi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new x1({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class tR extends NS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function FS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Gb=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof $b)s=t;else{let f,g;f=i.headers instanceof nh?i.headers:new nh(i.headers),i.params&&(g=i.params instanceof rh?i.params:new rh({fromObject:i.params})),s=new $b(t,r,void 0!==i.body?i.body:null,{headers:f,context:i.context,params:g,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=Tt(s).pipe(El(f=>this.handler.handle(f)));if(t instanceof $b||"events"===i.observe)return c;const d=c.pipe(_r(f=>f instanceof x1));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,Dt.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,Dt.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,Dt.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,Dt.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new rh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,FS(i,r))}post(t,r,i={}){return this.request("POST",t,FS(i,r))}put(t,r,i={}){return this.request("PUT",t,FS(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(WP))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class nR{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const rR=new l.OlP("HTTP_INTERCEPTORS");let AB=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const SB=/^\)\]\}',?\n/;let iR=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new E.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((k,R)=>i.setRequestHeader(k,R.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const k=t.detectContentTypeHeader();null!==k&&i.setRequestHeader("Content-Type",k)}if(t.responseType){const k=t.responseType.toLowerCase();i.responseType="json"!==k?k:"text"}const s=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const k=i.statusText||"OK",R=new nh(i.getAllResponseHeaders()),B=function MB(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new LS({headers:R,status:i.status,statusText:k,url:B}),c},f=()=>{let{headers:k,status:R,statusText:B,url:G}=d(),te=null;204!==R&&(te=void 0===i.response?i.responseText:i.response),0===R&&(R=te?200:0);let ye=R>=200&&R<300;if("json"===t.responseType&&"string"==typeof te){const Le=te;te=te.replace(SB,"");try{te=""!==te?JSON.parse(te):null}catch(xe){te=Le,ye&&(ye=!1,te={error:xe,text:te})}}ye?(r.next(new x1({body:te,headers:k,status:R,statusText:B,url:G||void 0})),r.complete()):r.error(new tR({error:te,headers:k,status:R,statusText:B,url:G||void 0}))},g=k=>{const{url:R}=d(),B=new tR({error:k,status:i.status||0,statusText:i.statusText||"Unknown Error",url:R||void 0});r.error(B)};let v=!1;const w=k=>{v||(r.next(d()),v=!0);let R={type:Bi.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),"text"===t.responseType&&!!i.responseText&&(R.partialText=i.responseText),r.next(R)},S=k=>{let R={type:Bi.UploadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),r.next(R)};return i.addEventListener("load",f),i.addEventListener("error",g),i.addEventListener("timeout",g),i.addEventListener("abort",g),t.reportProgress&&(i.addEventListener("progress",w),null!==s&&i.upload&&i.upload.addEventListener("progress",S)),i.send(s),r.next({type:Bi.Sent}),()=>{i.removeEventListener("error",g),i.removeEventListener("abort",g),i.removeEventListener("load",f),i.removeEventListener("timeout",g),t.reportProgress&&(i.removeEventListener("progress",w),null!==s&&i.upload&&i.upload.removeEventListener("progress",S)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const US=new l.OlP("XSRF_COOKIE_NAME"),VS=new l.OlP("XSRF_HEADER_NAME");class sR{}let kB=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=co(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe),l.LFG(l.Lbi),l.LFG(US))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),BS=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sR),l.LFG(VS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),OB=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(rR,[]);this.chain=r.reduceRight((i,s)=>new nR(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(KP),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),PB=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:BS,useClass:AB}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:US,useValue:t.cookieName}:[],t.headerName?{provide:VS,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[BS,{provide:rR,useExisting:BS,multi:!0},{provide:sR,useClass:kB},{provide:US,useValue:"XSRF-TOKEN"},{provide:VS,useValue:"X-XSRF-TOKEN"}]}),n})(),oR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Gb,{provide:WP,useClass:OB},iR,{provide:KP,useExisting:iR}],imports:[[PB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),ua=(()=>{class n{constructor(t){this.http=t,this.ruta="https://electronica-halcon.herokuapp.com:",this.port=""}altas(t,r){return this.http.post(`${this.ruta}/${r}`,t,{responseType:"text"})}consultaTodo(t,r){return(new rh).set("coleccion",r),this.http.get(`${this.ruta}/${t}/${r}`)}consultaUno(t){return this.http.get(`${this.ruta}/${t}`)}eliminar(t){return this.http.get(`${this.ruta}/${t}`,{responseType:"text"})}actualizar(t,r){return this.http.post(`${this.ruta}/${t}`,r,{responseType:"text"})}qrangular(t){return this.http.get(`${this.ruta}/consultarqr/${t}`)}comprarProducto(t){return this.http.get(`${this.ruta}/comprarProducto/${t}`)}consultarProductoID(t){return this.http.get(`${this.ruta}/QRProductoID/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ol=(()=>{class n{constructor(t,r,i,s,c){this.afauth=t,this.router=r,this.accesibilidad=i,this.ngZone=s,this.peticiones=c,this.userData=null,this.correo="",this.password="",this.usuarios=[],this.getUsers(),this.afauth.onAuthStateChanged(d=>{d?(this.userData=null!==d.email?null==d?void 0:d.email:null==d?void 0:d.phoneNumber,this.ngZone.run(()=>{this.accesibilidad.band=!1;let f=this.usuarios.findIndex(g=>g.email==d.email);console.log("user: "+this.userData),-1!=f&&this.router.navigate("admin"==this.usuarios[f].privilegios?["/inicioAdmin"]:["/inicioUser"])})):(this.accesibilidad.band=!0,this.userData=null,this.router.navigate(["/sign-in"]))})}signIn(t,r){return this.afauth.signInWithEmailAndPassword(t,r)}signOut(){this.afauth.signOut().then(()=>{console.log("sign-out exitoso"),this.router.navigate(["home"])}),this.accesibilidad.band=!0,this.router.navigate(["home"])}signUp(t,r){return this.afauth.createUserWithEmailAndPassword(t,r).catch(i=>{yt().fire({allowOutsideClick:!0,title:"Error...",icon:"error",text:i,confirmButtonText:"Entendido"})})}getUserLogged(){return this.afauth.authState}GoogleAuth(){return this.AuthLogin(new n_.Q)}AuthLogin(t){return this.afauth.signInWithPopup(t)}isLogged(){}setUser(t){let i=(0,n_.n)().currentUser;if(null!==i){this.obj="phone"==t?{name:i.phoneNumber,email:i.phoneNumber,uid:i.uid,provider:i.providerId,photo:"assets/img/logo_halcon.png",privilegios:"user"}:{name:i.displayName,email:i.email,uid:i.uid,provider:i.providerId,photo:i.photoURL,privilegios:"user"},console.log(this.obj);let s=[];this.peticiones.consultaTodo("consultaTodo","usuario").subscribe(c=>{s=c.myarray,-1==s.findIndex(f=>f.email==this.obj.email)&&this.peticiones.altas(this.obj,"altaAlgo/usuario").subscribe(f=>{console.log(f)})})}}setSignUp(t,r){this.signUp(t,r).then(i=>{let c=(0,n_.n)().currentUser;console.log("uid: "+(null==c?void 0:c.uid));var d={name:t,email:t,uid:null==c?void 0:c.uid,provider:"firebase",photo:"assets/img/logo_halcon.png",privilegios:"user"};let f=[];this.peticiones.consultaTodo("consultaTodo","usuario").subscribe(g=>{f=g.myarray,-1==f.findIndex(w=>w.email==d.email)&&this.peticiones.altas(d,"altaAlgo/usuario").subscribe(w=>{console.log(w),yt().fire({allowOutsideClick:!0,title:"Registro Exitoso...",icon:"success",text:"Disfruta de todos los beneficios de ser usuario. Bienvenido!",confirmButtonText:"Entendido"}),this.router.navigate("admin"==d.privilegios?["inicioAdmin"]:["inicioUser"]),this.SendVerificationMail()})})})}SendVerificationMail(){return this.afauth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{})}sendCode(t,r){return this.afauth.signInWithPhoneNumber(t,r).then(i=>{window.confirmationResult=i,yt().fire({allowOutsideClick:!0,title:"Verificaci\xf3n por c\xf3digo...",icon:"success",text:"El c\xf3digo se envio exitosamente al n\xfamero telef\xf3nico",confirmButtonText:"Entendido"})}).catch(i=>{yt().fire({allowOutsideClick:!0,title:"Verificaci\xf3n por c\xf3digo...",icon:"error",text:"El c\xf3digo no se pudo enviar al n\xfamero telefonico. Intenta de nuevo",confirmButtonText:"Entendido"})})}verifyCode(t){return window.confirmationResult.confirm(t).then(r=>{let i=n_.P.credential(window.confirmationResult.verificationId,t);this.afauth.signInWithCredential(i),this.setUser("phone"),this.router.navigate(["inicioUser"])})}getUsers(){this.peticiones.consultaTodo("consultaTodo","usuario").subscribe(t=>{this.usuarios=t.myarray})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(OS),l.LFG(Gr),l.LFG(Yl),l.LFG(l.R0b),l.LFG(ua))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RB=function(n){return{toggled:n}},NB=function(){return["/inicioAdmin"]},LB=function(){return["/altas"]},FB=function(){return["/graficaExistenciaProd"]},UB=function(){return["/consultaCompras"]},VB=function(){return["/consultaVentas"]},BB=function(){return["/consultaUsuarios"]},jB=function(){return["/actualizarProducto"]};let ih=(()=>{class n{constructor(t,r){this.accesibilidad=t,this.authService=r,this.band=!1,this.user="hola",yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.authService.getUserLogged().subscribe(i=>{this.user=null==i?void 0:i.displayName,this.imagenLogIn=null==i?void 0:i.photoURL,yt().close()},i=>{yt().close(),yt().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal...Revisa tu conexion a internet ",confirmButtonText:"Entendido"})})}ngOnInit(){}click(){this.band=0==this.band}logOut(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yl),l.Y36(ol))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar-admin"]],inputs:{band:"band"},decls:57,vars:17,consts:[["id","accordionSidebar",1,"navbar-nav","bg-gradient-primary","sidebar","sidebar-dark","accordion",3,"ngClass"],[1,"sidebar-brand","d-flex","align-items-center","justify-content-center"],[1,"sidebar-brand-icon","rotate-n-15"],[1,"fas","fa-laugh-wink"],[1,"sidebar-brand-text","mx-3"],[1,"sidebar-divider","my-0"],["routerLinkActive","active-link",1,"nav-item","active"],[1,"nav-link",3,"routerLink"],[1,"icon-home"],[1,"icon-upload-cloud"],[1,"sidebar-divider"],[1,"sidebar-heading"],[1,"nav-item"],["data-toggle","collapse","data-target","#collapseGraficas","aria-expanded","true","aria-controls","collapseGraficas",1,"nav-link","collapsed"],[1,"fas","fa-fw","fa-chart-area"],["id","collapseGraficas","aria-labelledby","headingTwo","data-parent","#accordionSidebar",1,"collapse"],[1,"bg-white","py-2","collapse-inner","rounded"],[1,"collapse-header"],[1,"collapse-item",3,"routerLink"],["data-toggle","collapse","data-target","#collapseTwo","aria-expanded","true","aria-controls","collapseTwo",1,"nav-link","collapsed"],[1,"icon-search"],["id","collapseTwo","aria-labelledby","headingTwo","data-parent","#accordionSidebar",1,"collapse"],[1,"text-center","d-none","d-md-inline"],["id","sidebarToggle",1,"rounded-circle","border-0",3,"click"],[1,"sidebar-card","d-none","d-lg-flex"],["src","assets/img/undraw_rocket.svg","alt","...",1,"sidebar-card-illustration","mb-2"],[1,"text-center","mb-2"]],template:function(t,r){1&t&&(l.TgZ(0,"ul",0)(1,"a",1)(2,"div",2),l._UZ(3,"i",3),l.qZA(),l.TgZ(4,"div",4),l._uU(5," Administrador "),l._UZ(6,"sup"),l.qZA()(),l._UZ(7,"hr",5),l.TgZ(8,"li",6)(9,"a",7),l._UZ(10,"i",8),l.TgZ(11,"span"),l._uU(12,"Inicio"),l.qZA()()(),l.TgZ(13,"li",6)(14,"a",7),l._UZ(15,"i",9),l.TgZ(16,"span"),l._uU(17,"Altas"),l.qZA()()(),l._UZ(18,"hr",10),l.TgZ(19,"div",11),l._uU(20," Consultas "),l.qZA(),l.TgZ(21,"li",12)(22,"a",13),l._UZ(23,"i",14),l.TgZ(24,"span"),l._uU(25,"Graficar"),l.qZA()(),l.TgZ(26,"div",15)(27,"div",16)(28,"h6",17),l._uU(29,"Graficar:"),l.qZA(),l.TgZ(30,"a",18),l._uU(31,"Existencias de Productos"),l.qZA()()()(),l.TgZ(32,"li",12)(33,"a",19),l._UZ(34,"i",20),l.TgZ(35,"span"),l._uU(36,"Consultas"),l.qZA()(),l.TgZ(37,"div",21)(38,"div",16)(39,"h6",17),l._uU(40,"Consultas:"),l.qZA(),l.TgZ(41,"a",18),l._uU(42,"Compras"),l.qZA(),l.TgZ(43,"a",18),l._uU(44,"Ventas"),l.qZA(),l.TgZ(45,"a",18),l._uU(46,"Usuarios"),l.qZA(),l.TgZ(47,"a",18),l._uU(48,"Productos"),l.qZA()()()(),l._UZ(49,"hr",10),l.TgZ(50,"div",22)(51,"button",23),l.NdJ("click",function(){return r.click()}),l.qZA()(),l.TgZ(52,"div",24),l._UZ(53,"img",25),l.TgZ(54,"p",26),l._UZ(55,"strong"),l._uU(56," No olvides reportar inconsistencias en el sistema para seguir mejorando nuestra app..."),l.qZA()()()),2&t&&(l.Q6J("ngClass",l.VKq(8,RB,!r.band)),l.xp6(9),l.Q6J("routerLink",l.DdM(10,NB)),l.xp6(5),l.Q6J("routerLink",l.DdM(11,LB)),l.xp6(16),l.Q6J("routerLink",l.DdM(12,FB)),l.xp6(11),l.Q6J("routerLink",l.DdM(13,UB)),l.xp6(2),l.Q6J("routerLink",l.DdM(14,VB)),l.xp6(2),l.Q6J("routerLink",l.DdM(15,BB)),l.xp6(2),l.Q6J("routerLink",l.DdM(16,jB)))},directives:[Ts,rp,Cc],styles:["ul[_ngcontent-%COMP%]{height:100%}.active-link[_ngcontent-%COMP%]{color:#000!important}"]}),n})(),sh=(()=>{class n{constructor(t){this.auth=t,this.band=!1,this.img="assets/img/undraw_profile.svg",this.emitBand=new l.vpe}ngOnInit(){this.getEmail()}logOut(){this.auth.signOut()}click(){this.band=0==this.band,this.emitBand.emit(this.band)}getEmail(){this.auth.getUserLogged().subscribe(t=>{this.user=null==t?void 0:t.email,this.img=null==t?void 0:t.photoURL,null!=this.img||(this.img="assets/img/undraw_profile.svg")})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ol))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-topbar"]],outputs:{emitBand:"emitBand"},decls:23,vars:2,consts:[[1,"navbar","navbar-expand","navbar-light","bg-white","topbar","mb-4","static-top","shadow"],[1,"navbar-brand"],["id","logo","src","assets/img/logotipo.png","alt","","width","50px"],[1,"topbar-divider","d-none","d-sm-block"],[1,"name-store"],[1,"lema-top"],["id","sidebarToggleTop",1,"btn","btn-link","d-md-none","rounded-circle","mr-3",3,"click"],[1,"fa","fa-bars"],[1,"navbar-nav","ml-auto"],[1,"nav-item","dropdown","no-arrow"],["href","#","id","userDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"mr-2","d-none","d-lg-inline","text-gray-600","small","users"],[1,"img-profile","rounded-circle",3,"src"],["aria-labelledby","userDropdown",1,"dropdown-menu","dropdown-menu-right","shadow","animated--grow-in"],[1,"dropdown-divider"],["data-toggle","modal","data-target","#logoutModal",1,"dropdown-item",3,"click"],[1,"fas","fa-sign-out-alt","fa-sm","fa-fw","mr-2","text-gray-400"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0)(1,"a",1),l._UZ(2,"img",2),l.qZA(),l._UZ(3,"div",3),l.TgZ(4,"h3",4),l._uU(5,"Electronica Halcon"),l.qZA(),l._UZ(6,"div",3),l.TgZ(7,"h3",5),l._uU(8,"Innovaci\xf3n de hoy para el \xe9xito del ma\xf1ana."),l.qZA(),l.TgZ(9,"button",6),l.NdJ("click",function(){return r.click()}),l._UZ(10,"i",7),l.qZA(),l.TgZ(11,"ul",8),l._UZ(12,"div",3),l.TgZ(13,"li",9)(14,"a",10)(15,"span",11),l._uU(16),l.qZA(),l._UZ(17,"img",12),l.qZA(),l.TgZ(18,"div",13),l._UZ(19,"div",14),l.TgZ(20,"a",15),l.NdJ("click",function(){return r.logOut()}),l._UZ(21,"i",16),l._uU(22," Logout "),l.qZA()()()()()),2&t&&(l.xp6(16),l.Oqu(r.user),l.xp6(1),l.s9C("src",r.img,l.LSH))},styles:[""]}),n})(),jS=(()=>{class n{transform(t,r=!0){let i=(t=t.toLowerCase()).split(" ");if(r)for(let s in i)i[s]=i[s][0].toUpperCase()+i[s].substr(1);else i[0]=i[0][0].toUpperCase()+i[0].substr(1);return i.join(" ")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"capitalizado",type:n,pure:!0}),n})();function ZB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",26),l._UZ(1,"img",27),l.TgZ(2,"div",28)(3,"h2",29),l._uU(4),l.ALo(5,"capitalizado"),l.qZA(),l.TgZ(6,"h5"),l._uU(7),l.qZA(),l.TgZ(8,"h5"),l._uU(9),l.ALo(10,"number"),l.qZA(),l.TgZ(11,"p",30),l._uU(12),l.qZA()(),l._UZ(13,"hr",31),l.TgZ(14,"div",32)(15,"button",33),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw().update(s.id)}),l._uU(16,"Editar"),l.qZA(),l.TgZ(17,"button",34),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw().eliminar(s)}),l._uU(18,"Eliminar"),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(1),l.s9C("src",t.imagen,l.LSH),l.xp6(3),l.Oqu(l.xi3(5,5,t.nombre,!0)),l.xp6(3),l.hij("Existencia: ",t.cantidad,""),l.xp6(2),l.hij("Precio: $",l.xi3(10,8,t.precio,".0-3"),""),l.xp6(3),l.hij(" ",t.descripcion,"")}}let HB=(()=>{class n{constructor(t,r){this.productoService=t,this.router=r,this.band=!1,this.myForm=new la({nombre:new In("",[_n.required,_n.minLength(2)]),descripcion:new In(""),precio:new In("",[_n.required]),cantidad:new In("",[_n.required]),imagen:new In("",[_n.required])})}ngOnInit(){yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}).then(t=>{yt().showLoading()}),this.productoService.getProducts().subscribe(t=>{this.products=t,yt().close()},t=>{yt().close(),yt().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal...Revisa tu conexion a internet ",confirmButtonText:"Entendido"})})}update(t){console.log(t),this.router.navigate(["editarProducto",t])}click(){this.band=0==this.band}eliminar(t){this.productoService.deleteProduct(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zb),l.Y36(Gr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-actualizar-producto"]],decls:34,vars:2,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"emitBand"],[1,"container-fluid"],[2,"text-align","center"],[1,"card-columns"],["class","card",4,"ngFor","ngForOf"],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text","text-justify"],[1,"sidebar-divider","my-0"],[1,"foot"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-admin",2),l.TgZ(3,"div",3)(4,"div",4)(5,"app-topbar",5),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(6,"div",6)(7,"h2",7),l._uU(8,"Inventario Disponible"),l.qZA(),l.TgZ(9,"div",8),l.YNc(10,ZB,19,11,"div",9),l.qZA()()(),l.TgZ(11,"footer",10)(12,"div",11)(13,"div",12)(14,"span"),l._uU(15,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()()()()(),l.TgZ(16,"a",13),l._UZ(17,"i",14),l.qZA(),l.TgZ(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18)(22,"h5",19),l._uU(23,"Ready to Leave?"),l.qZA(),l.TgZ(24,"button",20)(25,"span",21),l._uU(26,"\xd7"),l.qZA()()(),l.TgZ(27,"div",22),l._uU(28,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(29,"div",23)(30,"button",24),l._uU(31,"Cancel"),l.qZA(),l.TgZ(32,"a",25),l._uU(33,"Logout"),l.qZA()()()()()()),2&t&&(l.xp6(2),l.Q6J("band",!r.band),l.xp6(8),l.Q6J("ngForOf",r.products))},directives:[ih,sh,Dn],pipes:[jS,ai],styles:["table[_ngcontent-%COMP%]{border-collapse:collapse;margin:auto;font-size:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;color:#000;text-align:center;font-style:italic}.card[_ngcontent-%COMP%]{background:#eee;border:4px double #6767f7}img[_ngcontent-%COMP%]{height:250px}.card-columns[_ngcontent-%COMP%]{padding:2em}.foot[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1em}button[_ngcontent-%COMP%]{margin-left:.5em;width:150px}@media only screen and (max-width: 830px){.foot[_ngcontent-%COMP%]{flex-wrap:wrap}button[_ngcontent-%COMP%]{margin-top:.5em;width:150px}}"]}),n})();const aR="firebasestorage.googleapis.com",lR="storageBucket";class hi extends tn.ZR{constructor(e,t){super(ZS(e),`Firebase Storage: ${t} (${ZS(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hi.prototype)}_codeEquals(e){return ZS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ZS(n){return"storage/"+n}function HS(){return new hi("unknown","An unknown error occurred, please check the error payload for server response.")}function cR(){return new hi("canceled","User canceled the upload/download.")}function uR(){return new hi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function r_(n){return new hi("invalid-argument",n)}function dR(){return new hi("app-deleted","The Firebase app was deleted.")}function hR(n){return new hi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wb(n,e){return new hi("invalid-format","String does not match format '"+n+"': "+e)}function Kb(n){throw new hi("internal-error","Internal error: "+n)}class so{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=so.makeFromUrl(e,t)}catch(i){return new so(e,"")}if(""===r.path)return r;throw function XB(n){return new hi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+i+"(/(.*))?$","i");function g(xe){xe.path_=decodeURIComponent(xe.path)}const w=t.replace(/[.]/g,"\\."),Le=[{regex:d,indices:{bucket:1,path:3},postModify:function s(xe){"/"===xe.path.charAt(xe.path.length-1)&&(xe.path_=xe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${w}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:g},{regex:new RegExp(`^https?://${t===aR?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:g}];for(let xe=0;xe<Le.length;xe++){const Ie=Le[xe],tt=Ie.regex.exec(e);if(tt){let Mt=tt[Ie.indices.path];Mt||(Mt=""),r=new so(tt[Ie.indices.bucket],Mt),Ie.postModify(r);break}}if(null==r)throw function JB(n){return new hi("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class r3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function E1(n){return"string"==typeof n||n instanceof String}function fR(n){return qS()&&n instanceof Blob}function qS(){return"undefined"!=typeof Blob}function zS(n,e,t,r){if(r<e)throw r_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw r_(`Invalid value for '${n}'. Expected ${t} or less.`)}function oh(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function pR(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Df=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Df||(Df={})),Df))();class c3{constructor(e,t,r,i,s,c,d,f,g,v,w){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,k)=>{this.resolve_=S,this.reject_=k,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,c=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function o3(n){return void 0!==n}(f)?s():s(f)}catch(f){c(f)}else if(null!==d){const f=HS();f.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,f):f)}else c(i.canceled?this.appDelete_?dR():cR():function QB(){return new hi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new T1(!1,null,!0)):this.backoffId_=function i3(n,e,t){let r=1,i=null,s=null,c=!1,d=0;function f(){return 2===d}let g=!1;function v(...G){g||(g=!0,e.apply(null,G))}function w(G){i=setTimeout(()=>{i=null,n(k,f())},G)}function S(){s&&clearTimeout(s)}function k(G,...te){if(g)return void S();if(G)return S(),void v.call(null,G,...te);if(f()||c)return S(),void v.call(null,G,...te);let Le;r<64&&(r*=2),1===d?(d=2,Le=0):Le=1e3*(r+Math.random()),w(Le)}let R=!1;function B(G){R||(R=!0,S(),!g&&(null!==i?(G||(d=2),clearTimeout(i),w(0)):G||(d=1)))}return w(0),s=setTimeout(()=>{c=!0,B(!0)},t),B}((r,i)=>{if(i)return void r(!1,new T1(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Df.NO_ERROR,f=s.getStatus();if(!d||this.isRetryStatusCode_(f)){const v=s.getErrorCode()===Df.ABORT;return void r(!1,new T1(!1,null,v))}const g=-1!==this.successCodes_.indexOf(f);r(!0,new T1(g,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function s3(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||s}}class T1{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function m3(...n){const e=function g3(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(qS())return new Blob(n);throw new hi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const al={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $S{constructor(e,t){this.data=e,this.contentType=t||null}}function GS(n,e){switch(n){case al.RAW:return new $S(gR(e));case al.BASE64:case al.BASE64URL:return new $S(mR(n,e));case al.DATA_URL:return new $S(function b3(n){const e=new yR(n);return e.base64?mR(al.BASE64,e.rest):function v3(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Wb(al.DATA_URL,"Malformed data URL.")}return gR(e)}(e.rest)}(e),function w3(n){return new yR(n).contentType}(e))}throw HS()}function gR(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function mR(n,e){switch(n){case al.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Wb(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case al.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Wb(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function _3(n){return atob(n)}(e)}catch(i){throw Wb(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class yR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Wb(al.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function C3(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Gu{constructor(e,t){let r=0,i="";fR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(fR(this.data_)){const i=function y3(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Gu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Gu(r,!0)}}static getBlob(...e){if(qS()){const t=e.map(r=>r instanceof Gu?r.data_:r);return new Gu(m3.apply(null,t))}{const t=e.map(c=>E1(c)?GS(al.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)i[s++]=c[d]}),new Gu(i,!0)}}uploadData(){return this.data_}}function WS(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function l3(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function _R(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function T3(n,e){return e}class No{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||T3}}let I1=null;function Yb(){if(I1)return I1;const n=[];n.push(new No("bucket")),n.push(new No("generation")),n.push(new No("metageneration")),n.push(new No("name","fullPath",!0));const t=new No("name");t.xform=function e(s,c){return function I3(n){return!E1(n)||n.length<2?n:_R(n)}(c)},n.push(t);const i=new No("size");return i.xform=function r(s,c){return void 0!==c?Number(c):c},n.push(i),n.push(new No("timeCreated")),n.push(new No("updated")),n.push(new No("md5Hash",null,!0)),n.push(new No("cacheControl",null,!0)),n.push(new No("contentDisposition",null,!0)),n.push(new No("contentEncoding",null,!0)),n.push(new No("contentLanguage",null,!0)),n.push(new No("contentType",null,!0)),n.push(new No("metadata","customMetadata",!0)),I1=n,I1}function vR(n,e,t){const r=WS(e);return null===r?null:function A3(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const c=t[s];r[c.local]=c.xform(r,e[c.server])}return function D3(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new so(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function KS(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const bR="prefixes";class Wu{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ku(n){if(!n)throw HS()}function D1(n,e){return function t(r,i){const s=vR(n,i,e);return Ku(null!==s),s}}function i_(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function KB(){return new hi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function WB(){return new hi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function GB(n){return new hi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function YB(n){return new hi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function Qb(n){const e=i_(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function $B(n){return new hi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function CR(n,e,t){const i=oh(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Wu(i,"GET",D1(n,t),c);return d.errorHandler=Qb(e),d}function R3(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const d=oh(e.bucketOnlyServerUrl(),n.host,n._protocol),g=n.maxOperationRetryTime,v=new Wu(d,"GET",function O3(n,e){return function t(r,i){const s=function k3(n,e,t){const r=WS(t);return null===r?null:function M3(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[bR])for(const i of t[bR]){const s=i.replace(/\/$/,""),c=n._makeStorageReference(new so(e,s));r.prefixes.push(c)}if(t.items)for(const i of t.items){const s=n._makeStorageReference(new so(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return Ku(null!==s),s}}(n,e.bucket),g);return v.urlParams=s,v.errorHandler=i_(e),v}function ER(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function U3(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class A1{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function YS(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){Ku(!1)}return Ku(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Z3={STATE_CHANGED:"state_changed"},Lo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function QS(n){switch(n){case"running":case"pausing":case"canceling":return Lo.RUNNING;case"paused":return Lo.PAUSED;case"success":return Lo.SUCCESS;case"canceled":return Lo.CANCELED;default:return Lo.ERROR}}class H3{constructor(e,t,r){if(function a3(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function s_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class z3 extends class q3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Df.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Df.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Df.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Kb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Kb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function $c(){return new z3}class AR{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Yb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function V3(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c=ER(e,r,i),d={name:c.fullPath},f=oh(s,n.host,n._protocol),v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},w=KS(c,t),R=new Wu(f,"POST",function k(B){let G;YS(B);try{G=B.getResponseHeader("X-Goog-Upload-URL")}catch(te){Ku(!1)}return Ku(E1(G)),G},n.maxUploadRetryTime);return R.urlParams=d,R.headers=v,R.body=w,R.errorHandler=i_(e),R}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,$c,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function B3(n,e,t,r){const f=new Wu(t,"POST",function s(g){const v=YS(g,["active","final"]);let w=null;try{w=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch(k){Ku(!1)}w||Ku(!1);const S=Number(w);return Ku(!isNaN(S)),new A1(S,r.size(),"final"===v)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=i_(e),f}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,$c,t,r);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new A1(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let c;try{c=function j3(n,e,t,r,i,s,c,d){const f=new A1(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw function t3(){return new hi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const g=f.total-f.current;let v=g;i>0&&(v=Math.min(v,i));const w=f.current,R={"X-Goog-Upload-Command":v===g?"upload, finalize":"upload","X-Goog-Upload-Offset":`${f.current}`},B=r.slice(w,w+v);if(null===B)throw uR();const Le=new Wu(t,"POST",function G(xe,Ie){const tt=YS(xe,["active","final"]),dt=f.current+v,Mt=r.size();let jt;return jt="final"===tt?D1(e,s)(xe,Ie):null,new A1(dt,Mt,"final"===tt,jt)},e.maxUploadRetryTime);return Le.headers=R,Le.body=B.uploadData(),Le.progressCallback=d||null,Le.errorHandler=i_(n),Le}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(c,$c,i,s);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=CR(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,$c,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function TR(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let Le="";for(let xe=0;xe<2;xe++)Le+=Math.random().toString().slice(2);return Le}();c["Content-Type"]="multipart/related; boundary="+f;const g=ER(e,r,i),v=KS(g,t),k=Gu.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+v+"\r\n--"+f+"\r\nContent-Type: "+g.contentType+"\r\n\r\n",r,"\r\n--"+f+"--");if(null===k)throw uR();const R={name:g.fullPath},B=oh(s,n.host,n._protocol),te=n.maxUploadRetryTime,ye=new Wu(B,"POST",D1(n,t),te);return ye.urlParams=R,ye.headers=c,ye.body=k.uploadData(),ye.errorHandler=i_(e),ye}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,$c,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=cR(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=QS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new H3(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(QS(this._state)){case Lo.SUCCESS:s_(this._resolve.bind(null,this.snapshot))();break;case Lo.CANCELED:case Lo.ERROR:s_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(QS(this._state)){case Lo.RUNNING:case Lo.PAUSED:e.next&&s_(e.next.bind(e,this.snapshot))();break;case Lo.SUCCESS:e.complete&&s_(e.complete.bind(e))();break;default:e.error&&s_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Dg{constructor(e,t){this._service=e,this._location=t instanceof so?t:so.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Dg(e,t)}get root(){const e=new so(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _R(this._location.path)}get storage(){return this._service}get parent(){const e=function x3(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new so(this._location.bucket,e);return new Dg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw hR(e)}}function MR(n,e,t){return JS.apply(this,arguments)}function JS(){return JS=(0,Be.Z)(function*(n,e,t){const i=yield kR(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield MR(n,e,i.nextPageToken))}),JS.apply(this,arguments)}function kR(n,e){null!=e&&"number"==typeof e.maxResults&&zS("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=R3(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,$c)}function rj(n){n._throwIfRoot("getDownloadURL");const e=function N3(n,e,t){const i=oh(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Wu(i,"GET",function P3(n,e){return function t(r,i){const s=vR(n,i,e);return Ku(null!==s),function S3(n,e,t,r){const i=WS(e);if(null===i||!E1(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(g=>{const w=n.fullPath;return oh("/b/"+c(n.bucket)+"/o/"+c(w),t,r)+pR({alt:"media",token:g})})[0]}(s,i,n.host,n._protocol)}}(n,t),c);return d.errorHandler=Qb(e),d}(n.storage,n._location,Yb());return n.storage.makeRequestWithTokens(e,$c).then(t=>{if(null===t)throw function n3(){return new hi("no-download-url","The given file does not have any download URLs.")}();return t})}function OR(n,e){const t=function E3(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new so(n._location.bucket,t);return new Dg(n.storage,r)}function PR(n,e){if(n instanceof XS){const t=n;if(null==t._bucket)throw function e3(){return new hi("no-default-bucket","No default bucket found. Did you set the '"+lR+"' property when initializing the app?")}();const r=new Dg(t,t._bucket);return null!=e?PR(r,e):r}return void 0!==e?OR(n,e):n}function aj(n,e){if(e&&function sj(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof XS)return function oj(n,e){return new Dg(n,e)}(n,e);throw r_("To use ref(service, url), the first argument must be a Storage instance.")}return PR(n,e)}function RR(n,e){const t=null==e?void 0:e[lR];return null==t?null:so.makeFromBucketSpec(t,n)}class XS{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=aR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?so.makeFromBucketSpec(i,this._host):RR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?so.makeFromBucketSpec(this._url,e):RR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Be.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Be.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dg(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new r3(dR());{const s=function p3(n,e,t,r,i,s){const c=pR(n.urlParams),d=n.url+c,f=Object.assign({},n.headers);return function h3(n,e){e&&(n["X-Firebase-GMPID"]=e)}(f,e),function u3(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(f,t),function d3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(f,s),function f3(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(f,r),new c3(d,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return(0,Be.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const NR="@firebase/storage",FR="storage";function S1(n){return function ej(n){const e={prefixes:[],items:[]};return MR(n,e).then(()=>e)}(n=(0,tn.m9)(n))}function M1(n){return rj(n=(0,tn.m9)(n))}function Jb(n,e){return aj(n=(0,tn.m9)(n),e)}function eM(n=(0,Eo.getApp)(),e){return n=(0,tn.m9)(n),(0,Eo._getProvider)(n,FR).getImmediate({identifier:e})}function mj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new XS(t,r,i,e,Eo.SDK_VERSION)}!function yj(){(0,Eo._registerComponent)(new Hh.wA(FR,mj,"PUBLIC").setMultipleInstances(!0)),(0,Eo.registerVersion)(NR,"0.9.7",""),(0,Eo.registerVersion)(NR,"0.9.7","esm2017")}();class k1{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class UR{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new k1(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new k1(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?c=>t(new k1(c,this,this._ref)):{next:t.next?c=>t.next(new k1(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class VR{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ah(e,this._service))}get items(){return this._delegate.items.map(e=>new ah(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ah{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function pj(n,e){return OR(n,e)}(this._delegate,e);return new ah(t,this.storage)}get root(){return new ah(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ah(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new UR(function cj(n,e,t){return function J3(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new AR(n,new Gu(e),t)}(n=(0,tn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=al.RAW,r){this._throwIfRoot("putString");const i=GS(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new UR(new AR(this._delegate,new Gu(i.data,!0),s),this)}listAll(){return S1(this._delegate).then(e=>new VR(e,this.storage))}list(e){return function hj(n,e){return kR(n=(0,tn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new VR(t,this.storage))}getMetadata(){return function uj(n){return function tj(n){n._throwIfRoot("getMetadata");const e=CR(n.storage,n._location,Yb());return n.storage.makeRequestWithTokens(e,$c)}(n=(0,tn.m9)(n))}(this._delegate)}updateMetadata(e){return function dj(n,e){return function nj(n,e){n._throwIfRoot("updateMetadata");const t=function L3(n,e,t,r){const s=oh(e.fullServerUrl(),n.host,n._protocol),d=KS(t,r),g=n.maxOperationRetryTime,v=new Wu(s,"PATCH",D1(n,r),g);return v.headers={"Content-Type":"application/json; charset=utf-8"},v.body=d,v.errorHandler=Qb(e),v}(n.storage,n._location,e,Yb());return n.storage.makeRequestWithTokens(t,$c)}(n=(0,tn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return M1(this._delegate)}delete(){return this._throwIfRoot("delete"),function fj(n){return function ij(n){n._throwIfRoot("deleteObject");const e=function F3(n,e){const r=oh(e.fullServerUrl(),n.host,n._protocol),d=new Wu(r,"DELETE",function c(f,g){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=Qb(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,$c)}(n=(0,tn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw hR(e)}}class BR{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(jR(e))throw r_("ref() expected a child path but got a URL, use refFromURL instead.");return new ah(Jb(this._delegate,e),this)}refFromURL(e){if(!jR(e))throw r_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{so.makeFromUrl(e,this._delegate.host)}catch(t){throw r_("refFromUrl() expected a valid full URL but got an invalid one.")}return new ah(Jb(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function gj(n,e,t,r={}){!function lj(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,tn.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function jR(n){return/^[A-Za-z]+:\/\//.test(n)}function Cj(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new BR(t,r)}function ZR(n){const e=function Ej(n){return new E.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(function _j(n,e=_p.z){return(0,Zr.e)((t,r)=>{let i=null,s=null,c=null;const d=()=>{if(i){i.unsubscribe(),i=null;const g=s;s=null,r.next(g)}};function f(){const g=c+n,v=e.now();if(v<g)return i=this.schedule(void 0,g-v),void r.add(i);d()}t.subscribe((0,nr.x)(r,g=>{s=g,c=e.now(),i||(i=e.schedule(f,n),r.add(i))},()=>{d(),r.complete()},void 0,()=>{s=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Dt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function O1(n){return{getDownloadURL:()=>Tt(void 0).pipe(qr.fc,cr(()=>n.getDownloadURL()),qr.iC),getMetadata:()=>Tt(void 0).pipe(qr.fc,cr(()=>n.getMetadata()),qr.iC),delete:()=>(0,Yn.D)(n.delete()),child:e=>O1(n.child(e)),updateMetadata:e=>(0,Yn.D)(n.updateMetadata(e)),put:(e,t)=>ZR(n.put(e,t)),putString:(e,t,r)=>ZR(n.putString(e,t,r)),list:e=>(0,Yn.D)(n.list(e)),listAll:()=>(0,Yn.D)(n.listAll())}}!function xj(n){const e={TaskState:Lo,TaskEvent:Z3,StringFormat:al,Storage:BR,Reference:ah};n.INTERNAL.registerComponent(new Hh.wA("storage-compat",Cj,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.15")}(AI.Z);const Tj=new l.OlP("angularfire2.storageBucket"),Ij=new l.OlP("angularfire2.storage.maxUploadRetryTime"),Dj=new l.OlP("angularfire2.storage.maxOperationRetryTime"),Aj=new l.OlP("angularfire2.storage.use-emulator");let P1=(()=>{class n{constructor(t,r,i,s,c,d,f,g,v,w){const S=(0,vs.on)(t,c,r);this.storage=(0,vs.cc)(`${S.name}.storage.${i}`,"AngularFireStorage",S.name,()=>{const k=c.runOutsideAngular(()=>S.storage(i||void 0)),R=v;return R&&k.useEmulator(...R),f&&k.setMaxUploadRetryTime(f),g&&k.setMaxOperationRetryTime(g),k},[f,g])}ref(t){return O1(this.storage.ref(t))}refFromURL(t){return O1(this.storage.refFromURL(t))}upload(t,r,i){return O1(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vs.Dh),l.LFG(vs.xv,8),l.LFG(Tj,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(qr.HU),l.LFG(Ij,8),l.LFG(Dj,8),l.LFG(Aj,8),l.LFG(w1,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Sj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Mj=(()=>{class n{constructor(){uB.Z.registerVersion("angularfire",qr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[P1],imports:[Sj]}),n})();const kj=["foto"];function Oj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",47)(1,"img",48),l.NdJ("click",function(i){return l.CHM(t),l.oxw().cargaImagen(i)}),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(1),l.s9C("src",t,l.LSH)}}const Pj=function(n){return{"width.%":n}};function Rj(n,e){if(1&n&&(l.TgZ(0,"div",23)(1,"div",49)(2,"span"),l._uU(3,"Subiendo datos"),l.qZA()(),l.TgZ(4,"div",49)(5,"div",50),l._UZ(6,"div",51),l.ALo(7,"async"),l.qZA()(),l._UZ(8,"div",49),l.qZA()),2&n){const t=l.oxw();l.xp6(6),l.Q6J("ngStyle",l.VKq(3,Pj,l.lcZ(7,1,t.porcentaje)))}}let Nj=(()=>{class n{constructor(t,r,i,s){this.producto=t,this.storage=r,this.auth=i,this.peticionesService=s,this.band=!1,this.bandera=!1,this.imageUrl="../../../assets/img/upload.png",this.myImages=[],this.band_select=!1,this.myForm=new la({nombre:new In("",[_n.required,_n.minLength(2)]),descripcion:new In("",[_n.required]),precio:new In("",[_n.required]),cantidad:new In("",[_n.required]),fecha:new In("",[_n.required]),imagen:new In("",[_n.required])})}ngOnInit(){var t=this;const i=Jb(eM(),"productos");this.storage.ref("productos"),S1(i).then(function(){var c=(0,Be.Z)(function*(d){for(let f of d.items){const g=yield M1(f);t.myImages.push(g)}});return function(d){return c.apply(this,arguments)}}()).catch(c=>console.log(c))}alta(){this.band=!0;const t=Math.random().toString(36).substring(2);if(this.band_select)this.producto.addProduct(this.myForm.value),this.peticionesService.altas({id:t,descripcion:this.myForm.value.descripcion,nombre:this.myForm.value.nombre,precio_unitario:this.myForm.value.precio,cantidad:this.myForm.value.cantidad,imagen:this.myForm.value.imagen,fecha:this.myForm.value.fecha,total:this.myForm.value.cantidad*this.myForm.value.precio},"altaCompra/compras").subscribe(i=>{console.log("compra alta "+i)}),this.myForm.reset();else{const r=`productos/${t}_${this.file.name}`,i=this.storage.ref(r),s=this.storage.upload(r,this.file);this.porcentaje=s.percentageChanges(),s.snapshotChanges().pipe(cu(()=>{i.getDownloadURL().subscribe(c=>{this.dirImagen=c,console.log(this.dirImagen),this.myForm.value.imagen=this.dirImagen,this.band=!1,this.producto.addProduct(this.myForm.value),this.imageUrl="../../../assets/img/upload.png",this.peticionesService.altas({id:t,descripcion:this.myForm.value.descripcion,nombre:this.myForm.value.nombre,precio_unitario:.9*this.myForm.value.precio,cantidad:this.myForm.value.cantidad,imagen:this.dirImagen,fecha:this.myForm.value.fecha,total:this.myForm.value.cantidad*this.myForm.value.precio},"altaCompra/compras").subscribe(f=>{console.log("compra alta "+f)}),this.myForm.reset()})})).subscribe(()=>{})}}mostrar(t){this.file=t.target.files[0];const r=new FileReader;r.onload=()=>this.imageUrl=r.result,this.band_select=!1,r.readAsDataURL(this.file)}click(){this.bandera=0==this.bandera}cargaImagen(t){var r,i;let s=this.imageUrl=t.target.src;this.myForm.value.imagen=s,null===(r=this.myForm.get("imagen"))||void 0===r||r.setValidators([]),null===(i=this.myForm.get("imagen"))||void 0===i||i.updateValueAndValidity(),this.band_select=!0,console.log(this.myForm.value)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zb),l.Y36(P1),l.Y36(ol),l.Y36(ua))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-altas"]],viewQuery:function(t,r){if(1&t&&l.Gf(kj,5,l.SBq),2&t){let i;l.iGM(i=l.CRH())&&(r.foto=i.first)}},decls:88,vars:6,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"emitBand"],[1,"container-fluid"],[3,"formGroup"],[1,"row","mt-2"],[1,"col-sm","col-md","col-lg-4"],[1,"col-sm","col-md","col-lg-8"],["type","text","formControlName","nombre",1,"form-control"],["id","exampleFormControlTextarea1","rows","3","formControlName","descripcion",1,"form-control"],["type","number","formControlName","precio",1,"form-control"],["type","number","formControlName","cantidad",1,"form-control"],["type","date","formControlName","fecha",1,"form-control"],["type","file","formControlName","imagen",3,"change"],["foto",""],["id","drop",1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle"],[1,"icon-picture-o"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","scrollable-menu",2,"background","#b4bdff"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"col-lg-2"],["id","imagen",1,"col-sm","col-md","col-lg-8"],["alt","",3,"src"],["class","row mt-4",4,"ngIf"],[1,"button","mt-4"],["type","submit",1,"btn","btn-danger",3,"disabled","click"],["type","reset",1,"btn","btn-info","ml-4"],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"dropdown-item"],["alt","",3,"src","click"],[1,"col-lg-4"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-admin",2),l.TgZ(3,"div",3)(4,"div",4)(5,"app-topbar",5),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(6,"div",6)(7,"form",7)(8,"div",8)(9,"div",9)(10,"span"),l._uU(11,"Nombre"),l.qZA()(),l.TgZ(12,"div",10),l._UZ(13,"input",11),l.qZA()(),l.TgZ(14,"div",8)(15,"div",9)(16,"span"),l._uU(17,"Descripci\xf3n"),l.qZA()(),l.TgZ(18,"div",10),l._UZ(19,"textarea",12),l.qZA()(),l.TgZ(20,"div",8)(21,"div",9)(22,"span"),l._uU(23,"Precio"),l.qZA()(),l.TgZ(24,"div",10),l._UZ(25,"input",13),l.qZA()(),l.TgZ(26,"div",8)(27,"div",9)(28,"span"),l._uU(29,"Cantidad"),l.qZA()(),l.TgZ(30,"div",10),l._UZ(31,"input",14),l.qZA()(),l.TgZ(32,"div",8)(33,"div",9)(34,"span"),l._uU(35,"Fecha"),l.qZA()(),l.TgZ(36,"div",10),l._UZ(37,"input",15),l.qZA()(),l.TgZ(38,"div",8)(39,"div",9)(40,"span"),l._uU(41,"Imagen"),l.qZA()(),l.TgZ(42,"div",10)(43,"input",16,17),l.NdJ("change",function(s){return r.mostrar(s)}),l.qZA()()(),l.TgZ(45,"div",8)(46,"div",9)(47,"span"),l._uU(48,"Imagenes disponibles"),l.qZA()(),l.TgZ(49,"div",10)(50,"div",18)(51,"button",19),l._UZ(52,"i",20),l.qZA(),l.TgZ(53,"div",21),l.YNc(54,Oj,2,1,"a",22),l.qZA()()()(),l.TgZ(55,"div",23),l._UZ(56,"div",24),l.TgZ(57,"div",25),l._UZ(58,"img",26),l.qZA()(),l.YNc(59,Rj,9,5,"div",27),l.TgZ(60,"div",28)(61,"button",29),l.NdJ("click",function(){return r.alta()}),l._uU(62,"Enviar"),l.qZA(),l.TgZ(63,"button",30),l._uU(64,"Limpiar"),l.qZA()()()()(),l.TgZ(65,"footer",31)(66,"div",32)(67,"div",33)(68,"span"),l._uU(69,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()()()()(),l.TgZ(70,"a",34),l._UZ(71,"i",35),l.qZA(),l.TgZ(72,"div",36)(73,"div",37)(74,"div",38)(75,"div",39)(76,"h5",40),l._uU(77,"Ready to Leave?"),l.qZA(),l.TgZ(78,"button",41)(79,"span",42),l._uU(80,"\xd7"),l.qZA()()(),l.TgZ(81,"div",43),l._uU(82,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(83,"div",44)(84,"button",45),l._uU(85,"Cancel"),l.qZA(),l.TgZ(86,"a",46),l._uU(87,"Logout"),l.qZA()()()()()()),2&t&&(l.xp6(2),l.Q6J("band",!r.bandera),l.xp6(5),l.Q6J("formGroup",r.myForm),l.xp6(47),l.Q6J("ngForOf",r.myImages),l.xp6(4),l.Q6J("src",r.imageUrl,l.LSH),l.xp6(1),l.Q6J("ngIf",r.band),l.xp6(2),l.Q6J("disabled",r.myForm.invalid))},directives:[ih,sh,Tc,Ec,Fl,Rl,bu,Ul,Uh,Dn,tr,us],pipes:[fa],styles:["span[_ngcontent-%COMP%]{color:#000;text-align:justify;float:right}h1[_ngcontent-%COMP%]{text-align:center}.button[_ngcontent-%COMP%], #imagen[_ngcontent-%COMP%]{display:flex;justify-content:center}img[_ngcontent-%COMP%]{width:100px;border-radius:15px}#progress[_ngcontent-%COMP%]{display:flex;justify-content:center}.progress[_ngcontent-%COMP%]{background:#eee;border:2px double #6767f7}@media only screen and (max-width: 575px){span[_ngcontent-%COMP%]{float:left}}[class^=icon-][_ngcontent-%COMP%]{font-size:20px;color:#6767f7!important}.scrollable-menu[_ngcontent-%COMP%]{height:auto!important;max-height:200px!important;overflow-x:hidden!important}"]}),n})();function Lj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",31),l._UZ(1,"img",32),l.TgZ(2,"div",33)(3,"h2",34),l._uU(4),l.ALo(5,"capitalizado"),l.qZA(),l.TgZ(6,"h5"),l._uU(7),l.qZA(),l.TgZ(8,"h5"),l._uU(9),l.ALo(10,"number"),l.qZA(),l.TgZ(11,"h5"),l._uU(12),l.ALo(13,"number"),l.qZA(),l.TgZ(14,"h5",35),l._uU(15),l.qZA(),l.TgZ(16,"p",36),l._uU(17),l.qZA()(),l._UZ(18,"hr",37),l.TgZ(19,"div",38)(20,"button",39),l.NdJ("click",function(){const s=l.CHM(t).index,c=l.oxw();return c.update(c.id_doc[s])}),l._uU(21,"Editar"),l.qZA(),l.TgZ(22,"button",40),l.NdJ("click",function(){const s=l.CHM(t).index,c=l.oxw();return c.eliminar(c.id_doc[s])}),l._uU(23,"Eliminar"),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(1),l.s9C("src",t.imagen,l.LSH),l.xp6(3),l.Oqu(l.xi3(5,7,t.nombre,!0)),l.xp6(3),l.hij("Adquiridos: ",t.cantidad,""),l.xp6(2),l.hij("Precio Unitario: $",l.xi3(10,10,t.precio_unitario,".0-3"),""),l.xp6(3),l.hij("Pago: $",l.xi3(13,13,t.total,".0-3"),""),l.xp6(3),l.hij("Fecha: ",t.fecha,""),l.xp6(2),l.hij(" ",t.descripcion,"")}}let HR=(()=>{class n{constructor(t,r,i){this.auth=t,this.peticiones=r,this.router=i,this.band=!1,this.sum=0}ngOnInit(){yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor",confirmButtonText:"Entendido",timer:1e4}),yt().showLoading(),this.peticiones.consultaTodo("consultaTodo","compras").subscribe(t=>{this.compras=t.myarray,this.id_doc=t.myids,console.log(this.id_doc),this.sum=0;for(let r=0;r<this.compras.length;r++)this.sum+=this.compras[r].total;yt().close()},t=>{yt().close(),yt().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal...Revisa tu conexion a internet ",confirmButtonText:"Entendido"})})}click(){this.band=0==this.band}update(t){this.router.navigate(["editarCompra",t])}eliminar(t){this.peticiones.eliminar(`eliminarAlgo/compras/${t}`).subscribe(r=>{console.log(r),this.peticiones.consultaTodo("consultaTodo","compras").subscribe(i=>{this.compras=i.myarray,this.id_doc=i.myids,console.log(this.id_doc)})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ol),l.Y36(ua),l.Y36(Gr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-consulta-compras"]],decls:42,vars:6,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"emitBand"],[1,"container-fluid"],[2,"text-align","center"],[1,"card","p-3","text-justify"],[1,"blockquote","mb-0"],[1,"blockquote-footer"],[1,"text-muted"],["title","Source Title"],[1,"card-columns"],["class","card",4,"ngFor","ngForOf"],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","text-center"],[1,"text-justify"],[1,"card-text","text-justify"],[1,"sidebar-divider","my-0"],[1,"foot"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-admin",2),l.TgZ(3,"div",3)(4,"div",4)(5,"app-topbar",5),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(6,"div",6)(7,"h2",7),l._uU(8,"Compras Realizadas"),l.qZA(),l.TgZ(9,"div",8)(10,"blockquote",9)(11,"p"),l._uU(12),l.ALo(13,"number"),l.qZA(),l.TgZ(14,"footer",10)(15,"small",11),l._UZ(16,"cite",12),l.qZA()()()(),l.TgZ(17,"div",13),l.YNc(18,Lj,24,16,"div",14),l.qZA()()(),l.TgZ(19,"footer",15)(20,"div",16)(21,"div",17)(22,"span"),l._uU(23,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()()()()(),l.TgZ(24,"a",18),l._UZ(25,"i",19),l.qZA(),l.TgZ(26,"div",20)(27,"div",21)(28,"div",22)(29,"div",23)(30,"h5",24),l._uU(31,"Ready to Leave?"),l.qZA(),l.TgZ(32,"button",25)(33,"span",26),l._uU(34,"\xd7"),l.qZA()()(),l.TgZ(35,"div",27),l._uU(36,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(37,"div",28)(38,"button",29),l._uU(39,"Cancel"),l.qZA(),l.TgZ(40,"a",30),l._uU(41,"Logout"),l.qZA()()()()()()),2&t&&(l.xp6(2),l.Q6J("band",!r.band),l.xp6(10),l.hij("Inversion en compras: $",l.xi3(13,3,r.sum,".0-3"),""),l.xp6(6),l.Q6J("ngForOf",r.compras))},directives:[ih,sh,Dn],pipes:[ai,jS],styles:["table[_ngcontent-%COMP%]{border-collapse:collapse;margin:auto;font-size:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;color:#000;text-align:center;font-style:italic}.card[_ngcontent-%COMP%]{border:4px double rgba(201,189,189,.822)}img[_ngcontent-%COMP%]{height:250px}.card-columns[_ngcontent-%COMP%]{padding:2em}.card[_ngcontent-%COMP%]{background:#eee;border:4px double #6767f7}.foot[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1em}button[_ngcontent-%COMP%]{margin-left:.5em;width:150px}@media only screen and (max-width: 830px){.foot[_ngcontent-%COMP%]{flex-wrap:wrap}button[_ngcontent-%COMP%]{margin-top:.5em;width:150px}}"]}),n})();function Fj(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"span"),l._uU(2),l.ALo(3,"capitalizado"),l.qZA(),l._UZ(4,"img",1),l.qZA()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(l.xi3(3,2,t.nombre,!0)),l.xp6(2),l.s9C("src",t.imagen,l.LSH)}}let Uj=(()=>{class n{constructor(t){this.productosService=t}ngOnInit(){yt().fire("espere","","success"),this.productosService.getProducts().subscribe(t=>{this.productos=t},t=>{yt().close(),yt().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal...Revisa tu conexion a internet ",confirmButtonText:"Entendido"})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-consulta-productos"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["alt","","width","100px",3,"src"]],template:function(t,r){1&t&&(l.TgZ(0,"table"),l.YNc(1,Fj,5,5,"tr",0),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngForOf",r.productos))},directives:[Dn],pipes:[jS],styles:[""]}),n})();function Vj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",47)(1,"img",48),l.NdJ("click",function(i){return l.CHM(t),l.oxw().cargaImagen(i)}),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(1),l.s9C("src",t,l.LSH)}}const Bj=function(n){return{"width.%":n}};function jj(n,e){if(1&n&&(l.TgZ(0,"div",23)(1,"div",49)(2,"span"),l._uU(3,"Subiendo datos"),l.qZA()(),l.TgZ(4,"div",49)(5,"div",50),l._UZ(6,"div",51),l.ALo(7,"async"),l.qZA()(),l._UZ(8,"div",49),l.qZA()),2&n){const t=l.oxw();l.xp6(6),l.Q6J("ngStyle",l.VKq(3,Bj,l.lcZ(7,1,t.porcentaje)))}}let Zj=(()=>{class n{constructor(t,r,i,s,c){this.producto=t,this.activatedRoute=r,this.router=i,this.storage=s,this.peticiones=c,this.myForm=new la({id:new In(""),nombre:new In("",[_n.required,_n.minLength(2)]),descripcion:new In("",[_n.required]),precio:new In("",[_n.required]),cantidad:new In("",[_n.required]),imagen:new In("",[_n.required])}),this.bandera=!1,this.band=!1,this.imageUrl="../../../assets/img/upload.png",this.myImages=[],this.band_select=!0,this.activatedRoute.params.subscribe(d=>{yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.peticiones.consultaUno(`consultaUno/producto/${d.id}`).subscribe(f=>{console.log(f.data),t.getProduct(d.id).subscribe(g=>{var v,w,S,k,R,B;this.myproducto=g,null===(v=this.myForm.get("id"))||void 0===v||v.setValue(this.myproducto.id),null===(w=this.myForm.get("nombre"))||void 0===w||w.setValue(this.myproducto.nombre),null===(S=this.myForm.get("descripcion"))||void 0===S||S.setValue(this.myproducto.descripcion),null===(k=this.myForm.get("precio"))||void 0===k||k.setValue(this.myproducto.precio),null===(R=this.myForm.get("cantidad"))||void 0===R||R.setValue(this.myproducto.cantidad),null===(B=this.myForm.get("imagen"))||void 0===B||B.setValue(this.myproducto.imagen),this.imageUrl=this.myForm.value.imagen,yt().close()})})})}ngOnInit(){var t=this;S1(Jb(eM(),"productos")).then(function(){var s=(0,Be.Z)(function*(c){for(let d of c.items){const f=yield M1(d);t.myImages.push(f)}});return function(c){return s.apply(this,arguments)}}()).catch(s=>console.log(s))}mostrar(t){this.file=t.target.files[0];const r=new FileReader;r.onload=()=>this.imageUrl=r.result,r.readAsDataURL(this.file),this.band_select=!1}update(){const t=Math.random().toString(36).substring(2);if(console.log(this.myForm),this.band_select)console.log("II valor: "+this.myForm.value),this.producto.updateProduct(this.myForm.value),this.myForm.reset(),this.imageUrl="../../../assets/img/upload.png";else{this.band=!0;const r=`productos/${t}_${this.file.name}`,i=this.storage.ref(r),s=this.storage.upload(r,this.file);this.porcentaje=s.percentageChanges(),s.snapshotChanges().pipe(cu(()=>{i.getDownloadURL().subscribe(c=>{this.dirImagen=c,console.log(this.dirImagen),this.myForm.value.imagen=this.dirImagen,this.band=!1,this.imageUrl="../../../assets/img/upload.png",this.producto.updateProduct(this.myForm.value),this.myForm.reset()})})).subscribe(()=>{})}this.router.navigate(["/actualizarProducto"])}click(){this.bandera=0==this.bandera}cargaImagen(t){var r,i,s;let c=this.imageUrl=t.target.src;null===(r=this.myForm.get("imagen"))||void 0===r||r.setValue(c),null===(i=this.myForm.get("imagen"))||void 0===i||i.setValidators([]),null===(s=this.myForm.get("imagen"))||void 0===s||s.updateValueAndValidity(),this.band_select=!0,console.log(this.myForm.value)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zb),l.Y36(Ga),l.Y36(Gr),l.Y36(P1),l.Y36(ua))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-editar-producto"]],decls:85,vars:6,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"emitBand"],[1,"container-fluid"],[1,"container"],[3,"formGroup"],[1,"row","mt-2"],[1,"col-sm","col-md","col-lg-4"],[1,"col-sm","col-md","col-lg-8"],["type","text","formControlName","nombre",1,"form-control"],["id","exampleFormControlTextarea1","rows","3","formControlName","descripcion",1,"form-control"],["type","number","formControlName","precio",1,"form-control"],["type","number","formControlName","cantidad",1,"form-control"],["type","file",3,"change"],["foto",""],["id","drop",1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle"],[1,"icon-picture-o"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","scrollable-menu",2,"background","#b4bdff"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"col-lg-2"],["id","imagen",1,"col-sm","col-md","col-lg-8"],["alt","",3,"src"],["class","row mt-4",4,"ngIf"],[1,"button","mt-4"],["type","submit",1,"btn","btn-danger",3,"disabled","click"],["type","reset",1,"btn","btn-info","ml-4"],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"dropdown-item"],["alt","",3,"src","click"],[1,"col-lg-4"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-admin",2),l.TgZ(3,"div",3)(4,"div",4)(5,"app-topbar",5),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(6,"div",6)(7,"div",7)(8,"h1"),l._uU(9,"Editar Producto"),l.qZA(),l.TgZ(10,"form",8)(11,"div",9)(12,"div",10)(13,"span"),l._uU(14,"Nombre"),l.qZA()(),l.TgZ(15,"div",11),l._UZ(16,"input",12),l.qZA()(),l.TgZ(17,"div",9)(18,"div",10)(19,"span"),l._uU(20,"Descripci\xf3n"),l.qZA()(),l.TgZ(21,"div",11),l._UZ(22,"textarea",13),l.qZA()(),l.TgZ(23,"div",9)(24,"div",10)(25,"span"),l._uU(26,"Precio"),l.qZA()(),l.TgZ(27,"div",11),l._UZ(28,"input",14),l.qZA()(),l.TgZ(29,"div",9)(30,"div",10)(31,"span"),l._uU(32,"Cantidad"),l.qZA()(),l.TgZ(33,"div",11),l._UZ(34,"input",15),l.qZA()(),l.TgZ(35,"div",9)(36,"div",10)(37,"span"),l._uU(38,"Imagen"),l.qZA()(),l.TgZ(39,"div",11)(40,"input",16,17),l.NdJ("change",function(s){return r.mostrar(s)}),l.qZA()()(),l.TgZ(42,"div",9)(43,"div",10)(44,"span"),l._uU(45,"Imagenes disponibles"),l.qZA()(),l.TgZ(46,"div",11)(47,"div",18)(48,"button",19),l._UZ(49,"i",20),l.qZA(),l.TgZ(50,"div",21),l.YNc(51,Vj,2,1,"a",22),l.qZA()()()(),l.TgZ(52,"div",23),l._UZ(53,"div",24),l.TgZ(54,"div",25),l._UZ(55,"img",26),l.qZA()(),l.YNc(56,jj,9,5,"div",27),l.TgZ(57,"div",28)(58,"button",29),l.NdJ("click",function(){return r.update()}),l._uU(59,"Enviar"),l.qZA(),l.TgZ(60,"button",30),l._uU(61,"Limpiar"),l.qZA()()()()()(),l.TgZ(62,"footer",31)(63,"div",32)(64,"div",33)(65,"span"),l._uU(66,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()()()()(),l.TgZ(67,"a",34),l._UZ(68,"i",35),l.qZA(),l.TgZ(69,"div",36)(70,"div",37)(71,"div",38)(72,"div",39)(73,"h5",40),l._uU(74,"Ready to Leave?"),l.qZA(),l.TgZ(75,"button",41)(76,"span",42),l._uU(77,"\xd7"),l.qZA()()(),l.TgZ(78,"div",43),l._uU(79,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(80,"div",44)(81,"button",45),l._uU(82,"Cancel"),l.qZA(),l.TgZ(83,"a",46),l._uU(84,"Logout"),l.qZA()()()()()()),2&t&&(l.xp6(2),l.Q6J("band",!r.bandera),l.xp6(8),l.Q6J("formGroup",r.myForm),l.xp6(41),l.Q6J("ngForOf",r.myImages),l.xp6(4),l.Q6J("src",r.imageUrl,l.LSH),l.xp6(1),l.Q6J("ngIf",r.band),l.xp6(2),l.Q6J("disabled",r.myForm.invalid))},directives:[ih,sh,Tc,Ec,Fl,Rl,bu,Ul,Uh,Dn,tr,us],pipes:[fa],styles:["span[_ngcontent-%COMP%]{color:#000;text-align:justify;float:right}h1[_ngcontent-%COMP%]{text-align:center}.button[_ngcontent-%COMP%], #imagen[_ngcontent-%COMP%]{display:flex;justify-content:center}img[_ngcontent-%COMP%]{width:100px;border-radius:15px}#progress[_ngcontent-%COMP%]{display:flex;justify-content:center}.scrollable-menu[_ngcontent-%COMP%]{height:auto!important;max-height:200px!important;overflow-x:hidden!important}"]}),n})();function Hj(n,e){if(1&n&&(l.TgZ(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29)(5,"div",30),l._uU(6),l.qZA(),l.TgZ(7,"div",31),l._uU(8),l.ALo(9,"number"),l.qZA()(),l.TgZ(10,"div",32),l._UZ(11,"img",33),l.qZA()()()()()),2&n){const t=e.$implicit,r=l.oxw();l.xp6(6),l.hij(" Pais: (",r.paises[t].name,")"),l.xp6(2),l.hij("$",l.xi3(9,3,500.5*t+100,".0-3"),""),l.xp6(3),l.s9C("src",r.paises[t].flag,l.LSH)}}let qj=(()=>{class n{constructor(t,r,i,s,c){this.accesibilidad=t,this.auth=r,this.router=i,this.hhtpclient=s,this.peticiones=c,this.band=!1,this.paises=[{name:"ddd",flag:"aaa"}],this.posiciones=[],yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.hhtpclient.get("https://restcountries.com/v2/lang/es").subscribe(d=>{this.paises=d,yt().close(),this.llenarPos()},d=>{yt().close(),yt().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal...Revisa tu conexion a internet ",confirmButtonText:"Entendido"})}),this.auth.setUser("")}ngOnInit(){this.getEmail()}click(){this.band=0==this.band}logOut(){this.auth.signOut()}getEmail(){this.auth.getUserLogged().subscribe(t=>{this.user=null==t?void 0:t.email})}llenarPos(){this.posiciones=[];let t,r,i=0;for(;i<5;)t=Math.floor(23*Math.random()+0),r=this.posiciones.findIndex(s=>s===t),-1==r&&(this.posiciones.push(t),i++)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yl),l.Y36(ol),l.Y36(Gr),l.Y36(Gb),l.Y36(ua))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-inicio"]],decls:34,vars:2,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"emitBand"],[1,"container-fluid"],[1,"row"],["class","col-xl-3 col-md-6 mb-4",4,"ngFor","ngForOf"],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"col-xl-3","col-md-6","mb-4"],[1,"card","border-left-primary","shadow","h-100","py-2"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"h5","mb-0","font-weight-bold","text-gray-800"],[1,"col-auto","mt-5",2,"text-align","center"],["width","30%","alt","Imagen pais",3,"src"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-admin",2),l.TgZ(3,"div",3)(4,"div",4)(5,"app-topbar",5),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(6,"div",6)(7,"h2"),l._uU(8,"Ganancias en diferentes Paises el ultimo mes"),l.qZA(),l.TgZ(9,"div",7),l.YNc(10,Hj,12,6,"div",8),l.qZA()()(),l.TgZ(11,"footer",9)(12,"div",10)(13,"div",11)(14,"span"),l._uU(15,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()()()()(),l.TgZ(16,"a",12),l._UZ(17,"i",13),l.qZA(),l.TgZ(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"h5",18),l._uU(23,"Ready to Leave?"),l.qZA(),l.TgZ(24,"button",19)(25,"span",20),l._uU(26,"\xd7"),l.qZA()()(),l.TgZ(27,"div",21),l._uU(28,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(29,"div",22)(30,"button",23),l._uU(31,"Cancel"),l.qZA(),l.TgZ(32,"a",24),l._uU(33,"Logout"),l.qZA()()()()()()),2&t&&(l.xp6(2),l.Q6J("band",!r.band),l.xp6(8),l.Q6J("ngForOf",r.posiciones))},directives:[ih,sh,Dn],pipes:[ai],styles:["[class^=icon-][_ngcontent-%COMP%]{font-size:40px;color:#000}a[_ngcontent-%COMP%]{cursor:pointer}.dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;float:right}.dropdown-item[_ngcontent-%COMP%]:hover{background:#91e491}.dropdown[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:800;font-style:italic}.dropdown-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}h2[_ngcontent-%COMP%]{text-align:center;font-style:italic}"]}),n})();const zj=function(){return["/home"]},$j=function(){return["/contacto"]},Gj=function(){return["/sign-in"]},Wj=function(){return["/faq"]};let qR=(()=>{class n{constructor(t){this.accesibilidad=t,0==this.accesibilidad.band&&this.accesibilidad.changeBand()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:40,vars:8,consts:[[1,"bg-gradient-primary","navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"navbar-brand"],["id","logo","src","assets/img/logotipo.png","alt","","width","50px"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["routerLinkActive","active",1,"nav-item","active","li"],[1,"nav-link","a",3,"routerLink"],[1,"sr-only"],["routerLinkActive","active",1,"nav-item","li"],["routerLinkActive","active",1,"nav-item"],["id","drop",1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle"],[1,"icon-disability"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu",2,"background","#b4bdff",3,"click"],[1,"dropdown-item",3,"click"],[1,"icon-zoom-in"],[1,"icon-search-minus"],[1,"icon-contrast"],[1,"icon-refresh"],[1,"form-inline","my-2","my-lg-0"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0)(1,"a",1),l._UZ(2,"img",2),l.qZA(),l.TgZ(3,"button",3),l._UZ(4,"span",4),l.qZA(),l.TgZ(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),l._uU(9,"Home "),l.TgZ(10,"span",9),l._uU(11,"(current)"),l.qZA()()(),l.TgZ(12,"li",10)(13,"a",8),l._uU(14,"Contacto"),l.qZA()(),l.TgZ(15,"li",11)(16,"a",8),l._uU(17,"Log In"),l.qZA()(),l.TgZ(18,"li",10)(19,"a",8),l._uU(20,"Preguntas Frecuentes"),l.qZA()(),l.TgZ(21,"div",12)(22,"button",13),l._UZ(23,"i",14),l.qZA(),l.TgZ(24,"div",15),l.NdJ("click",function(s){return r.accesibilidad.stop(s)}),l.TgZ(25,"a",16),l.NdJ("click",function(){return r.accesibilidad.aumentarFont()}),l._uU(26,"Aumentar texto "),l._UZ(27,"i",17),l.qZA(),l.TgZ(28,"a",16),l.NdJ("click",function(){return r.accesibilidad.disminuirFont()}),l._uU(29,"Disminuir texto "),l._UZ(30,"i",18),l.qZA(),l.TgZ(31,"a",16),l.NdJ("click",function(){return r.accesibilidad.escalaGris()}),l._uU(32,"Escala de grises "),l._UZ(33,"i",19),l.qZA(),l.TgZ(34,"a",16),l.NdJ("click",function(){return r.accesibilidad.cambiarFont()}),l._uU(35,"Cambiar fuente "),l._UZ(36,"i",20),l.qZA()()()(),l.TgZ(37,"form",21)(38,"h2"),l._uU(39,"ELECTRONICA HALCON"),l.qZA()()()()),2&t&&(l.xp6(8),l.Q6J("routerLink",l.DdM(4,zj)),l.xp6(5),l.Q6J("routerLink",l.DdM(5,$j)),l.xp6(3),l.Q6J("routerLink",l.DdM(6,Gj)),l.xp6(3),l.Q6J("routerLink",l.DdM(7,Wj)))},directives:[rp,Cc,Tc,Ec,pv],styles:[".navbar[_ngcontent-%COMP%]{border-bottom:5px solid}#logo[_ngcontent-%COMP%]{border:5px double;border-radius:50%;box-shadow:5px 6px 5px}[class^=icon-][_ngcontent-%COMP%]{font-size:40px;color:#000;text-shadow:1px 3px 4px}[class^=icon-d][_ngcontent-%COMP%]{font-size:40px;color:#faebd7;text-shadow:1px 3px 4px}a[_ngcontent-%COMP%]{cursor:pointer}.dropdown-item[_ngcontent-%COMP%]:hover{background:#91e491}.dropdown[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:800;font-style:italic}.dropdown-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#faebd7!important;font-size:1.5em;font-family:Sans_slab;background:rgba(145,118,118,.688);border-radius:20px;margin:5px}.active[_ngcontent-%COMP%]{color:#000!important;text-shadow:1px 2px 6px!important}h2[_ngcontent-%COMP%]{color:#fff;font-style:oblique;font-family:Affichage!important;font-size:3em}@media only screen and (max-width: 987px){.collapse[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .form-inline[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block!important;text-align:center!important}}"]}),n})();function Kj(n,e){1&n&&l._UZ(0,"app-navbar")}const Yj=function(n){return{grises:n}};let zR=(()=>{class n{constructor(t){this.accesibilidad=t,this.title="TiendaElectronica",this.band=!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:4,consts:[[1,"bg-gradient-primary",3,"ngClass"],[4,"ngIf"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0),l.YNc(1,Kj,1,0,"app-navbar",1),l.TgZ(2,"div"),l._UZ(3,"router-outlet"),l.qZA()()),2&t&&(l.Q6J("ngClass",l.VKq(2,Yj,r.accesibilidad.cont)),l.xp6(1),l.Q6J("ngIf",r.accesibilidad.band))},directives:[Ts,tr,qR,hd],styles:["body[_ngcontent-%COMP%]{width:100%;height:100%;background-repeat:no-repeat;background-attachment:fixed;background-size:100vw 100vh}"]}),n})();const o_=function(n,e){return{"font-size.px":n,"font-family":e}};let Qj=(()=>{class n{constructor(t,r){this.httpclien=t,this.accesibilidad=r,this.datos=new la({correo:new In("",[_n.required,_n.email]),asunto:new In("",_n.required),msj:new In("",_n.required)})}ngOnInit(){}envio(){yt().fire({allowOutsideClick:!0,title:"Enviado...",icon:"success",text:"El correo se envio exitosamente",confirmButtonText:"Entendido"});let t={email:this.datos.value.correo,asunto:this.datos.value.asunto,mensaje:this.datos.value.msj};console.log(t),this.httpclien.post("https://electronica-halcon.herokuapp.com:/envio",t).subscribe(r=>{console.log(r)},r=>{}),this.datos.reset()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gb),l.Y36(Yl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-contacto"]],decls:23,vars:25,consts:[["lang","en"],[1,"text-center","mt-5"],[3,"ngStyle"],[1,"container"],[1,"row"],[1,"col-8","col-sm-8","col-md-8","col-lg-12","col-xl-12","text-center"],[3,"formGroup"],[1,"row","justify-content-center"],[1,"col-lg-12","fondo"],["type","email","placeholder","Escribe tu correo","formControlName","correo",1,"form-control",3,"ngStyle"],["type","text","placeholder","Asunto","formControlName","asunto",1,"form-control",3,"ngStyle"],["placeholder","Duda o aclaraci\xf3n","cols","100","rows","10","formControlName","msj",1,"form-control",3,"ngStyle"],[1,"text-center","p-2"],[1,"btn","btn-info",3,"ngStyle","click"]],template:function(t,r){1&t&&(l.TgZ(0,"html",0),l._UZ(1,"head"),l.TgZ(2,"div",1)(3,"h1",2),l._uU(4,"\xbfTienes alguna duda?"),l._UZ(5,"br"),l._uU(6,"Contactanos "),l.qZA()(),l.TgZ(7,"div",3)(8,"div",4)(9,"div",5)(10,"form",6)(11,"div",7)(12,"div",8)(13,"h4",2),l._uU(14,"Enviar correos "),l.qZA(),l._UZ(15,"input",9)(16,"br")(17,"input",10)(18,"br")(19,"textarea",11),l.TgZ(20,"div",12)(21,"button",13),l.NdJ("click",function(){return r.envio()}),l._uU(22,"Enviar"),l.qZA()()()()()()()()()),2&t&&(l.xp6(3),l.Q6J("ngStyle",l.WLB(7,o_,r.accesibilidad.font_size,r.accesibilidad.font_h)),l.xp6(7),l.Q6J("formGroup",r.datos),l.xp6(3),l.Q6J("ngStyle",l.WLB(10,o_,r.accesibilidad.font_size,r.accesibilidad.font_h)),l.xp6(2),l.Q6J("ngStyle",l.WLB(13,o_,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(2),l.Q6J("ngStyle",l.WLB(16,o_,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(2),l.Q6J("ngStyle",l.WLB(19,o_,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(2),l.Q6J("ngStyle",l.WLB(22,o_,r.accesibilidad.font_size,r.accesibilidad.font_p)))},directives:[us,Tc,Ec,Fl,Rl,bu,Ul],styles:["html[_ngcontent-%COMP%]{height:100vh}img[_ngcontent-%COMP%]{margin-top:4em;border-radius:20px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:300px}textarea[_ngcontent-%COMP%]{height:100px}.container[_ngcontent-%COMP%]{display:flex;justify-content:center}h4[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{color:#fff;background:rgba(0,0,0,.5);border-radius:20px;padding:1em;box-sizing:border-box;font-style:italic}h1[_ngcontent-%COMP%]{width:50%;margin:auto auto 1em;text-shadow:2px 1px 5px}button[_ngcontent-%COMP%]{color:#000;font-style:oblique;font-weight:800}"]}),n})();const Jj=[{nombre:"Samsung Galaxy A03 Core 32 GB black 2 GB RAM",descripcion:"Todo lo que necesitas Su memoria RAM de 2 GB es justo lo que necesitas para utilizar las funciones m\xe1s importantes como llamar, enviar mensajes, navegar y ejecutar aplicaciones de uso frecuente como redes sociales o multimedia Bater\xeda de duraci\xf3n superior \xa1Desench\xfafate! Con la s\xfaper bater\xeda de 5000 mAh tendr\xe1s energ\xeda por mucho m\xe1s tiempo para jugar, ver series o trabajar sin necesidad de realizar recargas.",imagen:"../assets/img/articulos/samsung_galaxy.png"},{nombre:"Amazon Echo Dot 4th Gen con asistente virtual Alexa glacier white 110V/240V",descripcion:"Alexa te acompa\xf1a! La ventaja de este asistente virtual es que tiene mejor integraci\xf3n con todos los servicios y dispositivos de Amazon. \xbfNecesitas ayuda con tus tareas diarias? Alexa organizar\xe1 tu rutina, te brindar\xe1 noticias, comprobar\xe1 el estado del clima y mucho m\xe1s.",imagen:"../assets/img/articulos/bocina_amazon.png"},{nombre:"Lige Reloj Inteligente Deportivo Impermeable Para Hombre Rel",descripcion:"Reloj inteligente BW220. El reloj inteligente bw220 es vers\xe1til y f\xe1cil de operar. El logotipo de la marca lige est\xe1 impreso en la esfera del reloj.",imagen:"../assets/img/articulos/reloj_lige.png"},{nombre:"Repetidor, Range extender Xiaomi Mi Wi-Fi Range Extender Pro R03 negro 100V/240V",descripcion:"El repetidor Xiaomi Wi-Fi Range Extender Pro es capaz de amplificar la se\xf1al de internet de 80 a 150 m2. De esta manera, te permitir\xe1 llevar wifi a esos rincones donde hoy no llega.",imagen:"../assets/img/articulos/repetidor.png"},{nombre:"Nintendo Switch 32GB Standard color rojo ne\xf3n, azul ne\xf3n y negro",descripcion:"Con tu consola Switch tendr\xe1s entretenimiento asegurado todos los d\xedas. Su tecnolog\xeda fue creada para poner nuevos retos tanto a jugadores principiantes como expertos.",imagen:"../assets/img/articulos/switch.png"},{nombre:"Canon EOS Rebel T7 DSLR color negro",descripcion:"La marca japonesa Canon combina calidad y rendimiento en sus productos. No importa si reci\xe9n comienzas en el mundo de la fotograf\xeda o si quieres mejorar tu equipo, Canon har\xe1 que te enamores de la fotograf\xeda.",imagen:"../assets/img/articulos/camara.png"},{nombre:"Kit de teclado y mouse inal\xe1mbrico Ghia GT4000 Espa\xf1ol de color negro y amarillo",descripcion:"El combo de teclado y mouse Ghia es perfecto para ayudarte a desarrollar tus actividades diarias. Esta combinaci\xf3n est\xe1 adaptada para realizar distintas tareas, ya sean laborales, escolares o de cualquier \xedndole.",imagen:"../assets/img/articulos/teclado.png"},{nombre:"Cable Tipo C Lightning Para iPhone 6 7 8 X 11 12 13 2m iPad",descripcion:"El cable usb c a lightning ha completado los requisitos de certificaci\xf3n. la certificaci\xf3n y las estrictas pruebas de calidad garantizan la seguridad de sus dispositivos apple incluso cuando se cargan r\xe1pidamente a la velocidad m\xe1s alta.",imagen:"../assets/img/articulos/cargador.png"}];let Xj=(()=>{class n{transform(t,r=!0){let i=(t=t.toLowerCase()).split(" ");if(r)for(let s in i)i[s]=i[s][0].toUpperCase()+i[s].substr(1);else i[0]=i[0][0].toUpperCase()+i[0].substr(1);return i.join(" ")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"capitalizacionPipe",type:n,pure:!0}),n})();const tM=function(n,e){return{"font-size.px":n,"font-family":e}};function e6(n,e){if(1&n&&(l.TgZ(0,"div",12),l._UZ(1,"img",13),l.TgZ(2,"div",14)(3,"h5",15),l._uU(4),l.ALo(5,"capitalizacionPipe"),l.qZA(),l.TgZ(6,"p",16),l._uU(7),l.qZA()()()),2&n){const t=e.$implicit,r=l.oxw();l.xp6(1),l.s9C("src",t.imagen,l.LSH),l.xp6(2),l.Q6J("ngStyle",l.WLB(8,tM,r.accesibilidad.font_size,r.accesibilidad.font_h)),l.xp6(1),l.Oqu(l.xi3(5,5,t.nombre,!0)),l.xp6(2),l.Q6J("ngStyle",l.WLB(11,tM,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(1),l.Oqu(t.descripcion)}}let $R=(()=>{class n{constructor(t){this.accesibilidad=t,this.misProd=Jj}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:17,vars:5,consts:[[2,"padding","1em"],[1,"card","p-3","text-justify","tar"],[1,"blockquote","mb-0","lema"],[1,"lema-text"],[1,"blockquote-footer"],[1,"text-muted"],[1,"card-columns"],["class","card",4,"ngFor","ngForOf"],[1,"card","bg-primary","text-white","text-center","p-3"],[1,"blockquote","mb-0"],[3,"ngStyle"],[1,"blockquote-footer","text-white"],[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title",3,"ngStyle"],[1,"card-text",3,"ngStyle"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"blockquote",2)(3,"p",3)(4,"strong"),l._uU(5,"Innovaci\xf3n de hoy para el \xe9xito del ma\xf1ana."),l.qZA()(),l.TgZ(6,"footer",4)(7,"small",5),l._uU(8," Electronica Halc\xf3n "),l.qZA()()()()(),l.TgZ(9,"div",6),l.YNc(10,e6,8,14,"div",7),l.TgZ(11,"div",8)(12,"blockquote",9)(13,"p",10),l._uU(14,"Si deseas conocer precios y mas informaci\xf3n de los productos registrate, es gratis!"),l.qZA(),l.TgZ(15,"footer",11),l._UZ(16,"small"),l.qZA()()()()),2&t&&(l.xp6(10),l.Q6J("ngForOf",r.misProd),l.xp6(3),l.Q6J("ngStyle",l.WLB(2,tM,r.accesibilidad.font_size,r.accesibilidad.font_p)))},directives:[Dn,us],pipes:[Xj],styles:[".card-columns[_ngcontent-%COMP%]{padding:2em}body[_ngcontent-%COMP%]{height:100vh}.lema[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .lema[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{text-align:center!important;color:#000;font-style:oblique}.tar[_ngcontent-%COMP%]{background:rgba(60,142,250,.673)!important}.lema[_ngcontent-%COMP%]{border:5px dashed #1803b7}.card-text[_ngcontent-%COMP%]{text-align:justify}.lema-text[_ngcontent-%COMP%]{font-family:Bridge;font-size:25px;color:#0019a2}small[_ngcontent-%COMP%]{color:wheat!important;text-shadow:5px 5px 5px white!important}"]}),n})();const ll=function(n,e){return{"font-size.px":n,"font-family":e}};function t6(n,e){if(1&n&&(l.TgZ(0,"p",27),l._uU(1,"Correo invalido"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,ll,t.accesibilidad.font_size,t.accesibilidad.font_p))}}function n6(n,e){if(1&n&&(l.TgZ(0,"p",27),l._uU(1,"El campo no puede quedar vacio"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,ll,t.accesibilidad.font_size,t.accesibilidad.font_p))}}function r6(n,e){if(1&n&&(l.TgZ(0,"p",27),l._uU(1,"(Debe tener minimo 7 caracteres)"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,ll,t.accesibilidad.font_size,t.accesibilidad.font_p))}}function i6(n,e){if(1&n&&(l.TgZ(0,"p",27),l._uU(1,"El campo no puede quedar vacio"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,ll,t.accesibilidad.font_size,t.accesibilidad.font_p))}}const s6=function(){return["/sign-up"]};let o6=(()=>{class n{constructor(t,r,i,s){this.auth=t,this.accesibilidad=r,this.router=i,this.peticiones=s,this.usuarios=[],this.myForm=new la({correo:new In("",[_n.required,_n.email]),contrasena:new In("",[_n.required,_n.minLength(7)]),check:new In("")}),this.auth.getUsers()}ngOnInit(){var t,r;if(localStorage.getItem("datosUser")){let i=localStorage.getItem("datosUser");i=JSON.parse(i),null===(t=this.myForm.get("correo"))||void 0===t||t.setValue(i.correo),null===(r=this.myForm.get("contrasena"))||void 0===r||r.setValue(i.contrasena)}}logIn(){yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading();let{correo:t,contrasena:r}=this.myForm.value;this.auth.signIn(t,r).then(i=>{var s;if(i){this.accesibilidad.band=!1;let c=this.auth.usuarios.findIndex(d=>d.email==t);console.log("correo "+this.auth.usuarios+" i "+c),-1!=c&&("admin"==(null===(s=this.auth.usuarios[c])||void 0===s?void 0:s.privilegios)?this.router.navigate(["/inicioAdmin"]):this.router.navigate(["/inicioUser"])),yt().close(),this.myForm.value.check&&localStorage.setItem("datosUser",JSON.stringify(this.myForm.value)),yt().close()}}).catch(i=>{yt().close(),yt().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal...Revisa tu conexion a internet o que tu contrase\xf1a y usuario sean correctos",confirmButtonText:"Entendido"}),this.router.navigate(["/sign-in"])})}logInGoogle(){yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.auth.GoogleAuth().then(t=>{var r;if(t){this.accesibilidad.band=!1;let i=this.auth.usuarios.findIndex(s=>s.email==t.user.email);console.log("correo "+this.auth.usuarios+" i "+i),-1!=i&&("admin"==(null===(r=this.auth.usuarios[i])||void 0===r?void 0:r.privilegios)?this.router.navigate(["/inicioAdmin"]):this.router.navigate(["/inicioUser"]))}yt().close()}).catch(t=>{yt().close(),yt().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal...Revisa tu conexion a internet ",confirmButtonText:"Entendido"}),this.accesibilidad.band=!0,this.router.navigate(["/sign-in"])})}logInMSM(){this.router.navigate(["/msmlogin"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ol),l.Y36(Yl),l.Y36(Gr),l.Y36(ua))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:42,vars:44,consts:[["lang","en"],[1,"bg-gradient-primary"],[1,"container"],[1,"row","justify-content-center"],[1,"col-xl-10","col-lg-12","col-md-9"],[1,"card","o-hidden","border-0","shadow-lg","my-5"],[1,"card-body","p-0"],[1,"row"],[1,"col-lg-6","d-none","d-lg-block","bg-login-image"],[1,"col-lg-6"],[1,"p-5"],[1,"text-center"],[1,"h4","text-gray-900","mb-4",3,"ngStyle"],[1,"user",3,"formGroup"],[1,"form-group"],[3,"ngStyle",4,"ngIf"],["type","email","id","exampleInputEmail","aria-describedby","emailHelp","placeholder","Ingresa direccion de correo electr\xf3nico...","formControlName","correo",1,"form-control","form-control-user",3,"ngStyle"],["type","password","id","exampleInputPassword","placeholder","Ingresa contrase\xf1a","formControlName","contrasena",1,"form-control","form-control-user",3,"ngStyle"],[1,"custom-control","custom-checkbox","small"],["type","checkbox","id","customCheck","formControlName","check",1,"custom-control-input",3,"ngStyle"],["for","customCheck",1,"custom-control-label",3,"ngStyle"],[1,"btn","btn-primary","btn-user","btn-block",3,"ngStyle","disabled","click"],[1,"btn","btn-google","btn-user","btn-block",3,"ngStyle","click"],[1,"fab","fa-google","fa-fw"],[1,"btn","btn-facebook","btn-user","btn-block",3,"ngStyle","click"],[1,"icon-phone-1"],[1,"small","crear-cuenta",3,"ngStyle","routerLink"],[3,"ngStyle"]],template:function(t,r){if(1&t&&(l.TgZ(0,"html",0),l._UZ(1,"head"),l.TgZ(2,"body",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),l._UZ(9,"div",8),l.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"h1",12),l._uU(14,"Bienvenido!"),l.qZA()(),l.TgZ(15,"form",13)(16,"div",14),l.YNc(17,t6,2,4,"p",15),l.YNc(18,n6,2,4,"p",15),l._UZ(19,"input",16),l.qZA(),l.TgZ(20,"div",14),l.YNc(21,r6,2,4,"p",15),l.YNc(22,i6,2,4,"p",15),l._UZ(23,"input",17),l.qZA(),l.TgZ(24,"div",14)(25,"div",18),l._UZ(26,"input",19),l.TgZ(27,"label",20),l._uU(28,"Recordar datos "),l.qZA()()(),l.TgZ(29,"button",21),l.NdJ("click",function(){return r.logIn()}),l._uU(30," Login "),l.qZA(),l._UZ(31,"hr"),l.TgZ(32,"button",22),l.NdJ("click",function(){return r.logInGoogle()}),l._UZ(33,"i",23),l._uU(34," Login con Google "),l.qZA(),l.TgZ(35,"button",24),l.NdJ("click",function(){return r.logInMSM()}),l._UZ(36,"i",25),l._uU(37," Login con MSM "),l.qZA()(),l._UZ(38,"hr"),l.TgZ(39,"div",11)(40,"a",26),l._uU(41,"Crear una cuenta!"),l.qZA()()()()()()()()()()()()),2&t){let i,s,c,d;l.xp6(13),l.Q6J("ngStyle",l.WLB(16,ll,r.accesibilidad.font_size+10,r.accesibilidad.font_h)),l.xp6(2),l.Q6J("formGroup",r.myForm),l.xp6(2),l.Q6J("ngIf",null==(i=r.myForm.get("correo"))||null==i.errors?null:i.errors.email),l.xp6(1),l.Q6J("ngIf",null==(s=r.myForm.get("correo"))||null==s.errors?null:s.errors.required),l.xp6(1),l.Q6J("ngStyle",l.WLB(19,ll,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(2),l.Q6J("ngIf",null==(c=r.myForm.get("contrasena"))||null==c.errors?null:c.errors.minlength),l.xp6(1),l.Q6J("ngIf",null==(d=r.myForm.get("contrasena"))||null==d.errors?null:d.errors.required),l.xp6(1),l.Q6J("ngStyle",l.WLB(22,ll,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(3),l.Q6J("ngStyle",l.WLB(25,ll,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(1),l.Q6J("ngStyle",l.WLB(28,ll,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(2),l.Q6J("ngStyle",l.WLB(31,ll,r.accesibilidad.font_size,r.accesibilidad.font_p))("disabled",r.myForm.invalid),l.xp6(3),l.Q6J("ngStyle",l.WLB(34,ll,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(3),l.Q6J("ngStyle",l.WLB(37,ll,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(5),l.Q6J("ngStyle",l.WLB(40,ll,r.accesibilidad.font_size-5,r.accesibilidad.font_p))("routerLink",l.DdM(43,s6))}},directives:[us,Tc,Ec,Fl,tr,Rl,bu,Ul,sp,Cc],styles:[".crear-cuenta[_ngcontent-%COMP%]{font-size:1em!important;text-shadow:1px 2px 4px;border:dotted;padding:1em;border-radius:15px;background:#63f563;color:#15008b}.crear-cuenta[_ngcontent-%COMP%]:hover{background:#44cccc;color:#000}"]}),n})();class a6{static contrasenasIguales(e){let t=e.get("contrasena"),r=e.get("contrasena2");return(null==t?void 0:t.value)===(null==r?void 0:r.value)?null:{noSonIguales:!0}}}const Ql=function(n,e){return{"font-size.px":n,"font-family":e}};function l6(n,e){if(1&n&&(l.TgZ(0,"p",21),l._uU(1,"El campo no puede quedar vacio"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,Ql,t.accesibilidad.font_size,t.accesibilidad.font_p))}}function c6(n,e){if(1&n&&(l.TgZ(0,"p",21),l._uU(1,"Correo invalido"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,Ql,t.accesibilidad.font_size,t.accesibilidad.font_p))}}function u6(n,e){if(1&n&&(l.TgZ(0,"p",21),l._uU(1,"(Debe tener minimo 7 caracteres)"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,Ql,t.accesibilidad.font_size,t.accesibilidad.font_p))}}function d6(n,e){if(1&n&&(l.TgZ(0,"p",21),l._uU(1,"El campo no puede quedar vacio"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,Ql,t.accesibilidad.font_size,t.accesibilidad.font_p))}}function h6(n,e){if(1&n&&(l.TgZ(0,"p",21),l._uU(1,"(Debe tener minimo 7 caracteres)"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,Ql,t.accesibilidad.font_size,t.accesibilidad.font_p))}}function f6(n,e){if(1&n&&(l.TgZ(0,"p",21),l._uU(1,"El campo no puede quedar vacio"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,Ql,t.accesibilidad.font_size,t.accesibilidad.font_p))}}function p6(n,e){if(1&n&&(l.TgZ(0,"p",22),l._uU(1,"Las contrase\xf1as no coinciden"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,Ql,t.accesibilidad.font_size,t.accesibilidad.font_p))}}let g6=(()=>{class n{constructor(t,r){this.auth=t,this.accesibilidad=r,this.myForm=new la({correo:new In("",[_n.required,_n.email]),contrasena:new In("",[_n.required,_n.minLength(7)]),contrasena2:new In("",[_n.required,_n.minLength(7)]),check:new In("")},{validators:a6.contrasenasIguales})}ngOnInit(){}registrar(){console.log(this.myForm.value);let{correo:t,contrasena:r}=this.myForm.value;this.auth.setSignUp(t,r)}checarSiSonIguales(){var t,r;return this.myForm.hasError("noSonIguales")&&(null===(t=this.myForm.get("contrasena"))||void 0===t?void 0:t.dirty)&&(null===(r=this.myForm.get("contrasena2"))||void 0===r?void 0:r.dirty)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ol),l.Y36(Yl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-signup"]],decls:35,vars:29,consts:[["lang","en"],[1,"bg-gradient-primary"],[1,"container"],[1,"row","justify-content-center"],[1,"col-xl-10","col-lg-12","col-md-9"],[1,"card","o-hidden","border-0","shadow-lg","my-5"],[1,"card-body","p-0"],[1,"row"],[1,"col-lg-6","d-none","d-lg-block","bg-login-image"],[1,"col-lg-6"],[1,"p-5"],[1,"text-center"],[1,"h4","text-gray-900","mb-4",3,"ngStyle"],[1,"user",3,"formGroup","ngSubmit"],[1,"form-group"],[3,"ngStyle",4,"ngIf"],["type","email","id","exampleInputEmail","aria-describedby","emailHelp","placeholder","Ingresa correo electronico...","formControlName","correo",1,"form-control","form-control-user",3,"ngStyle"],["type","password","id","exampleInputPassword","placeholder","Ingresa contrase\xf1a","formControlName","contrasena",1,"form-control","form-control-user",3,"ngStyle"],["type","password","id","InputPassword","placeholder","Confirma contrase\xf1a","formControlName","contrasena2",1,"form-control","form-control-user",3,"ngStyle"],["style","text-align: center; color:red;",3,"ngStyle",4,"ngIf"],[1,"btn","btn-primary","btn-user","btn-block",3,"ngStyle","disabled"],[3,"ngStyle"],[2,"text-align","center","color","red",3,"ngStyle"]],template:function(t,r){if(1&t&&(l.TgZ(0,"html",0),l._UZ(1,"head"),l.TgZ(2,"body",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),l._UZ(9,"div",8),l.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"h1",12),l._uU(14,"\xbfNo tienes cuenta?"),l._UZ(15,"br"),l._uU(16," Que esperas! registrate ahora para obtener m\xe1s beneficios "),l.qZA()(),l.TgZ(17,"form",13),l.NdJ("ngSubmit",function(){return r.registrar()}),l.TgZ(18,"div",14),l.YNc(19,l6,2,4,"p",15),l.YNc(20,c6,2,4,"p",15),l._UZ(21,"input",16),l.qZA(),l.TgZ(22,"div",14),l.YNc(23,u6,2,4,"p",15),l.YNc(24,d6,2,4,"p",15),l._UZ(25,"input",17),l.qZA(),l.TgZ(26,"div",14),l.YNc(27,h6,2,4,"p",15),l.YNc(28,f6,2,4,"p",15),l._UZ(29,"input",18),l.qZA(),l.YNc(30,p6,2,4,"p",19),l.TgZ(31,"button",20),l._uU(32," Registrar "),l.qZA(),l._UZ(33,"hr"),l.qZA(),l._UZ(34,"hr"),l.qZA()()()()()()()()()()),2&t){let i,s,c,d,f,g;l.xp6(13),l.Q6J("ngStyle",l.WLB(14,Ql,r.accesibilidad.font_size,r.accesibilidad.font_h)),l.xp6(4),l.Q6J("formGroup",r.myForm),l.xp6(2),l.Q6J("ngIf",null==(i=r.myForm.get("correo"))||null==i.errors?null:i.errors.required),l.xp6(1),l.Q6J("ngIf",null==(s=r.myForm.get("correo"))||null==s.errors?null:s.errors.email),l.xp6(1),l.Q6J("ngStyle",l.WLB(17,Ql,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(2),l.Q6J("ngIf",null==(c=r.myForm.get("contrasena"))||null==c.errors?null:c.errors.minlength),l.xp6(1),l.Q6J("ngIf",null==(d=r.myForm.get("contrasena"))||null==d.errors?null:d.errors.required),l.xp6(1),l.Q6J("ngStyle",l.WLB(20,Ql,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(2),l.Q6J("ngIf",null==(f=r.myForm.get("contrasena"))||null==f.errors?null:f.errors.minlength),l.xp6(1),l.Q6J("ngIf",null==(g=r.myForm.get("contrasena"))||null==g.errors?null:g.errors.required),l.xp6(1),l.Q6J("ngStyle",l.WLB(23,Ql,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(1),l.Q6J("ngIf",r.checarSiSonIguales()),l.xp6(1),l.Q6J("ngStyle",l.WLB(26,Ql,r.accesibilidad.font_size,r.accesibilidad.font_p))("disabled",r.myForm.invalid)}},directives:[us,Tc,Ec,Fl,tr,Rl,bu,Ul],styles:[".form-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#42c79b;font-weight:900;font-style:italic}"]}),n})();const m6=function(n){return{toggled:n}},y6=function(){return["/inicioUser"]},_6=function(){return["/compras"]},v6=function(){return["/comprasHechas"]};let R1=(()=>{class n{constructor(t){this.authService=t,this.band=!1,this.user="hola",this.imagenLogIn="assets/img/undraw_profile.svg",yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.authService.getUserLogged().subscribe(r=>{this.user=null==r?void 0:r.displayName,this.imagenLogIn=null==r?void 0:r.photoURL,null!=this.imagenLogIn||(this.imagenLogIn="assets/img/undraw_profile.svg"),yt().close()},r=>{yt().close(),yt().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal...Revisa tu conexion a internet ",confirmButtonText:"Entendido"})})}ngOnInit(){}click(){this.band=0==this.band}logOut(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ol))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar-user"]],inputs:{band:"band"},decls:33,vars:11,consts:[["id","accordionSidebar",1,"navbar-nav","bg-gradient-primary","sidebar","sidebar-dark","accordion",3,"ngClass"],[1,"sidebar-brand","d-flex","align-items-center","justify-content-center"],[1,"sidebar-brand-icon","rotate-n-15"],["alt","","width","35","height","35",3,"src"],[1,"sidebar-brand-text","mx-3"],[1,"sidebar-divider","my-0"],["routerLinkActive","active-link",1,"nav-item","active"],[1,"nav-link",3,"routerLink"],[1,"icon-home"],[1,"icon-shopping-cart"],[1,"sidebar-divider"],[1,"sidebar-heading"],[1,"icon-credit-card"],[1,"text-center","d-none","d-md-inline"],["id","sidebarToggle",1,"rounded-circle","border-0",3,"click"],[1,"sidebar-card","d-none","d-lg-flex"],["src","assets/img/undraw_rocket.svg","alt","...",1,"sidebar-card-illustration","mb-2"],[1,"text-center","mb-2"]],template:function(t,r){1&t&&(l.TgZ(0,"ul",0)(1,"a",1)(2,"div",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"div",4),l._uU(5),l.qZA()(),l._UZ(6,"hr",5),l.TgZ(7,"li",6)(8,"a",7),l._UZ(9,"i",8),l.TgZ(10,"span"),l._uU(11,"Inicio"),l.qZA()()(),l.TgZ(12,"li",6)(13,"a",7),l._UZ(14,"i",9),l.TgZ(15,"span"),l._uU(16,"Comprar"),l.qZA()()(),l._UZ(17,"hr",10),l.TgZ(18,"div",11),l._uU(19," Consultas "),l.qZA(),l.TgZ(20,"li",6)(21,"a",7),l._UZ(22,"i",12),l.TgZ(23,"span"),l._uU(24,"Tickets de compra por producto"),l.qZA()()(),l._UZ(25,"hr",10),l.TgZ(26,"div",13)(27,"button",14),l.NdJ("click",function(){return r.click()}),l.qZA()(),l.TgZ(28,"div",15),l._UZ(29,"img",16),l.TgZ(30,"p",17),l._UZ(31,"strong"),l._uU(32," No olvides reportar inconsistencias en el sistema para seguir mejorando nuestra app..."),l.qZA()()()),2&t&&(l.Q6J("ngClass",l.VKq(6,m6,!r.band)),l.xp6(3),l.Q6J("src",r.imagenLogIn,l.LSH),l.xp6(2),l.Oqu(r.user),l.xp6(3),l.Q6J("routerLink",l.DdM(8,y6)),l.xp6(5),l.Q6J("routerLink",l.DdM(9,_6)),l.xp6(8),l.Q6J("routerLink",l.DdM(10,v6)))},directives:[Ts,rp,Cc],styles:["ul[_ngcontent-%COMP%]{height:100%}.active-link[_ngcontent-%COMP%]{color:#000!important}img[_ngcontent-%COMP%]{border-radius:50%}"]}),n})(),N1=(()=>{class n{constructor(t){this.auth=t,this.band=!1,this.img="assets/img/undraw_profile.svg",this.emitBand=new l.vpe}ngOnInit(){this.getEmail()}logOut(){this.auth.signOut()}click(){this.band=0==this.band,this.emitBand.emit(this.band)}getEmail(){this.auth.getUserLogged().subscribe(t=>{this.user=null==t?void 0:t.email,this.img=null==t?void 0:t.photoURL,null!=this.img||(this.img="assets/img/undraw_profile.svg")})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ol))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar-top-user"]],outputs:{emitBand:"emitBand"},decls:19,vars:1,consts:[[1,"navbar","navbar-expand","navbar-light","bg-white","topbar","mb-4","static-top","shadow"],[1,"navbar-brand"],["id","logo","src","assets/img/logotipo.png","alt","","width","50px"],[1,"lema-top"],["id","sidebarToggleTop",1,"btn","btn-link","d-md-none","rounded-circle","mr-3",3,"click"],[1,"fa","fa-bars"],[1,"navbar-nav","ml-auto"],[1,"topbar-divider","d-none","d-sm-block"],[1,"nav-item","dropdown","no-arrow"],["href","#","id","userDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"mr-2","d-none","d-lg-inline","text-gray-600","small"],["src","assets/img/undraw_profile.svg",1,"img-profile","rounded-circle"],["aria-labelledby","userDropdown",1,"dropdown-menu","dropdown-menu-right","shadow","animated--grow-in"],[1,"dropdown-divider"],["data-toggle","modal","data-target","#logoutModal",1,"dropdown-item",3,"click"],[1,"fas","fa-sign-out-alt","fa-sm","fa-fw","mr-2","text-gray-400"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0)(1,"a",1),l._UZ(2,"img",2),l.qZA(),l.TgZ(3,"h3",3),l._uU(4,"Innovaci\xf3n de hoy para el \xe9xito del ma\xf1ana."),l.qZA(),l.TgZ(5,"button",4),l.NdJ("click",function(){return r.click()}),l._UZ(6,"i",5),l.qZA(),l.TgZ(7,"ul",6),l._UZ(8,"div",7),l.TgZ(9,"li",8)(10,"a",9)(11,"span",10),l._uU(12),l.qZA(),l._UZ(13,"img",11),l.qZA(),l.TgZ(14,"div",12),l._UZ(15,"div",13),l.TgZ(16,"a",14),l.NdJ("click",function(){return r.logOut()}),l._UZ(17,"i",15),l._uU(18," Logout "),l.qZA()()()()()),2&t&&(l.xp6(12),l.Oqu(r.user))},styles:["ul[_ngcontent-%COMP%]{height:100%}.active-link[_ngcontent-%COMP%]{color:#000!important}"]}),n})(),b6=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.band=!1}ngOnInit(){this.getEmail()}click(){this.band=0==this.band}logOut(){this.auth.signOut()}getEmail(){this.auth.getUserLogged().subscribe(t=>{this.user=null==t?void 0:t.email})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ol),l.Y36(Gr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-inicio-user"]],decls:89,vars:1,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"emitBand"],[1,"container-fluid","carrucel"],["id","carouselExampleCaptions","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#carouselExampleCaptions","data-slide-to","0",1,"active"],["data-target","#carouselExampleCaptions","data-slide-to","1"],["data-target","#carouselExampleCaptions","data-slide-to","2"],["data-target","#carouselExampleCaptions","data-slide-to","3"],["data-target","#carouselExampleCaptions","data-slide-to","4"],["data-target","#carouselExampleCaptions","data-slide-to","5"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","../../../assets/img/articulos/audifonos_inalambricos.png","alt","...",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block","partext"],[1,"carousel-item"],["src","../../../assets/img/articulos/reloj_lige.png","alt","...",1,"d-block","w-100"],["src","../../../assets/img/articulos/switch.jpg","alt","...",1,"d-block","w-100"],["src","../../../assets/img/articulos/bocina_amazon.png","alt","...",1,"d-block","w-100"],["src","../../../assets/img/articulos/smartWatch.jpg","alt","...",1,"d-block","w-100"],["src","../../../assets/img/articulos/teclado_mouse_game.jfif","alt","...",1,"d-block","w-100"],["type","button","data-target","#carouselExampleCaptions","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["type","button","data-target","#carouselExampleCaptions","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-user",2),l.TgZ(3,"div",3)(4,"div",4)(5,"app-navbar-top-user",5),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(6,"div",6)(7,"div",7)(8,"ol",8),l._UZ(9,"li",9)(10,"li",10)(11,"li",11)(12,"li",12)(13,"li",13)(14,"li",14),l.qZA(),l.TgZ(15,"div",15)(16,"div",16),l._UZ(17,"img",17),l.TgZ(18,"div",18)(19,"h5"),l._uU(20,"Audifonos Inalambricos"),l.qZA(),l.TgZ(21,"p"),l._uU(22,"La mejor tecnolog\xeda potencia y durabilidad"),l.qZA()()(),l.TgZ(23,"div",19),l._UZ(24,"img",20),l.TgZ(25,"div",18)(26,"h5"),l._uU(27,"Reloj Lijero"),l.qZA(),l.TgZ(28,"p"),l._uU(29,"Listamos los relojes m\xe1s ligeros que, tambi\xe9n, son verdaderos objetos de deseo"),l.qZA()()(),l.TgZ(30,"div",19),l._UZ(31,"img",21),l.TgZ(32,"div",18)(33,"h5"),l._uU(34,"Consola Nitendo Switch"),l.qZA(),l.TgZ(35,"p"),l._uU(36,"Nintendo Switch est\xe1 dise\xf1ado para IR a donde quiera que vaya, transformando la consola de casa en un sistema port\xe1til en un abrir y cerrar de ojos"),l.qZA()()(),l.TgZ(37,"div",19),l._UZ(38,"img",22),l.TgZ(39,"div",18)(40,"h5"),l._uU(41,"Bocina Asistente Personal"),l.qZA(),l.TgZ(42,"p"),l._uU(43,"Descubre nuestras grandes ofertas y descuentos en nuestras bocinas con asistente!!!"),l.qZA()()(),l.TgZ(44,"div",19),l._UZ(45,"img",23),l.TgZ(46,"div",18)(47,"h5"),l._uU(48,"SmartWatch"),l.qZA(),l.TgZ(49,"p"),l._uU(50,"Dale un vidstazo a nuestro relojes inteligentes para toda ocasi\xf3n, duse\xf1o y elegancia y por supuesto la mejor tecnolog\xeda en la palma de tu mano"),l.qZA()()(),l.TgZ(51,"div",19),l._UZ(52,"img",24),l.TgZ(53,"div",18)(54,"h5"),l._uU(55,"Componentes Gamer"),l.qZA(),l.TgZ(56,"p"),l._uU(57,"Toda la calidad y dise\xf1o en nuestros producto gamer de la mejor gama"),l.qZA()()()(),l.TgZ(58,"button",25),l._UZ(59,"span",26),l.TgZ(60,"span",27),l._uU(61,"Previous"),l.qZA()(),l.TgZ(62,"button",28),l._UZ(63,"span",29),l.TgZ(64,"span",27),l._uU(65,"Next"),l.qZA()()()()(),l.TgZ(66,"footer",30)(67,"div",31)(68,"div",32)(69,"span"),l._uU(70,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()()()()(),l.TgZ(71,"a",33),l._UZ(72,"i",34),l.qZA(),l.TgZ(73,"div",35)(74,"div",36)(75,"div",37)(76,"div",38)(77,"h5",39),l._uU(78,"Ready to Leave?"),l.qZA(),l.TgZ(79,"button",40)(80,"span",41),l._uU(81,"\xd7"),l.qZA()()(),l.TgZ(82,"div",42),l._uU(83,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(84,"div",43)(85,"button",44),l._uU(86,"Cancel"),l.qZA(),l.TgZ(87,"a",45),l._uU(88,"Logout"),l.qZA()()()()()()),2&t&&(l.xp6(2),l.Q6J("band",r.band))},directives:[R1,N1],styles:["img[_ngcontent-%COMP%]{width:80%;height:30%}.carrucel[_ngcontent-%COMP%]{width:55%;height:10%}.active[_ngcontent-%COMP%]{background:red}li[_ngcontent-%COMP%]{background:#65b7ff}h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff;text-shadow:5px 5px 4px black}.partext[_ngcontent-%COMP%]{background-color:#2942ff7f;border-radius:20px;height:auto}button[_ngcontent-%COMP%]{color:#2929bb}"]}),n})();const Fo=function(n,e){return{"font-size.px":n,"font-family":e}};let w6=(()=>{class n{constructor(t){this.accesibilidad=t,this.costo_env=258.98,this.costo_ped=800}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-faq"]],decls:59,vars:71,consts:[[1,"container","faq"],[1,"row"],[1,"col"],[1,"question",3,"ngStyle"],[1,"answer",3,"ngStyle"],[1,"sidebar-divider","my-0"],[1,"answer"],[3,"ngStyle"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),l._uU(4,"\xbfC\xf3mo puedo registrar en la tienda?"),l.qZA()(),l.TgZ(5,"div",2)(6,"p",4),l._uU(7,"Esto se hace con unos sencillos pasos, se registra con su correo, fecebook o num\xe9ro de celular y de esa forma facil tendr\xe1 una cuenta en nuestra tienda. "),l.qZA()()(),l._UZ(8,"hr",5),l.TgZ(9,"div",1)(10,"div",2)(11,"p",3),l._uU(12,"\xbfSi no estoy registardo puedo comprar en la tienda de electr\xf3nica Halc\xf3n?"),l.qZA()(),l.TgZ(13,"div",2)(14,"p",4),l._uU(15,"Lamentablemente si usted no esta registrado a nuestra tienda no podr\xe1 adquirir nuestros productos, esto es para beneficio de ambas partes respaldarnos a usted y a nosotros en cada una de las compras que se hagan como garant\xeda de que su producto llegar\xe1 bien y de que usted es una persona real. "),l.qZA()()(),l._UZ(16,"hr",5),l.TgZ(17,"div",1)(18,"div",2)(19,"p",3),l._uU(20,"\xbfTienen garant\xeda mis compras?"),l.qZA()(),l.TgZ(21,"div",2)(22,"p",4),l._uU(23),l.ALo(24,"percent"),l.qZA()()(),l._UZ(25,"hr",5),l.TgZ(26,"div",1)(27,"div",2)(28,"p",3),l._uU(29,"\xbfQu\xe9 m\xe9todos de pago aceptan?"),l.qZA()(),l.TgZ(30,"div",2)(31,"div",6)(32,"ul")(33,"li",7),l._uU(34,"En OXXO con efectivo"),l.qZA(),l.TgZ(35,"li",7),l._uU(36,"Ventanilla bancaria"),l.qZA(),l.TgZ(37,"li",7),l._uU(38,"Con tarjeta de d\xe9bito"),l.qZA(),l.TgZ(39,"li",7),l._uU(40,"Con Pay-Pal"),l.qZA()()()()(),l._UZ(41,"hr",5),l.TgZ(42,"div",1)(43,"div",2)(44,"p",3),l._uU(45,"\xbfA que partes de la Republica Mexicana tiene cobertura de envio?"),l.qZA()(),l.TgZ(46,"div",2)(47,"p",4),l._uU(48,"Tenemos envios acualquier parte de la Republica Mexicana"),l.qZA()()(),l._UZ(49,"hr",5),l.TgZ(50,"div",1)(51,"div",2)(52,"p",3),l._uU(53,"\xbfQu\xe9 costo tiene el envio?"),l.qZA()(),l.TgZ(54,"div",2)(55,"p",4),l._uU(56),l.ALo(57,"currency"),l.ALo(58,"currency"),l.qZA()()()()),2&t&&(l.xp6(3),l.Q6J("ngStyle",l.WLB(26,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(3),l.Q6J("ngStyle",l.WLB(29,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(5),l.Q6J("ngStyle",l.WLB(32,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(3),l.Q6J("ngStyle",l.WLB(35,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(5),l.Q6J("ngStyle",l.WLB(38,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(3),l.Q6J("ngStyle",l.WLB(41,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(1),l.hij("Todos nuestros productos son ",l.lcZ(24,18,"100")," garantizados, ya que son de alta calidad, si el producto esta da\xf1ado de fabrica tendra que contactarse con nosotros e inmediatamente ser\xe1 atendido y nos explicar\xe1 el da\xf1o, nosotros lo anotaremos y tendr\xe1 que enviarnos el producto y cuando sea as\xed se le entregar\xe1 otro producto de las mismas caracteristicas y sino no es as\xed se le regresar\xe1 su dinero. "),l.xp6(5),l.Q6J("ngStyle",l.WLB(44,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(5),l.Q6J("ngStyle",l.WLB(47,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(2),l.Q6J("ngStyle",l.WLB(50,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(2),l.Q6J("ngStyle",l.WLB(53,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(2),l.Q6J("ngStyle",l.WLB(56,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(5),l.Q6J("ngStyle",l.WLB(59,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(3),l.Q6J("ngStyle",l.WLB(62,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(5),l.Q6J("ngStyle",l.WLB(65,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(3),l.Q6J("ngStyle",l.WLB(68,Fo,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(1),l.AsE("El envio tiene un costo ",l.xi3(57,20,r.costo_env,"$"),", solamente los pedidos de m\xe1s de ",l.xi3(58,23,r.costo_ped,"$"),""))},directives:[us],pipes:[mi,ho],styles:["p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{color:#000;text-align:justify;background:rgba(255,255,255,.567);border-radius:20px;padding:1em}ul[_ngcontent-%COMP%]{padding:2em}li[_ngcontent-%COMP%]{color:#000}.container[_ngcontent-%COMP%]{padding:2em}.question[_ngcontent-%COMP%]{font-family:monospace;font-weight:700}.answer[_ngcontent-%COMP%]{font-family:Arial;text-align:justify}"]}),n})();function C6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",49)(1,"img",50),l.NdJ("click",function(i){return l.CHM(t),l.oxw().cargaImagen(i)}),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(1),l.s9C("src",t,l.LSH)}}const x6=function(n){return{"width.%":n}};function E6(n,e){if(1&n&&(l.TgZ(0,"div",25)(1,"div",51)(2,"span"),l._uU(3,"Subiendo datos"),l.qZA()(),l.TgZ(4,"div",51)(5,"div",52),l._UZ(6,"div",53),l.ALo(7,"async"),l.qZA()(),l._UZ(8,"div",51),l.qZA()),2&n){const t=l.oxw();l.xp6(6),l.Q6J("ngStyle",l.VKq(3,x6,l.lcZ(7,1,t.porcentaje)))}}let T6=(()=>{class n{constructor(t,r,i,s){this.activatedRoute=t,this.peticiones=r,this.storage=i,this.router=s,this.bandera=!1,this.band=!1,this.imageUrl="../../../assets/img/upload.png",this.myImages=[],this.band_select=!0,this.activatedRoute.params.subscribe(c=>{this.id=c.id,this.getCompra()}),this.myForm=new la({nombre:new In("",[_n.required]),descripcion:new In("",[_n.required]),precio_unitario:new In("",[_n.required]),cantidad:new In("",[_n.required]),imagen:new In("",[_n.required]),fecha:new In({value:"",disabled:!0},[_n.required]),total:new In({value:"",disabled:!0},[_n.required])})}ngOnInit(){var t=this;S1(Jb(eM(),"productos")).then(function(){var s=(0,Be.Z)(function*(c){for(let d of c.items){const f=yield M1(d);t.myImages.push(f)}});return function(c){return s.apply(this,arguments)}}()).catch(s=>console.log(s))}getCompra(){yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.peticiones.consultaUno(`consultaUno/compras/${this.id}`).subscribe(t=>{var r,i,s,c,d,f,g;console.log(t.data),this.myCompra=t.data,null===(r=this.myForm.get("nombre"))||void 0===r||r.setValue(this.myCompra.nombre),null===(i=this.myForm.get("descripcion"))||void 0===i||i.setValue(this.myCompra.descripcion),null===(s=this.myForm.get("precio_unitario"))||void 0===s||s.setValue(this.myCompra.precio_unitario),null===(c=this.myForm.get("cantidad"))||void 0===c||c.setValue(this.myCompra.cantidad),null===(d=this.myForm.get("imagen"))||void 0===d||d.setValue(this.myCompra.imagen),null===(f=this.myForm.get("fecha"))||void 0===f||f.setValue(this.myCompra.fecha),null===(g=this.myForm.get("total"))||void 0===g||g.setValue(this.myCompra.total),this.imageUrl=this.myForm.value.imagen,yt().close()})}update(){const t=Math.random().toString(36).substring(2);if(console.log(this.myForm),this.band_select)this.imageUrl="../../../assets/img/upload.png",this.peticiones.actualizar(`actualizarAlgo/compras/${this.id}`,this.myForm.getRawValue()).subscribe(r=>{console.log(r)}),this.myForm.reset();else{this.band=!0;const r=`productos/${t}_${this.file.name}`,i=this.storage.ref(r),s=this.storage.upload(r,this.file);this.porcentaje=s.percentageChanges(),s.snapshotChanges().pipe(cu(()=>{i.getDownloadURL().subscribe(c=>{this.dirImagen=c,console.log(this.dirImagen),this.myForm.value.imagen=this.dirImagen,this.band=!1,this.imageUrl="../../../assets/img/upload.png",this.peticiones.actualizar(`actualizarAlgo/compras/${this.id}`,this.myForm.getRawValue()).subscribe(d=>{console.log(d)}),this.myForm.reset()})})).subscribe(()=>{})}yt().fire({title:"Operaci\xf3n exitosa...",text:"Los datos fueron actualizados ",icon:"success",confirmButtonText:"Entendido"}),this.router.navigate(["/consultaCompras"])}mostrar(t){this.file=t.target.files[0];const r=new FileReader;r.onload=()=>this.imageUrl=r.result,r.readAsDataURL(this.file),this.band_select=!1}click(){this.bandera=0==this.bandera}modifica(){var t;let r=this.myForm.value.precio_unitario,i=this.myForm.value.cantidad;console.log(this.myForm.getRawValue()),null===(t=this.myForm.get("total"))||void 0===t||t.setValue(r*i)}cargaImagen(t){var r,i,s;let c=this.imageUrl=t.target.src;null===(r=this.myForm.get("imagen"))||void 0===r||r.setValue(c),null===(i=this.myForm.get("imagen"))||void 0===i||i.setValidators([]),null===(s=this.myForm.get("imagen"))||void 0===s||s.updateValueAndValidity(),this.band_select=!0,console.log(this.myForm.value)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ga),l.Y36(ua),l.Y36(P1),l.Y36(Gr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-editar-compra"]],decls:97,vars:7,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"emitBand"],[1,"container-fluid"],[1,"container"],[3,"formGroup"],[1,"row","mt-2"],[1,"col-sm","col-md","col-lg-4"],[1,"col-sm","col-md","col-lg-8"],["type","text","formControlName","nombre",1,"form-control"],["id","exampleFormControlTextarea1","rows","3","formControlName","descripcion",1,"form-control"],["type","number","formControlName","precio_unitario",1,"form-control",3,"change","keyup"],["type","number","formControlName","cantidad",1,"form-control",3,"change","keyup"],["type","number","formControlName","total",1,"form-control"],["type","date","formControlName","fecha",1,"form-control"],["type","file",3,"change"],["foto",""],["id","drop",1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","dropdown-toggle"],[1,"icon-picture-o"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","scrollable-menu",2,"background","#b4bdff"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"col-lg-2"],["id","imagen",1,"col-sm","col-md","col-lg-8"],["alt","",3,"src"],["class","row mt-4",4,"ngIf"],[1,"button","mt-4"],["type","submit",1,"btn","btn-danger",3,"disabled","click"],["type","reset",1,"btn","btn-info","ml-4"],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"dropdown-item"],["alt","",3,"src","click"],[1,"col-lg-4"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-admin",2),l.TgZ(3,"div",3)(4,"div",4)(5,"app-topbar",5),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(6,"div",6)(7,"div",7)(8,"h1"),l._uU(9,"Editar Compra"),l.qZA(),l.TgZ(10,"form",8)(11,"div",9)(12,"div",10)(13,"span"),l._uU(14,"Nombre"),l.qZA()(),l.TgZ(15,"div",11),l._UZ(16,"input",12),l.qZA()(),l.TgZ(17,"div",9)(18,"div",10)(19,"span"),l._uU(20,"Descripci\xf3n"),l.qZA()(),l.TgZ(21,"div",11),l._UZ(22,"textarea",13),l.qZA()(),l.TgZ(23,"div",9)(24,"div",10)(25,"span"),l._uU(26,"Precio"),l.qZA()(),l.TgZ(27,"div",11)(28,"input",14),l.NdJ("change",function(){return r.modifica()})("keyup",function(){return r.modifica()}),l.qZA()()(),l.TgZ(29,"div",9)(30,"div",10)(31,"span"),l._uU(32,"Cantidad"),l.qZA()(),l.TgZ(33,"div",11)(34,"input",15),l.NdJ("change",function(){return r.modifica()})("keyup",function(){return r.modifica()}),l.qZA()()(),l.TgZ(35,"div",9)(36,"div",10)(37,"span"),l._uU(38,"Total"),l.qZA()(),l.TgZ(39,"div",11),l._UZ(40,"input",16),l.qZA()(),l.TgZ(41,"div",9)(42,"div",10)(43,"span"),l._uU(44,"Fecha"),l.qZA()(),l.TgZ(45,"div",11),l._UZ(46,"input",17),l.qZA()(),l.TgZ(47,"div",9)(48,"div",10)(49,"span"),l._uU(50,"Imagen"),l.qZA()(),l.TgZ(51,"div",11)(52,"input",18,19),l.NdJ("change",function(s){return r.mostrar(s)}),l.qZA()()(),l.TgZ(54,"div",9)(55,"div",10)(56,"span"),l._uU(57,"Imagenes disponibles"),l.qZA()(),l.TgZ(58,"div",11)(59,"div",20)(60,"button",21),l._UZ(61,"i",22),l.qZA(),l.TgZ(62,"div",23),l.YNc(63,C6,2,1,"a",24),l.qZA()()()(),l.TgZ(64,"div",25),l._UZ(65,"div",26),l.TgZ(66,"div",27),l._UZ(67,"img",28),l.qZA()(),l.YNc(68,E6,9,5,"div",29),l.TgZ(69,"div",30)(70,"button",31),l.NdJ("click",function(){return r.update()}),l._uU(71,"Enviar"),l.qZA(),l.TgZ(72,"button",32),l._uU(73,"Limpiar"),l.qZA()()()()()(),l.TgZ(74,"footer",33)(75,"div",34)(76,"div",35)(77,"span"),l._uU(78,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()()()()(),l.TgZ(79,"a",36),l._UZ(80,"i",37),l.qZA(),l.TgZ(81,"div",38)(82,"div",39)(83,"div",40)(84,"div",41)(85,"h5",42),l._uU(86,"Ready to Leave?"),l.qZA(),l.TgZ(87,"button",43)(88,"span",44),l._uU(89,"\xd7"),l.qZA()()(),l.TgZ(90,"div",45),l._uU(91,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(92,"div",46)(93,"button",47),l._uU(94,"Cancel"),l.qZA(),l.TgZ(95,"a",48),l._uU(96,"Logout"),l.qZA()()()()()()),2&t&&(l.xp6(2),l.Q6J("band",!r.bandera),l.xp6(8),l.Q6J("formGroup",r.myForm),l.xp6(53),l.Q6J("ngForOf",r.myImages),l.xp6(4),l.Q6J("src",r.imageUrl,l.LSH),l.xp6(1),l.Q6J("ngIf",r.band),l.xp6(2),l.Q6J("disabled",r.myForm.invalid)("disabled",r.myForm.invalid))},directives:[ih,sh,Tc,Ec,Fl,Rl,bu,Ul,Uh,Dn,tr,us],pipes:[fa],styles:["span[_ngcontent-%COMP%]{color:#000;text-align:justify;float:right}h1[_ngcontent-%COMP%]{text-align:center}.button[_ngcontent-%COMP%], #imagen[_ngcontent-%COMP%]{display:flex;justify-content:center}img[_ngcontent-%COMP%]{width:100px;border-radius:15px}#progress[_ngcontent-%COMP%]{display:flex;justify-content:center}.scrollable-menu[_ngcontent-%COMP%]{height:auto!important;max-height:200px!important;overflow-x:hidden!important}"]}),n})(),I6=(()=>{class n{constructor(t){this.firestore=t,this.ventas=this.firestore.collection("ventas").valueChanges(),this.ventasRef=this.firestore.collection("ventas")}consultarRealVenta(){throw new Error("Method not implemented.")}addVenta(t){const r=this.firestore.createId(),i=Object.assign({id:r},t);this.ventasRef.doc(r).set(i)}updateVenta(t){this.firestore.collection("ventas").doc(t.id).update(t)}getVentas(){return this.ventas}getVenta(t){return this.firestore.collection("ventas").doc(t).get().subscribe(r=>console.log(r)),this.firestore.collection("producto").doc(t).valueChanges()}deleteVenta(t){this.firestore.collection("ventas").doc(t.id).delete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(GP))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GR=(()=>{class n{transform(t,r=!0){let i=(t=t.toLowerCase()).split(" ");if(r)for(let s in i)i[s]=i[s][0].toUpperCase()+i[s].substr(1);else i[0]=i[0][0].toUpperCase()+i[0].substr(1);return i.join(" ")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"capitalizado",type:n,pure:!0}),n})();function D6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div"),l._UZ(1,"img",28),l.TgZ(2,"div",29)(3,"h2",30),l._uU(4),l.ALo(5,"capitalizado"),l.qZA(),l.TgZ(6,"h5"),l._uU(7),l.qZA(),l.TgZ(8,"h5"),l._uU(9),l.ALo(10,"number"),l.qZA(),l.TgZ(11,"p",31),l._uU(12),l.qZA()(),l._UZ(13,"hr",32),l.TgZ(14,"div",33)(15,"button",34),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit;return l.oxw().comprar(i.id)}),l._UZ(16,"a",35),l.TgZ(17,"span"),l._uU(18," Comprar"),l.qZA()(),l.TgZ(19,"button",36),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit;return l.oxw().clickqr(i.id)}),l._UZ(20,"a",37),l.TgZ(21,"span"),l._uU(22," Generar QR del producto"),l.qZA()()()()}if(2&n){const t=l.oxw().$implicit;l.xp6(1),l.s9C("src",t.imagen,l.LSH),l.xp6(3),l.Oqu(l.xi3(5,5,t.nombre,!0)),l.xp6(3),l.hij("Existencia: ",t.cantidad,""),l.xp6(2),l.hij("Precio: $",l.xi3(10,8,t.precio,".0-3"),""),l.xp6(3),l.hij(" ",t.descripcion,"")}}function A6(n,e){if(1&n&&(l.TgZ(0,"div",26),l.YNc(1,D6,23,11,"div",27),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",t.cantidad>0)}}let S6=(()=>{class n{constructor(t,r,i,s,c,d){this.productoService=t,this.peticionesServicio=r,this.ventaService=i,this.authService=s,this.httpCliente=c,this.router=d,this.band=!1,this.msgCompra="",this.paises=[],this.httpCliente.get("https://restcountries.com/v2/lang/es").subscribe(f=>{this.paises=f},f=>console.log(f))}ngOnInit(){yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.productoService.getProducts().subscribe(t=>{this.products=t,yt().close()})}comprar(t){yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.addVen(t)}addVen(t){yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.peticionesServicio.comprarProducto(t).subscribe(r=>{this.msgCompra=r.msg,this.product=r.producto,this.authService.getUserLogged().subscribe(s=>{let c=this.random();this.datosVenta={correoUsario:s.email,costo:this.product.precio,imgProducto:this.product.imagen,paisOrigen:this.paises[c].flag,nombrePais:this.paises[c].name},this.ventaService.addVenta(this.datosVenta)}),yt().close()})}click(){this.band=0==this.band}clickqr(t){yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.peticionesServicio.qrangular(t).subscribe(r=>{this.productoqr=r.respuesta,this.router.navigate(["/qr",this.productoqr.nombre,this.productoqr.id,this.productoqr.cantidad,this.productoqr.precio,this.productoqr.descripcion,this.productoqr.imagen]),yt().close()})}random(){return Math.round(23*Math.random()+0)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zb),l.Y36(ua),l.Y36(I6),l.Y36(ol),l.Y36(Gb),l.Y36(Gr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-compras"]],decls:34,vars:2,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"emitBand"],[1,"container-fluid"],[2,"text-align","center"],[1,"card-columns"],["class","card",4,"ngFor","ngForOf"],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"card"],[4,"ngIf"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text","text-justify"],[1,"sidebar-divider","my-0"],[1,"foot"],["type","button",1,"btn","btn-info",3,"click"],[1,"icon-cart-plus"],["type","button",1,"btn","btn-danger",3,"click"],[1,"icon-qrcode"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-user",2),l.TgZ(3,"div",3)(4,"div",4)(5,"app-navbar-top-user",5),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(6,"div",6)(7,"h2",7),l._uU(8,"Productos De Electronica Halc\xf3n"),l.qZA(),l.TgZ(9,"div",8),l.YNc(10,A6,2,1,"div",9),l.qZA()()(),l.TgZ(11,"footer",10)(12,"div",11)(13,"div",12)(14,"span"),l._uU(15,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()()()()(),l.TgZ(16,"a",13),l._UZ(17,"i",14),l.qZA(),l.TgZ(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18)(22,"h5",19),l._uU(23,"Ready to Leave?"),l.qZA(),l.TgZ(24,"button",20)(25,"span",21),l._uU(26,"\xd7"),l.qZA()()(),l.TgZ(27,"div",22),l._uU(28,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(29,"div",23)(30,"button",24),l._uU(31,"Cancel"),l.qZA(),l.TgZ(32,"a",25),l._uU(33,"Logout"),l.qZA()()()()()()),2&t&&(l.xp6(2),l.Q6J("band",r.band),l.xp6(8),l.Q6J("ngForOf",r.products))},directives:[R1,N1,Dn,tr],pipes:[GR,ai],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.foot[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:5px}"]}),n})();var M6=V(2516),k6=V.n(M6),nM=function(){function n(e){this.elementRef=e,this.background="white",this.backgroundAlpha=1,this.foreground="black",this.foregroundAlpha=1,this.level="L",this.mime="image/png",this.padding=null,this.size=100,this.value="",this.canvas=!1}return n.prototype.ngOnChanges=function(e){("background"in e||"backgroundAlpha"in e||"foreground"in e||"foregroundAlpha"in e||"level"in e||"mime"in e||"padding"in e||"size"in e||"value"in e||"canvas"in e)&&this.generate()},n.prototype.generate=function(){try{var e=this.elementRef.nativeElement;e.innerHTML="";var t=new(k6())({background:this.background,backgroundAlpha:this.backgroundAlpha,foreground:this.foreground,foregroundAlpha:this.foregroundAlpha,level:this.level,mime:this.mime,padding:this.padding,size:this.size,value:this.value});e.appendChild(this.canvas?t.canvas:t.image)}catch(r){console.error("Could not generate QR Code: "+r.message)}},n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["qr-code"]],inputs:{background:"background",backgroundAlpha:"backgroundAlpha",foreground:"foreground",foregroundAlpha:"foregroundAlpha",level:"level",mime:"mime",padding:"padding",size:"size",value:"value",canvas:"canvas"},features:[l.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n}();nM.ctorParameters=function(){return[{type:l.SBq}]},nM.propDecorators={background:[{type:l.IIB}],backgroundAlpha:[{type:l.IIB}],foreground:[{type:l.IIB}],foregroundAlpha:[{type:l.IIB}],level:[{type:l.IIB}],mime:[{type:l.IIB}],padding:[{type:l.IIB}],size:[{type:l.IIB}],value:[{type:l.IIB}],canvas:[{type:l.IIB}]};var WR=function(){function n(){}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n}();WR.ctorParameters=function(){return[]};const O6=function(){return["/compras"]};let P6=(()=>{class n{constructor(t,r){this.activatedRoute=t,this.peticionesServicio=r,this.size=300,this.fondo="rgb(200, 220, 250)",this.colorqr="rgb(0, 78, 196)",this.qrInformacion="",this.informacion="",this.band=!1,this.nombreprod="",this.activatedRoute.params.subscribe(i=>{this.qrInformacion=`Nombre del producto:${i.nombre}\nPrecio: $${i.precio}\n\nDescripcion:\n${i.descripcion}\n\nFelicidades tienes el ${Math.round(35*Math.random()+5)}% de descuento con este c\xf3digo QR`,this.nombreprod=i.nombre,this.id=i.id}),yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.peticionesServicio.consultarProductoID(this.id).subscribe(i=>{this.product=i.respuesta,yt().close()})}ngOnInit(){}click(){this.band=0==this.band}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ga),l.Y36(ua))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-generar-qr"]],decls:52,vars:16,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"emitBand"],[1,"container-fluid","cent"],[2,"text-align","center"],[1,"row"],[1,"col-12","card-qr"],[1,"contenedorProd"],[1,"prod"],["alt","...",1,"card-img-top",3,"src"],[1,"card-title"],[1,"sidebar-divider","my-0"],[1,"row","cent"],[1,"col-12"],[1,"qr"],[3,"size","background","foreground","value"],[1,"nav-link","back",3,"routerLink"],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-user",2),l.TgZ(3,"div",3)(4,"div",4)(5,"app-navbar-top-user",5),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(6,"div",6)(7,"h2",7),l._uU(8,"Productos De Electronica Halc\xf3n"),l.qZA(),l.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11),l._UZ(13,"img",12),l.TgZ(14,"h2",13),l._uU(15),l.ALo(16,"capitalizado"),l.qZA(),l.TgZ(17,"h5"),l._uU(18),l.ALo(19,"number"),l.qZA()()()()(),l._UZ(20,"hr",14),l.TgZ(21,"div",15)(22,"div",16)(23,"div",17),l._UZ(24,"qr-code",18),l.qZA()()(),l._UZ(25,"hr"),l.TgZ(26,"a",19),l._uU(27,"Regresar"),l.qZA(),l._UZ(28,"hr"),l.qZA()(),l.TgZ(29,"footer",20)(30,"div",21)(31,"div",22)(32,"span"),l._uU(33,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()()()()(),l.TgZ(34,"a",23),l._UZ(35,"i",24),l.qZA(),l.TgZ(36,"div",25)(37,"div",26)(38,"div",27)(39,"div",28)(40,"h5",29),l._uU(41,"Ready to Leave?"),l.qZA(),l.TgZ(42,"button",30)(43,"span",31),l._uU(44,"\xd7"),l.qZA()()(),l.TgZ(45,"div",32),l._uU(46,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(47,"div",33)(48,"button",34),l._uU(49,"Cancel"),l.qZA(),l.TgZ(50,"a",35),l._uU(51,"Logout"),l.qZA()()()()()()),2&t&&(l.xp6(2),l.Q6J("band",r.band),l.xp6(11),l.s9C("src",r.product.imagen,l.LSH),l.xp6(2),l.Oqu(l.xi3(16,9,r.product.nombre,!0)),l.xp6(3),l.hij("Precio: $",l.xi3(19,12,r.product.precio,".0-3"),""),l.xp6(6),l.Q6J("size",r.size)("background",r.fondo)("foreground",r.colorqr)("value",r.qrInformacion),l.xp6(2),l.Q6J("routerLink",l.DdM(15,O6)))},directives:[R1,N1,nM,Cc],pipes:[GR,ai],styles:[".qr[_ngcontent-%COMP%], .centrar[_ngcontent-%COMP%], .cent[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;justify-items:center}.cent[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.contenedorProd[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.prod[_ngcontent-%COMP%]{width:350px}qr-code[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center}.back[_ngcontent-%COMP%]{font-family:Sporty}.card-qr[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;justify-items:center}"]}),n})();const KR="undefined"==typeof window?function(n){return n()}:window.requestAnimationFrame;function YR(n,e,t){const r=t||(c=>Array.prototype.slice.call(c));let i=!1,s=[];return function(...c){s=r(c),i||(i=!0,KR.call(window,()=>{i=!1,n.apply(e,s)}))}}const rM=n=>"start"===n?"left":"end"===n?"right":"center",oo=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function lh(){}const L6=function(){let n=0;return function(){return n++}}();function er(n){return null==n}function Nr(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Gn(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const Ii=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function Jl(n,e){return Ii(n)?n:e}function Tn(n,e){return void 0===n?e:n}const QR=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Lr(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function fr(n,e,t,r){let i,s,c;if(Nr(n))if(s=n.length,r)for(i=s-1;i>=0;i--)e.call(t,n[i],i);else for(i=0;i<s;i++)e.call(t,n[i],i);else if(Gn(n))for(c=Object.keys(n),s=c.length,i=0;i<s;i++)e.call(t,n[c[i]],c[i])}function L1(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function F1(n){if(Nr(n))return n.map(F1);if(Gn(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=F1(n[t[i]]);return e}return n}function JR(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function U6(n,e,t,r){if(!JR(n))return;const i=e[n],s=t[n];Gn(i)&&Gn(s)?Xb(i,s,r):e[n]=F1(s)}function Xb(n,e,t){const r=Nr(e)?e:[e],i=r.length;if(!Gn(n))return n;const s=(t=t||{}).merger||U6;for(let c=0;c<i;++c){if(!Gn(e=r[c]))continue;const d=Object.keys(e);for(let f=0,g=d.length;f<g;++f)s(d[f],n,e,t)}return n}function ew(n,e){return Xb(n,e,{merger:V6})}function V6(n,e,t){if(!JR(n))return;const r=e[n],i=t[n];Gn(r)&&Gn(i)?ew(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=F1(i))}function XR(n,e){const t=n.indexOf(".",e);return-1===t?n.length:t}function Af(n,e){if(""===e)return n;let t=0,r=XR(e,t);for(;n&&r>t;)n=n[e.slice(t,r)],t=r+1,r=XR(e,t);return n}function iM(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Xl=n=>void 0!==n,Sf=n=>"function"==typeof n,e2=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},Qr=Math.PI,xr=2*Qr,H6=xr+Qr,U1=Number.POSITIVE_INFINITY,q6=Qr/180,fi=Qr/2,tw=Qr/4,t2=2*Qr/3,ec=Math.log10,Yu=Math.sign;function n2(n){const e=Math.round(n);n=rw(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(ec(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function nw(n){return!isNaN(parseFloat(n))&&isFinite(n)}function rw(n,e,t){return Math.abs(n-e)<t}function r2(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Gc(n){return n*(Qr/180)}function sM(n){return n*(180/Qr)}function i2(n){if(!Ii(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function s2(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*Qr&&(s+=xr),{angle:s,distance:i}}function oM(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function G6(n,e){return(n-e+H6)%xr-Qr}function cl(n){return(n%xr+xr)%xr}function iw(n,e,t,r){const i=cl(n),s=cl(e),c=cl(t),d=cl(s-i),f=cl(c-i),g=cl(i-s),v=cl(i-c);return i===s||i===c||r&&s===c||d>f&&g<v}function xs(n,e,t){return Math.max(e,Math.min(t,n))}function ch(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}const V1=n=>0===n||1===n,o2=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*xr/t),a2=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*xr/t)+1,sw={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*fi),easeOutSine:n=>Math.sin(n*fi),easeInOutSine:n=>-.5*(Math.cos(Qr*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>V1(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>V1(n)?n:o2(n,.075,.3),easeOutElastic:n=>V1(n)?n:a2(n,.075,.3),easeInOutElastic:n=>V1(n)?n:n<.5?.5*o2(2*n,.1125,.45):.5+.5*a2(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-sw.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*sw.easeInBounce(2*n):.5*sw.easeOutBounce(2*n-1)+.5};function ow(n){return n+.5|0}const Mf=(n,e,t)=>Math.max(Math.min(n,t),e);function aw(n){return Mf(ow(2.55*n),0,255)}function kf(n){return Mf(ow(255*n),0,255)}function uh(n){return Mf(ow(n/2.55)/100,0,1)}function l2(n){return Mf(ow(100*n),0,100)}const tc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},aM=[..."0123456789ABCDEF"],K6=n=>aM[15&n],Y6=n=>aM[(240&n)>>4]+aM[15&n],B1=n=>(240&n)>>4==(15&n);const t5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function c2(n,e,t){const r=e*Math.min(t,1-t),i=(s,c=(s+n/30)%12)=>t-r*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function n5(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function r5(n,e,t){const r=c2(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function lM(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),c=Math.min(t,r,i),d=(s+c)/2;let f,g,v;return s!==c&&(v=s-c,g=d>.5?v/(2-s-c):v/(s+c),f=function i5(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}(t,r,i,v,s),f=60*f+.5),[0|f,g||0,d]}function cM(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(kf)}function uM(n,e,t){return cM(c2,n,e,t)}function u2(n){return(n%360+360)%360}const d2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},h2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let j1;const h5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,dM=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,a_=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Z1(n,e,t){if(n){let r=lM(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,0===e?360:1)),r=uM(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function f2(n,e){return n&&Object.assign(e||{},n)}function p2(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=kf(n[3]))):(e=f2(n,{r:0,g:0,b:0,a:1})).a=kf(e.a),e}function m5(n){return"r"===n.charAt(0)?function f5(n){const e=h5.exec(n);let r,i,s,t=255;if(e){if(e[7]!==r){const c=+e[7];t=e[8]?aw(c):Mf(255*c,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?aw(r):Mf(r,0,255)),i=255&(e[4]?aw(i):Mf(i,0,255)),s=255&(e[6]?aw(s):Mf(s,0,255)),{r,g:i,b:s,a:t}}}(n):function a5(n){const e=t5.exec(n);let r,t=255;if(!e)return;e[5]!==r&&(t=e[6]?aw(+e[5]):kf(+e[5]));const i=u2(+e[2]),s=+e[3]/100,c=+e[4]/100;return r="hwb"===e[1]?function s5(n,e,t){return cM(r5,n,e,t)}(i,s,c):"hsv"===e[1]?function o5(n,e,t){return cM(n5,n,e,t)}(i,s,c):uM(i,s,c),{r:r[0],g:r[1],b:r[2],a:t}}(n)}class H1{constructor(e){if(e instanceof H1)return e;const t=typeof e;let r;"object"===t?r=p2(e):"string"===t&&(r=function J6(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*tc[n[1]],g:255&17*tc[n[2]],b:255&17*tc[n[3]],a:5===e?17*tc[n[4]]:255}:(7===e||9===e)&&(t={r:tc[n[1]]<<4|tc[n[2]],g:tc[n[3]]<<4|tc[n[4]],b:tc[n[5]]<<4|tc[n[6]],a:9===e?tc[n[7]]<<4|tc[n[8]]:255})),t}(e)||function d5(n){j1||(j1=function u5(){const n={},e=Object.keys(h2),t=Object.keys(d2);let r,i,s,c,d;for(r=0;r<e.length;r++){for(c=d=e[r],i=0;i<t.length;i++)s=t[i],d=d.replace(s,d2[s]);s=parseInt(h2[c],16),n[d]=[s>>16&255,s>>8&255,255&s]}return n}(),j1.transparent=[0,0,0,0]);const e=j1[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||m5(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=f2(this._rgb);return e&&(e.a=uh(e.a)),e}set rgb(e){this._rgb=p2(e)}rgbString(){return this._valid?function p5(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${uh(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function e5(n){var e=(n=>B1(n.r)&&B1(n.g)&&B1(n.b)&&B1(n.a))(n)?K6:Y6;return n?"#"+e(n.r)+e(n.g)+e(n.b)+((n,e)=>n<255?e(n):"")(n.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function c5(n){if(!n)return;const e=lM(n),t=e[0],r=l2(e[1]),i=l2(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${uh(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const c=t===s?.5:t,d=2*c-1,f=r.a-i.a,g=((d*f==-1?d:(d+f)/(1+d*f))+1)/2;s=1-g,r.r=255&g*r.r+s*i.r+.5,r.g=255&g*r.g+s*i.g+.5,r.b=255&g*r.b+s*i.b+.5,r.a=c*r.a+(1-c)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=function g5(n,e,t){const r=a_(uh(n.r)),i=a_(uh(n.g)),s=a_(uh(n.b));return{r:kf(dM(r+t*(a_(uh(e.r))-r))),g:kf(dM(i+t*(a_(uh(e.g))-i))),b:kf(dM(s+t*(a_(uh(e.b))-s))),a:n.a+t*(e.a-n.a)}}(this._rgb,e._rgb,t)),this}clone(){return new H1(this.rgb)}alpha(e){return this._rgb.a=kf(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ow(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Z1(this._rgb,2,e),this}darken(e){return Z1(this._rgb,2,-e),this}saturate(e){return Z1(this._rgb,1,e),this}desaturate(e){return Z1(this._rgb,1,-e),this}rotate(e){return function l5(n,e){var t=lM(n);t[0]=u2(t[0]+e),t=uM(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function g2(n){return new H1(n)}function m2(n){if(n&&"object"==typeof n){const e=n.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function y2(n){return m2(n)?n:g2(n)}function hM(n){return m2(n)?n:g2(n).saturate(.5).darken(.1).hexString()}const Ag=Object.create(null),fM=Object.create(null);function lw(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function pM(n,e,t){return"string"==typeof e?Xb(lw(n,e),t):Xb(lw(n,""),e)}var Vn=new class y5{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,r)=>hM(r.backgroundColor),this.hoverBorderColor=(t,r)=>hM(r.borderColor),this.hoverColor=(t,r)=>hM(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return pM(this,e,t)}get(e){return lw(this,e)}describe(e,t){return pM(fM,e,t)}override(e,t){return pM(Ag,e,t)}route(e,t,r,i){const s=lw(this,e),c=lw(this,r),d="_"+t;Object.defineProperties(s,{[d]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const f=this[d],g=c[i];return Gn(f)?Object.assign({},g,f):Tn(f,g)},set(f){this[d]=f}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function q1(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function v5(n,e,t,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let c=0;const d=t.length;let f,g,v,w,S;for(f=0;f<d;f++)if(w=t[f],null!=w&&!0!==Nr(w))c=q1(n,i,s,c,w);else if(Nr(w))for(g=0,v=w.length;g<v;g++)S=w[g],null!=S&&!Nr(S)&&(c=q1(n,i,s,c,S));n.restore();const k=s.length/2;if(k>t.length){for(f=0;f<k;f++)delete i[s[f]];s.splice(0,k)}return c}function Sg(n,e,t){const r=n.currentDevicePixelRatio,i=0!==t?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function _2(n,e){(e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function z1(n,e,t,r){let i,s,c,d,f;const g=e.pointStyle,v=e.rotation,w=e.radius;let S=(v||0)*q6;if(g&&"object"==typeof g&&(i=g.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return n.save(),n.translate(t,r),n.rotate(S),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),void n.restore();if(!(isNaN(w)||w<=0)){switch(n.beginPath(),g){default:n.arc(t,r,w,0,xr),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(S)*w,r-Math.cos(S)*w),S+=t2,n.lineTo(t+Math.sin(S)*w,r-Math.cos(S)*w),S+=t2,n.lineTo(t+Math.sin(S)*w,r-Math.cos(S)*w),n.closePath();break;case"rectRounded":f=.516*w,d=w-f,s=Math.cos(S+tw)*d,c=Math.sin(S+tw)*d,n.arc(t-s,r-c,f,S-Qr,S-fi),n.arc(t+c,r-s,f,S-fi,S),n.arc(t+s,r+c,f,S,S+fi),n.arc(t-c,r+s,f,S+fi,S+Qr),n.closePath();break;case"rect":if(!v){d=Math.SQRT1_2*w,n.rect(t-d,r-d,2*d,2*d);break}S+=tw;case"rectRot":s=Math.cos(S)*w,c=Math.sin(S)*w,n.moveTo(t-s,r-c),n.lineTo(t+c,r-s),n.lineTo(t+s,r+c),n.lineTo(t-c,r+s),n.closePath();break;case"crossRot":S+=tw;case"cross":s=Math.cos(S)*w,c=Math.sin(S)*w,n.moveTo(t-s,r-c),n.lineTo(t+s,r+c),n.moveTo(t+c,r-s),n.lineTo(t-c,r+s);break;case"star":s=Math.cos(S)*w,c=Math.sin(S)*w,n.moveTo(t-s,r-c),n.lineTo(t+s,r+c),n.moveTo(t+c,r-s),n.lineTo(t-c,r+s),S+=tw,s=Math.cos(S)*w,c=Math.sin(S)*w,n.moveTo(t-s,r-c),n.lineTo(t+s,r+c),n.moveTo(t+c,r-s),n.lineTo(t-c,r+s);break;case"line":s=Math.cos(S)*w,c=Math.sin(S)*w,n.moveTo(t-s,r-c),n.lineTo(t+s,r+c);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(S)*w,r+Math.sin(S)*w)}n.fill(),e.borderWidth>0&&n.stroke()}}function cw(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function $1(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function G1(n){n.restore()}function b5(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if("middle"===i){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else"after"===i!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function w5(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function Mg(n,e,t,r,i,s={}){const c=Nr(e)?e:[e],d=s.strokeWidth>0&&""!==s.strokeColor;let f,g;for(n.save(),n.font=i.string,function C5(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),er(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,s),f=0;f<c.length;++f)g=c[f],d&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),er(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(g,t,r,s.maxWidth)),n.fillText(g,t,r,s.maxWidth),x5(n,t,r,g,s),r+=i.lineHeight;n.restore()}function x5(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),c=e-s.actualBoundingBoxLeft,d=e+s.actualBoundingBoxRight,f=t-s.actualBoundingBoxAscent,g=t+s.actualBoundingBoxDescent,v=i.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(c,v),n.lineTo(d,v),n.stroke()}}function uw(n,e){const{x:t,y:r,w:i,h:s,radius:c}=e;n.arc(t+c.topLeft,r+c.topLeft,c.topLeft,-fi,Qr,!0),n.lineTo(t,r+s-c.bottomLeft),n.arc(t+c.bottomLeft,r+s-c.bottomLeft,c.bottomLeft,Qr,fi,!0),n.lineTo(t+i-c.bottomRight,r+s),n.arc(t+i-c.bottomRight,r+s-c.bottomRight,c.bottomRight,fi,0,!0),n.lineTo(t+i,r+c.topRight),n.arc(t+i-c.topRight,r+c.topRight,c.topRight,0,-fi,!0),n.lineTo(t+c.topLeft,r)}const E5=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),T5=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function I5(n,e){const t=(""+n).match(E5);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const D5=n=>+n||0;function gM(n,e){const t={},r=Gn(e),i=r?Object.keys(e):e,s=Gn(n)?r?c=>Tn(n[c],n[e[c]]):c=>n[c]:()=>n;for(const c of i)t[c]=D5(s(c));return t}function v2(n){return gM(n,{top:"y",right:"x",bottom:"y",left:"x"})}function kg(n){return gM(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ao(n){const e=v2(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function as(n,e){let t=Tn((n=n||{}).size,(e=e||Vn.font).size);"string"==typeof t&&(t=parseInt(t,10));let r=Tn(n.style,e.style);r&&!(""+r).match(T5)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:Tn(n.family,e.family),lineHeight:I5(Tn(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Tn(n.weight,e.weight),string:""};return i.string=function _5(n){return!n||er(n.size)||er(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(i),i}function dw(n,e,t,r){let s,c,d,i=!0;for(s=0,c=n.length;s<c;++s)if(d=n[s],void 0!==d&&(void 0!==e&&"function"==typeof d&&(d=d(e),i=!1),void 0!==t&&Nr(d)&&(d=d[t%d.length],i=!1),void 0!==d))return r&&!i&&(r.cacheable=!1),d}function Of(n,e){return Object.assign(Object.create(n),e)}function mM(n,e,t){t=t||(c=>n[c]<e);let s,r=n.length-1,i=0;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const dh=(n,e,t)=>mM(n,t,r=>n[r][e]<t),S5=(n,e,t)=>mM(n,t,r=>n[r][e]>=t),b2=["push","pop","shift","splice","unshift"];function w2(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),!(r.length>0)&&(b2.forEach(s=>{delete n[s]}),delete n._chartjs)}function C2(n){const e=new Set;let t,r;for(t=0,r=n.length;t<r;++t)e.add(n[t]);return e.size===r?n:Array.from(e)}function yM(n,e=[""],t=n,r,i=(()=>n[0])){Xl(r)||(r=D2("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:t,_fallback:r,_getTarget:i,override:c=>yM([c,...n],e,t,r)};return new Proxy(s,{deleteProperty:(c,d)=>(delete c[d],delete c._keys,delete n[0][d],!0),get:(c,d)=>E2(c,d,()=>function V5(n,e,t,r){let i;for(const s of e)if(i=D2(O5(s,n),t),Xl(i))return _M(n,i)?vM(t,r,n,i):i}(d,e,n,c)),getOwnPropertyDescriptor:(c,d)=>Reflect.getOwnPropertyDescriptor(c._scopes[0],d),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(c,d)=>A2(c).includes(d),ownKeys:c=>A2(c),set(c,d,f){const g=c._storage||(c._storage=i());return c[d]=g[d]=f,delete c._keys,!0}})}function l_(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:x2(n,r),setContext:s=>l_(n,s,t,r),override:s=>l_(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty:(s,c)=>(delete s[c],delete n[c],!0),get:(s,c,d)=>E2(s,c,()=>function P5(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:c}=n;let d=r[e];return Sf(d)&&c.isScriptable(e)&&(d=function R5(n,e,t,r){const{_proxy:i,_context:s,_subProxy:c,_stack:d}=t;if(d.has(n))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+n);return d.add(n),e=e(s,c||r),d.delete(n),_M(n,e)&&(e=vM(i._scopes,i,n,e)),e}(e,d,n,t)),Nr(d)&&d.length&&(d=function N5(n,e,t,r){const{_proxy:i,_context:s,_subProxy:c,_descriptors:d}=t;if(Xl(s.index)&&r(n))e=e[s.index%e.length];else if(Gn(e[0])){const f=e,g=i._scopes.filter(v=>v!==f);e=[];for(const v of f){const w=vM(g,i,n,v);e.push(l_(w,s,c&&c[n],d))}}return e}(e,d,n,c.isIndexable)),_M(e,d)&&(d=l_(d,i,s&&s[e],c)),d}(s,c,d)),getOwnPropertyDescriptor:(s,c)=>s._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,c)=>Reflect.has(n,c),ownKeys:()=>Reflect.ownKeys(n),set:(s,c,d)=>(n[c]=d,delete s[c],!0)})}function x2(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Sf(t)?t:()=>t,isIndexable:Sf(r)?r:()=>r}}const O5=(n,e)=>n?n+iM(e):e,_M=(n,e)=>Gn(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function E2(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const r=t();return n[e]=r,r}function T2(n,e,t){return Sf(n)?n(e,t):n}const L5=(n,e)=>!0===n?e:"string"==typeof n?Af(e,n):void 0;function F5(n,e,t,r,i){for(const s of e){const c=L5(t,s);if(c){n.add(c);const d=T2(c._fallback,t,i);if(Xl(d)&&d!==t&&d!==r)return d}else if(!1===c&&Xl(r)&&t!==r)return null}return!1}function vM(n,e,t,r){const i=e._rootScopes,s=T2(e._fallback,t,r),c=[...n,...i],d=new Set;d.add(r);let f=I2(d,c,t,s||t,r);return!(null===f||Xl(s)&&s!==t&&(f=I2(d,c,s,f,r),null===f))&&yM(Array.from(d),[""],i,s,()=>function U5(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Nr(i)&&Gn(t)?t:i}(e,t,r))}function I2(n,e,t,r,i){for(;t;)t=F5(n,e,t,r,i);return t}function D2(n,e){for(const t of e){if(!t)continue;const r=t[n];if(Xl(r))return r}}function A2(n){let e=n._keys;return e||(e=n._keys=function B5(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}(n._scopes)),e}function S2(n,e,t,r){const{iScale:i}=n,{key:s="r"}=this._parsing,c=new Array(r);let d,f,g,v;for(d=0,f=r;d<f;++d)g=d+t,v=e[g],c[d]={r:i.parse(Af(v,s),g)};return c}const j5=Number.EPSILON||1e-14,c_=(n,e)=>e<n.length&&!n[e].skip&&n[e],M2=n=>"x"===n?"y":"x";function Z5(n,e,t,r){const i=n.skip?e:n,s=e,c=t.skip?e:t,d=oM(s,i),f=oM(c,s);let g=d/(d+f),v=f/(d+f);g=isNaN(g)?0:g,v=isNaN(v)?0:v;const w=r*g,S=r*v;return{previous:{x:s.x-w*(c.x-i.x),y:s.y-w*(c.y-i.y)},next:{x:s.x+S*(c.x-i.x),y:s.y+S*(c.y-i.y)}}}function W1(n,e,t){return Math.max(Math.min(n,t),e)}function G5(n,e,t,r,i){let s,c,d,f;if(e.spanGaps&&(n=n.filter(g=>!g.skip)),"monotone"===e.cubicInterpolationMode)!function z5(n,e="x"){const t=M2(e),r=n.length,i=Array(r).fill(0),s=Array(r);let c,d,f,g=c_(n,0);for(c=0;c<r;++c)if(d=f,f=g,g=c_(n,c+1),f){if(g){const v=g[e]-f[e];i[c]=0!==v?(g[t]-f[t])/v:0}s[c]=d?g?Yu(i[c-1])!==Yu(i[c])?0:(i[c-1]+i[c])/2:i[c-1]:i[c]}(function H5(n,e,t){const r=n.length;let i,s,c,d,f,g=c_(n,0);for(let v=0;v<r-1;++v)if(f=g,g=c_(n,v+1),f&&g){if(rw(e[v],0,j5)){t[v]=t[v+1]=0;continue}i=t[v]/e[v],s=t[v+1]/e[v],d=Math.pow(i,2)+Math.pow(s,2),!(d<=9)&&(c=3/Math.sqrt(d),t[v]=i*c*e[v],t[v+1]=s*c*e[v])}})(n,i,s),function q5(n,e,t="x"){const r=M2(t),i=n.length;let s,c,d,f=c_(n,0);for(let g=0;g<i;++g){if(c=d,d=f,f=c_(n,g+1),!d)continue;const v=d[t],w=d[r];c&&(s=(v-c[t])/3,d[`cp1${t}`]=v-s,d[`cp1${r}`]=w-s*e[g]),f&&(s=(f[t]-v)/3,d[`cp2${t}`]=v+s,d[`cp2${r}`]=w+s*e[g])}}(n,s,e)}(n,i);else{let g=r?n[n.length-1]:n[0];for(s=0,c=n.length;s<c;++s)d=n[s],f=Z5(g,d,n[Math.min(s+1,c-(r?0:1))%c],e.tension),d.cp1x=f.previous.x,d.cp1y=f.previous.y,d.cp2x=f.next.x,d.cp2y=f.next.y,g=d}e.capBezierPoints&&function $5(n,e){let t,r,i,s,c,d=cw(n[0],e);for(t=0,r=n.length;t<r;++t)c=s,s=d,d=t<r-1&&cw(n[t+1],e),s&&(i=n[t],c&&(i.cp1x=W1(i.cp1x,e.left,e.right),i.cp1y=W1(i.cp1y,e.top,e.bottom)),d&&(i.cp2x=W1(i.cp2x,e.left,e.right),i.cp2y=W1(i.cp2y,e.top,e.bottom)))}(n,t)}function k2(){return"undefined"!=typeof window&&"undefined"!=typeof document}function bM(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function K1(n,e,t){let r;return"string"==typeof n?(r=parseInt(n,10),-1!==n.indexOf("%")&&(r=r/100*e.parentNode[t])):r=n,r}const Y1=n=>window.getComputedStyle(n,null),K5=["top","right","bottom","left"];function Og(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=K5[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Pg(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=Y1(t),s="border-box"===i.boxSizing,c=Og(i,"padding"),d=Og(i,"border","width"),{x:f,y:g,box:v}=function Q5(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let d,f,c=!1;if(((n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot))(i,s,n.target))d=i,f=s;else{const g=e.getBoundingClientRect();d=r.clientX-g.left,f=r.clientY-g.top,c=!0}return{x:d,y:f,box:c}}(n,t),w=c.left+(v&&d.left),S=c.top+(v&&d.top);let{width:k,height:R}=e;return s&&(k-=c.width+d.width,R-=c.height+d.height),{x:Math.round((f-w)/k*t.width/r),y:Math.round((g-S)/R*t.height/r)}}const wM=n=>Math.round(10*n)/10;function O2(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=i/r,n.width=s/r;const c=n.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==r||c.height!==i||c.width!==s)&&(n.currentDevicePixelRatio=r,c.height=i,c.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0)}const e4=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return n}();function P2(n,e){const t=function W5(n,e){return Y1(n).getPropertyValue(e)}(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Rg(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function t4(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:"middle"===r?t<.5?n.y:e.y:"after"===r?t<1?n.y:e.y:t>0?e.y:n.y}}function n4(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},c=Rg(n,i,t),d=Rg(i,s,t),f=Rg(s,e,t),g=Rg(c,d,t),v=Rg(d,f,t);return Rg(g,v,t)}const R2=new Map;function hw(n,e,t){return function r4(n,e){e=e||{};const t=n+JSON.stringify(e);let r=R2.get(t);return r||(r=new Intl.NumberFormat(n,e),R2.set(t,r)),r}(e,t).format(n)}function u_(n,e,t){return n?function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,r)=>t-r,leftForLtr:(t,r)=>t-r}}(e,t):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}}function N2(n,e){let t,r;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function L2(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function F2(n){return"angle"===n?{between:iw,compare:G6,normalize:cl}:{between:ch,compare:(e,t)=>e-t,normalize:e=>e}}function U2({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t==0,style:i}}function V2(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,c=e.length,{compare:d,between:f,normalize:g}=F2(r),{start:v,end:w,loop:S,style:k}=function o4(n,e,t){const{property:r,start:i,end:s}=t,{between:c,normalize:d}=F2(r),f=e.length;let S,k,{start:g,end:v,loop:w}=n;if(w){for(g+=f,v+=f,S=0,k=f;S<k&&c(d(e[g%f][r]),i,s);++S)g--,v--;g%=f,v%=f}return v<g&&(v+=f),{start:g,end:v,loop:w,style:n.style}}(n,e,t),R=[];let te,ye,Le,B=!1,G=null;for(let Mt=v,jt=v;Mt<=w;++Mt)ye=e[Mt%c],!ye.skip&&(te=g(ye[r]),te!==Le&&(B=f(te,i,s),null===G&&(B||f(i,Le,te)&&0!==d(i,Le))&&(G=0===d(te,i)?Mt:jt),null!==G&&(!B||0===d(s,te)||f(s,Le,te))&&(R.push(U2({start:G,end:Mt,loop:S,count:c,style:k})),G=null),jt=Mt,Le=te));return null!==G&&R.push(U2({start:G,end:w,loop:S,count:c,style:k})),R}function B2(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=V2(r[i],n.points,e);s.length&&t.push(...s)}return t}function Z2(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function d4(n,e){return e&&JSON.stringify(n)!==JSON.stringify(e)}var hh=new class h4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const c=t.duration;t.listeners[i].forEach(d=>d({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(r-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=KR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let f,c=s.length-1,d=!1;for(;c>=0;--c)f=s[c],f._active?(f._total>r.duration&&(r.duration=f._total),f.tick(e),d=!0):(s[c]=s[s.length-1],s.pop());d&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};const H2="transparent",f4={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const r=y2(n||H2),i=r.valid&&y2(e||H2);return i&&i.valid?i.mix(r,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class p4{constructor(e,t,r,i){const s=t[r];i=dw([e.to,i,s,e.from]);const c=dw([e.from,s,i]);this._active=!0,this._fn=e.fn||f4[e.type||typeof c],this._easing=sw[e.easing]||sw.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,c=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=dw([e.to,t,i,e.from]),this._from=dw([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,c=this._loop,d=this._to;let f;if(this._active=s!==d&&(c||t<r),!this._active)return this._target[i]=d,void this._notify(!0);t<0?this._target[i]=s:(f=t/r%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[i]=this._fn(s,d,f))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}Vn.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const y4=Object.keys(Vn.animation);Vn.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),Vn.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Vn.describe("animations",{_fallback:"animation"}),Vn.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class q2{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Gn(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!Gn(i))return;const s={};for(const c of y4)s[c]=i[c];(Nr(i.properties)&&i.properties||[r]).forEach(c=>{(c===r||!t.has(c))&&t.set(c,s)})})}_animateOptions(e,t){const r=t.options,i=function v4(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&function _4(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),c=Object.keys(t),d=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if("$"===g.charAt(0))continue;if("options"===g){i.push(...this._animateOptions(e,t));continue}const v=t[g];let w=s[g];const S=r.get(g);if(w){if(S&&w.active()){w.update(S,v,d);continue}w.cancel()}S&&S.duration?(s[g]=w=new p4(S,e,g,v),i.push(w)):e[g]=v}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(hh.add(this._chart,r),!0):void 0}}function z2(n,e){const t=n&&n.options||{},r=t.reverse,i=void 0===t.min?e:0,s=void 0===t.max?e:0;return{start:r?s:i,end:r?i:s}}function $2(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function G2(n,e,t,r={}){const i=n.keys,s="single"===r.mode;let c,d,f,g;if(null!==e){for(c=0,d=i.length;c<d;++c){if(f=+i[c],f===t){if(r.all)continue;break}g=n.values[f],Ii(g)&&(s||0===e||Yu(e)===Yu(g))&&(e+=g)}return e}}function W2(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function T4(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function K2(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function Y2(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:c,index:d}=r,f=s.axis,g=c.axis,v=function x4(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(s,c,r),w=e.length;let S;for(let k=0;k<w;++k){const R=e[k],{[f]:B,[g]:G}=R;S=(R._stacks||(R._stacks={}))[g]=T4(i,v,B),S[d]=G,S._top=K2(S,c,!0,r.type),S._bottom=K2(S,c,!1,r.type)}}function CM(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function fw(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||void 0===s[r]||void 0===s[r][t])return;delete s[r][t]}}}const xM=n=>"reset"===n||"none"===n,Q2=(n,e)=>e?n:Object.assign({},n);let fh=(()=>{class n{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=W2(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&fw(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(S,k,R,B)=>"x"===S?k:"r"===S?B:R,c=r.xAxisID=Tn(i.xAxisID,CM(t,"x")),d=r.yAxisID=Tn(i.yAxisID,CM(t,"y")),f=r.rAxisID=Tn(i.rAxisID,CM(t,"r")),g=r.indexAxis,v=r.iAxisID=s(g,c,d,f),w=r.vAxisID=s(g,d,c,f);r.xScale=this.getScaleForId(c),r.yScale=this.getScaleForId(d),r.rScale=this.getScaleForId(f),r.iScale=this.getScaleForId(v),r.vScale=this.getScaleForId(w)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&w2(this._data,this),t._stacked&&fw(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(Gn(r))this._data=function C4(n){const e=Object.keys(n),t=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],t[r]={x:s,y:n[s]};return t}(r);else if(i!==r){if(i){w2(i,this);const s=this._cachedMeta;fw(s),s._parsed=[]}r&&Object.isExtensible(r)&&function k5(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),b2.forEach(t=>{const r="_onData"+iM(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const c=i.apply(this,s);return n._chartjs.listeners.forEach(d=>{"function"==typeof d[r]&&d[r](...s)}),c}})}))}(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const c=r._stacked;r._stacked=W2(r.vScale,r),r.stack!==i.stack&&(s=!0,fw(r),r.stack=i.stack),this._resyncElements(t),(s||c!==r._stacked)&&Y2(this,r._parsed)}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:i,_data:s}=this,{iScale:c,_stacked:d}=i,f=c.axis;let w,S,k,g=0===t&&r===s.length||i._sorted,v=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=s,i._sorted=!0,k=s;else{k=Nr(s[t])?this.parseArrayData(i,s,t,r):Gn(s[t])?this.parseObjectData(i,s,t,r):this.parsePrimitiveData(i,s,t,r);const R=()=>null===S[f]||v&&S[f]<v[f];for(w=0;w<r;++w)i._parsed[w+t]=S=k[w],g&&(R()&&(g=!1),v=S);i._sorted=g}d&&Y2(this,k)}parsePrimitiveData(t,r,i,s){const{iScale:c,vScale:d}=t,f=c.axis,g=d.axis,v=c.getLabels(),w=c===d,S=new Array(s);let k,R,B;for(k=0,R=s;k<R;++k)B=k+i,S[k]={[f]:w||c.parse(v[B],B),[g]:d.parse(r[B],B)};return S}parseArrayData(t,r,i,s){const{xScale:c,yScale:d}=t,f=new Array(s);let g,v,w,S;for(g=0,v=s;g<v;++g)w=g+i,S=r[w],f[g]={x:c.parse(S[0],w),y:d.parse(S[1],w)};return f}parseObjectData(t,r,i,s){const{xScale:c,yScale:d}=t,{xAxisKey:f="x",yAxisKey:g="y"}=this._parsing,v=new Array(s);let w,S,k,R;for(w=0,S=s;w<S;++w)k=w+i,R=r[k],v[w]={x:c.parse(Af(R,f),k),y:d.parse(Af(R,g),k)};return v}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){const c=this._cachedMeta,d=r[t.axis];return G2({keys:$2(this.chart,!0),values:r._stacks[t.axis]},d,c.index,{mode:i})}updateRangeFromParsed(t,r,i,s){const c=i[r.axis];let d=null===c?NaN:c;const f=s&&i._stacks[r.axis];s&&f&&(s.values=f,d=G2(s,c,this._cachedMeta.index)),t.min=Math.min(t.min,d),t.max=Math.max(t.max,d)}getMinMax(t,r){const i=this._cachedMeta,s=i._parsed,c=i._sorted&&t===i.iScale,d=s.length,f=this._getOtherScale(t),g=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:$2(this.chart,!0),values:null})(r,i),v={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:w,max:S}=function E4(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}(f);let k,R;function B(){R=s[k];const G=R[f.axis];return!Ii(R[t.axis])||w>G||S<G}for(k=0;k<d&&(B()||(this.updateRangeFromParsed(v,t,R,g),!c));++k);if(c)for(k=d-1;k>=0;--k)if(!B()){this.updateRangeFromParsed(v,t,R,g);break}return v}getAllParsedValues(t){const r=this._cachedMeta._parsed,i=[];let s,c,d;for(s=0,c=r.length;s<c;++s)d=r[s][t.axis],Ii(d)&&i.push(d);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,i=r.iScale,s=r.vScale,c=this.getParsed(t);return{label:i?""+i.getLabelForValue(c[i.axis]):"",value:s?""+s.getLabelForValue(c[s.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=function w4(n){let e,t,r,i;return Gn(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:!1===n}}(Tn(this.options.clip,function b4(n,e,t){if(!1===t)return!1;const r=z2(n,t),i=z2(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this._cachedMeta,s=i.data||[],c=this.chart.chartArea,d=[],f=this._drawStart||0,g=this._drawCount||s.length-f,v=this.options.drawActiveElementsOnTop;let w;for(i.dataset&&i.dataset.draw(t,c,f,g),w=f;w<f+g;++w){const S=s[w];S.hidden||(S.active&&v?d.push(S):S.draw(t,c))}for(w=0;w<d.length;++w)d[w].draw(t,c)}getStyle(t,r){const i=r?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){const s=this.getDataset();let c;if(t>=0&&t<this._cachedMeta.data.length){const d=this._cachedMeta.data[t];c=d.$context||(d.$context=function D4(n,e,t){return Of(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),t,d)),c.parsed=this.getParsed(t),c.raw=s.data[t],c.index=c.dataIndex=t}else c=this.$context||(this.$context=function I4(n,e){return Of(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),c.dataset=s,c.index=c.datasetIndex=this.index;return c.active=!!r,c.mode=i,c}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){const s="active"===r,c=this._cachedDataOpts,d=t+"-"+r,f=c[d],g=this.enableOptionSharing&&Xl(i);if(f)return Q2(f,g);const v=this.chart.config,w=v.datasetElementScopeKeys(this._type,t),S=s?[`${t}Hover`,"hover",t,""]:[t,""],k=v.getOptionScopes(this.getDataset(),w),R=Object.keys(Vn.elements[t]),G=v.resolveNamedOptions(k,R,()=>this.getContext(i,s),S);return G.$shared&&(G.$shared=g,c[d]=Object.freeze(Q2(G,g))),G}_resolveAnimations(t,r,i){const s=this.chart,c=this._cachedDataOpts,d=`animation-${r}`,f=c[d];if(f)return f;let g;if(!1!==s.options.animation){const w=this.chart.config,S=w.datasetAnimationScopeKeys(this._type,r),k=w.getOptionScopes(this.getDataset(),S);g=w.createResolver(k,this.getContext(t,i,r))}const v=new q2(s,g&&g.animations);return g&&g._cacheable&&(c[d]=Object.freeze(v)),v}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||xM(t)||this.chart._animationsDisabled}updateElement(t,r,i,s){xM(s)?Object.assign(t,i):this._resolveAnimations(r,s).update(t,i)}updateSharedOptions(t,r,i){t&&!xM(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,s){t.active=s;const c=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(t,{options:!s&&this.getSharedOptions(c)||c})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,i=this._cachedMeta.data;for(const[f,g,v]of this._syncList)this[f](g,v);this._syncList=[];const s=i.length,c=r.length,d=Math.min(c,s);d&&this.parse(0,d),c>s?this._insertElements(s,c-s,t):c<s&&this._removeElements(c,s-c)}_insertElements(t,r,i=!0){const s=this._cachedMeta,c=s.data,d=t+r;let f;const g=v=>{for(v.length+=r,f=v.length-1;f>=d;f--)v[f]=v[f-r]};for(g(c),f=t;f<d;++f)c[f]=new this.dataElementType;this._parsing&&g(s._parsed),this.parse(t,r),i&&this.updateElements(c,t,r,"reset")}updateElements(t,r,i,s){}_removeElements(t,r){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,r);i._stacked&&fw(i,s)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,i,s]=t;this[r](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function M4(n){const e=n.iScale,t=function S4(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=C2(r.sort((i,s)=>i-s))}return n._cache.$bar}(e,n.type);let i,s,c,d,r=e._length;const f=()=>{32767===c||-32768===c||(Xl(d)&&(r=Math.min(r,Math.abs(c-d)||r)),d=c)};for(i=0,s=t.length;i<s;++i)c=e.getPixelForValue(t[i]),f();for(d=void 0,i=0,s=e.ticks.length;i<s;++i)c=e.getPixelForTick(i),f();return r}function J2(n,e,t,r){return Nr(n)?function P4(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),c=Math.min(i,s),d=Math.max(i,s);let f=c,g=d;Math.abs(c)>Math.abs(d)&&(f=d,g=c),e[t.axis]=g,e._custom={barStart:f,barEnd:g,start:i,end:s,min:c,max:d}}(n,e,t,r):e[t.axis]=t.parse(n,r),e}function X2(n,e,t,r){const i=n.iScale,s=n.vScale,c=i.getLabels(),d=i===s,f=[];let g,v,w,S;for(g=t,v=t+r;g<v;++g)S=e[g],w={},w[i.axis]=d||i.parse(c[g],g),f.push(J2(S,w,s,g));return f}function EM(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function L4(n,e,t,r){let i=e.borderSkipped;const s={};if(!i)return void(n.borderSkipped=s);const{start:c,end:d,reverse:f,top:g,bottom:v}=function N4(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}(n);"middle"===i&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=g:(t._bottom||0)===r?i=v:(s[eN(v,c,d,f)]=!0,i=g)),s[eN(i,c,d,f)]=!0,n.borderSkipped=s}function eN(n,e,t,r){return r?(n=function F4(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=tN(n,t,e)):n=tN(n,e,t),n}function tN(n,e,t){return"start"===n?e:"end"===n?t:n}function U4(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}fh.prototype.datasetElementType=null,fh.prototype.dataElementType=null;let nN=(()=>{class n extends fh{parsePrimitiveData(t,r,i,s){return X2(t,r,i,s)}parseArrayData(t,r,i,s){return X2(t,r,i,s)}parseObjectData(t,r,i,s){const{iScale:c,vScale:d}=t,{xAxisKey:f="x",yAxisKey:g="y"}=this._parsing,v="x"===c.axis?f:g,w="x"===d.axis?f:g,S=[];let k,R,B,G;for(k=i,R=i+s;k<R;++k)G=r[k],B={},B[c.axis]=c.parse(Af(G,v),k),S.push(J2(Af(G,w),B,d,k));return S}updateRangeFromParsed(t,r,i,s){super.updateRangeFromParsed(t,r,i,s);const c=i._custom;c&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,c.min),t.max=Math.max(t.max,c.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:i,vScale:s}=r,c=this.getParsed(t),d=c._custom,f=EM(d)?"["+d.start+", "+d.end+"]":""+s.getLabelForValue(c[s.axis]);return{label:""+i.getLabelForValue(c[i.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,s){const c="reset"===s,{index:d,_cachedMeta:{vScale:f}}=this,g=f.getBasePixel(),v=f.isHorizontal(),w=this._getRuler(),S=this.resolveDataElementOptions(r,s),k=this.getSharedOptions(S),R=this.includeOptions(s,k);this.updateSharedOptions(k,s,S);for(let B=r;B<r+i;B++){const G=this.getParsed(B),te=c||er(G[f.axis])?{base:g,head:g}:this._calculateBarValuePixels(B),ye=this._calculateBarIndexPixels(B,w),Le=(G._stacks||{})[f.axis],xe={horizontal:v,base:te.base,enableBorderRadius:!Le||EM(G._custom)||d===Le._top||d===Le._bottom,x:v?te.head:ye.center,y:v?ye.center:te.head,height:v?ye.size:Math.abs(te.size),width:v?Math.abs(te.size):ye.size};R&&(xe.options=k||this.resolveDataElementOptions(B,t[B].active?"active":s));const Ie=xe.options||t[B].options;L4(xe,Ie,Le,d),U4(xe,Ie,w.ratio),this.updateElement(t[B],B,xe,s)}}_getStacks(t,r){const s=this._cachedMeta.iScale,c=s.getMatchingVisibleMetas(this._type),d=s.options.stacked,f=c.length,g=[];let v,w;for(v=0;v<f;++v)if(w=c[v],w.controller.options.grouped){if(void 0!==r){const S=w.controller.getParsed(r)[w.controller._cachedMeta.vScale.axis];if(er(S)||isNaN(S))continue}if((!1===d||-1===g.indexOf(w.stack)||void 0===d&&void 0===w.stack)&&g.push(w.stack),w.index===t)break}return g.length||g.push(void 0),g}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,r,i){const s=this._getStacks(t,i),c=void 0!==r?s.indexOf(r):-1;return-1===c?s.length-1:c}_getRuler(){const t=this.options,r=this._cachedMeta,i=r.iScale,s=[];let c,d;for(c=0,d=r.data.length;c<d;++c)s.push(i.getPixelForValue(this.getParsed(c)[i.axis],c));const f=t.barThickness;return{min:f||M4(r),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:f?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:i},options:{base:s,minBarLength:c}}=this,d=s||0,f=this.getParsed(t),g=f._custom,v=EM(g);let R,B,w=f[r.axis],S=0,k=i?this.applyStack(r,f,i):w;k!==w&&(S=k-w,k=w),v&&(w=g.barStart,k=g.barEnd-g.barStart,0!==w&&Yu(w)!==Yu(g.barEnd)&&(S=0),S+=w);const G=er(s)||v?S:s;let te=r.getPixelForValue(G);if(R=this.chart.getDataVisibility(t)?r.getPixelForValue(S+k):te,B=R-te,Math.abs(B)<c){B=function R4(n,e,t){return 0!==n?Yu(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(B,r,d)*c,w===d&&(te-=B/2);const ye=r.getPixelForDecimal(0),Le=r.getPixelForDecimal(1),xe=Math.min(ye,Le),Ie=Math.max(ye,Le);te=Math.max(Math.min(te,Ie),xe),R=te+B}if(te===r.getPixelForValue(d)){const ye=Yu(B)*r.getLineWidthForValue(d)/2;te+=ye,B-=ye}return{size:B,base:te,head:R,center:R+B/2}}_calculateBarIndexPixels(t,r){const i=r.scale,s=this.options,c=s.skipNull,d=Tn(s.maxBarThickness,1/0);let f,g;if(r.grouped){const v=c?this._getStackCount(t):r.stackCount,w="flex"===s.barThickness?function O4(n,e,t,r){const i=e.pixels,s=i[n];let c=n>0?i[n-1]:null,d=n<i.length-1?i[n+1]:null;const f=t.categoryPercentage;null===c&&(c=s-(null===d?e.end-e.start:d-s)),null===d&&(d=s+s-c);const g=s-(s-Math.min(c,d))/2*f;return{chunk:Math.abs(d-c)/2*f/r,ratio:t.barPercentage,start:g}}(t,r,s,v):function k4(n,e,t,r){const i=t.barThickness;let s,c;return er(i)?(s=e.min*t.categoryPercentage,c=t.barPercentage):(s=i*r,c=1),{chunk:s/r,ratio:c,start:e.pixels[n]-s/2}}(t,r,s,v),S=this._getStackIndex(this.index,this._cachedMeta.stack,c?t:void 0);f=w.start+w.chunk*S+w.chunk/2,g=Math.min(d,w.chunk*w.ratio)}else f=i.getPixelForValue(this.getParsed(t)[i.axis],t),g=Math.min(d,r.min*r.ratio);return{base:f-g/2,head:f+g/2,center:f,size:g}}draw(){const t=this._cachedMeta,r=t.vScale,i=t.data,s=i.length;let c=0;for(;c<s;++c)null!==this.getParsed(c)[r.axis]&&i[c].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),rN=(()=>{class n extends fh{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,s){const c=super.parsePrimitiveData(t,r,i,s);for(let d=0;d<c.length;d++)c[d]._custom=this.resolveDataElementOptions(d+i).radius;return c}parseArrayData(t,r,i,s){const c=super.parseArrayData(t,r,i,s);for(let d=0;d<c.length;d++)c[d]._custom=Tn(r[i+d][2],this.resolveDataElementOptions(d+i).radius);return c}parseObjectData(t,r,i,s){const c=super.parseObjectData(t,r,i,s);for(let d=0;d<c.length;d++){const f=r[i+d];c[d]._custom=Tn(f&&f.r&&+f.r,this.resolveDataElementOptions(d+i).radius)}return c}getMaxOverflow(){const t=this._cachedMeta.data;let r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){const r=this._cachedMeta,{xScale:i,yScale:s}=r,c=this.getParsed(t),d=i.getLabelForValue(c.x),f=s.getLabelForValue(c.y),g=c._custom;return{label:r.label,value:"("+d+", "+f+(g?", "+g:"")+")"}}update(t){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,s){const c="reset"===s,{iScale:d,vScale:f}=this._cachedMeta,g=this.resolveDataElementOptions(r,s),v=this.getSharedOptions(g),w=this.includeOptions(s,v),S=d.axis,k=f.axis;for(let R=r;R<r+i;R++){const B=t[R],G=!c&&this.getParsed(R),te={},ye=te[S]=c?d.getPixelForDecimal(.5):d.getPixelForValue(G[S]),Le=te[k]=c?f.getBasePixel():f.getPixelForValue(G[k]);te.skip=isNaN(ye)||isNaN(Le),w&&(te.options=this.resolveDataElementOptions(R,B.active?"active":s),c&&(te.options.radius=0)),this.updateElement(B,R,te,s)}this.updateSharedOptions(v,s,g)}resolveDataElementOptions(t,r){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,r);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const c=s.radius;return"active"!==r&&(s.radius=0),s.radius+=Tn(i&&i._custom,c),s}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),TM=(()=>{class n extends fh{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const i=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=i;else{let d,f,c=g=>+i[g];if(Gn(i[t])){const{key:g="value"}=this._parsing;c=v=>+Af(i[v],g)}for(d=t,f=t+r;d<f;++d)s._parsed[d]=c(d)}}_getRotation(){return Gc(this.options.rotation-90)}_getCircumference(){return Gc(this.options.circumference)}_getRotationExtents(){let t=xr,r=-xr;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const s=this.chart.getDatasetMeta(i).controller,c=s._getRotation(),d=s._getCircumference();t=Math.min(t,c),r=Math.max(r,c+d)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:i}=r,s=this._cachedMeta,c=s.data,d=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,f=Math.max((Math.min(i.width,i.height)-d)/2,0),g=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/e)(this.options.cutout,f),1),v=this._getRingWeight(this.index),{circumference:w,rotation:S}=this._getRotationExtents(),{ratioX:k,ratioY:R,offsetX:B,offsetY:G}=function V4(n,e,t){let r=1,i=1,s=0,c=0;if(e<xr){const d=n,f=d+e,g=Math.cos(d),v=Math.sin(d),w=Math.cos(f),S=Math.sin(f),k=(Le,xe,Ie)=>iw(Le,d,f,!0)?1:Math.max(xe,xe*t,Ie,Ie*t),R=(Le,xe,Ie)=>iw(Le,d,f,!0)?-1:Math.min(xe,xe*t,Ie,Ie*t),B=k(0,g,w),G=k(fi,v,S),te=R(Qr,g,w),ye=R(Qr+fi,v,S);r=(B-te)/2,i=(G-ye)/2,s=-(B+te)/2,c=-(G+ye)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:c}}(S,w,g),Le=Math.max(Math.min((i.width-d)/k,(i.height-d)/R)/2,0),xe=QR(this.options.radius,Le),tt=(xe-Math.max(xe*g,0))/this._getVisibleDatasetWeightTotal();this.offsetX=B*xe,this.offsetY=G*xe,s.total=this.calculateTotal(),this.outerRadius=xe-tt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-tt*v,0),this.updateElements(c,0,c.length,t)}_circumference(t,r){const i=this.options,s=this._cachedMeta,c=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*c/xr)}updateElements(t,r,i,s){const c="reset"===s,d=this.chart,f=d.chartArea,w=(f.left+f.right)/2,S=(f.top+f.bottom)/2,k=c&&d.options.animation.animateScale,R=k?0:this.innerRadius,B=k?0:this.outerRadius,G=this.resolveDataElementOptions(r,s),te=this.getSharedOptions(G),ye=this.includeOptions(s,te);let xe,Le=this._getRotation();for(xe=0;xe<r;++xe)Le+=this._circumference(xe,c);for(xe=r;xe<r+i;++xe){const Ie=this._circumference(xe,c),tt=t[xe],dt={x:w+this.offsetX,y:S+this.offsetY,startAngle:Le,endAngle:Le+Ie,circumference:Ie,outerRadius:B,innerRadius:R};ye&&(dt.options=te||this.resolveDataElementOptions(xe,tt.active?"active":s)),Le+=Ie,this.updateElement(tt,xe,dt,s)}this.updateSharedOptions(te,s,G)}calculateTotal(){const t=this._cachedMeta,r=t.data;let s,i=0;for(s=0;s<r.length;s++){const c=t._parsed[s];null!==c&&!isNaN(c)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(c))}return i}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?xr*(Math.abs(t)/r):0}getLabelAndValue(t){const i=this.chart,s=i.data.labels||[],c=hw(this._cachedMeta._parsed[t],i.options.locale);return{label:s[t]||"",value:c}}getMaxBorderWidth(t){let r=0;const i=this.chart;let s,c,d,f,g;if(!t)for(s=0,c=i.data.datasets.length;s<c;++s)if(i.isDatasetVisible(s)){d=i.getDatasetMeta(s),t=d.data,f=d.controller;break}if(!t)return 0;for(s=0,c=t.length;s<c;++s)g=f.resolveDataElementOptions(s),"inner"!==g.borderAlign&&(r=Math.max(r,g.borderWidth||0,g.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,s=t.length;i<s;++i){const c=this.resolveDataElementOptions(i);r=Math.max(r,c.offset||0,c.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max(Tn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((i,s)=>{const d=e.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const r=": "+e.formattedValue;return Nr(t)?(t=t.slice(),t[0]+=r):t+=r,t}}}}},n})(),IM=(()=>{class n extends fh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:i,data:s=[],_dataset:c}=r,d=this.chart._animationsDisabled;let{start:f,count:g}=function B4(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:c,_parsed:d}=n,f=c.axis,{min:g,max:v,minDefined:w,maxDefined:S}=c.getUserBounds();w&&(i=xs(Math.min(dh(d,c.axis,g).lo,t?r:dh(e,f,c.getPixelForValue(g)).lo),0,r-1)),s=S?xs(Math.max(dh(d,c.axis,v).hi+1,t?0:dh(e,f,c.getPixelForValue(v)).hi+1),i,r)-i:r-i}return{start:i,count:s}}(r,s,d);this._drawStart=f,this._drawCount=g,function j4(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}(r)&&(f=0,g=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!c._decimated,i.points=s;const v=this.resolveDatasetElementOptions(t);this.options.showLine||(v.borderWidth=0),v.segment=this.options.segment,this.updateElement(i,void 0,{animated:!d,options:v},t),this.updateElements(s,f,g,t)}updateElements(t,r,i,s){const c="reset"===s,{iScale:d,vScale:f,_stacked:g,_dataset:v}=this._cachedMeta,w=this.resolveDataElementOptions(r,s),S=this.getSharedOptions(w),k=this.includeOptions(s,S),R=d.axis,B=f.axis,{spanGaps:G,segment:te}=this.options,ye=nw(G)?G:Number.POSITIVE_INFINITY,Le=this.chart._animationsDisabled||c||"none"===s;let xe=r>0&&this.getParsed(r-1);for(let Ie=r;Ie<r+i;++Ie){const tt=t[Ie],dt=this.getParsed(Ie),Mt=Le?tt:{},jt=er(dt[B]),pr=Mt[R]=d.getPixelForValue(dt[R],Ie),Qn=Mt[B]=c||jt?f.getBasePixel():f.getPixelForValue(g?this.applyStack(f,dt,g):dt[B],Ie);Mt.skip=isNaN(pr)||isNaN(Qn)||jt,Mt.stop=Ie>0&&Math.abs(dt[R]-xe[R])>ye,te&&(Mt.parsed=dt,Mt.raw=v.data[Ie]),k&&(Mt.options=S||this.resolveDataElementOptions(Ie,tt.active?"active":s)),Le||this.updateElement(tt,Ie,Mt,s),xe=dt}this.updateSharedOptions(S,s,w)}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const c=s[0].size(this.resolveDataElementOptions(0)),d=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,c,d)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),iN=(()=>{class n extends fh{constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this.chart,s=i.data.labels||[],c=hw(this._cachedMeta._parsed[t].r,i.options.locale);return{label:s[t]||"",value:c}}parseObjectData(t,r,i,s){return S2.bind(this)(t,r,i,s)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,s)=>{const c=this.getParsed(s).r;!isNaN(c)&&this.chart.getDataVisibility(s)&&(c<r.min&&(r.min=c),c>r.max&&(r.max=c))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,i=t.options,s=Math.min(r.right-r.left,r.bottom-r.top),c=Math.max(s/2,0),f=(c-Math.max(i.cutoutPercentage?c/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=c-f*this.index,this.innerRadius=this.outerRadius-f}updateElements(t,r,i,s){const c="reset"===s,d=this.chart,g=d.options.animation,v=this._cachedMeta.rScale,w=v.xCenter,S=v.yCenter,k=v.getIndexAngle(0)-.5*Qr;let B,R=k;const G=360/this.countVisibleElements();for(B=0;B<r;++B)R+=this._computeAngle(B,s,G);for(B=r;B<r+i;B++){const te=t[B];let ye=R,Le=R+this._computeAngle(B,s,G),xe=d.getDataVisibility(B)?v.getDistanceFromCenterForValue(this.getParsed(B).r):0;R=Le,c&&(g.animateScale&&(xe=0),g.animateRotate&&(ye=Le=k));const Ie={x:w,y:S,innerRadius:0,outerRadius:xe,startAngle:ye,endAngle:Le,options:this.resolveDataElementOptions(B,te.active?"active":s)};this.updateElement(te,B,Ie,s)}}countVisibleElements(){let r=0;return this._cachedMeta.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&r++}),r}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?Gc(this.resolveDataElementOptions(t,r).angle||i):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((i,s)=>{const d=e.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),sN=(()=>{class n extends TM{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),oN=(()=>{class n extends fh{getLabelAndValue(t){const r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(t,r,i,s){return S2.bind(this)(t,r,i,s)}update(t){const r=this._cachedMeta,i=r.dataset,s=r.data||[],c=r.iScale.getLabels();if(i.points=s,"resize"!==t){const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:c.length===s.length,options:d},t)}this.updateElements(s,0,s.length,t)}updateElements(t,r,i,s){const c=this._cachedMeta.rScale,d="reset"===s;for(let f=r;f<r+i;f++){const g=t[f],v=this.resolveDataElementOptions(f,g.active?"active":s),w=c.getPointPositionForValue(f,this.getParsed(f).r),S=d?c.xCenter:w.x,k=d?c.yCenter:w.y,R={x:S,y:k,angle:w.angle,skip:isNaN(S)||isNaN(k),options:v};this.updateElement(g,f,R,s)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})(),aN=(()=>{class n extends IM{}return n.id="scatter",n.defaults={showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})();function Ng(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var H4={_date:(()=>{class n{constructor(t){this.options=t||{}}formats(){return Ng()}parse(t,r){return Ng()}format(t,r){return Ng()}add(t,r,i){return Ng()}diff(t,r,i){return Ng()}startOf(t,r,i){return Ng()}endOf(t,r){return Ng()}}return n.override=function(e){Object.assign(n.prototype,e)},n})()};function q4(n,e,t,r){const{controller:i,data:s,_sorted:c}=n,d=i._cachedMeta.iScale;if(d&&e===d.axis&&"r"!==e&&c&&s.length){const f=d._reversePixels?S5:dh;if(!r)return f(s,e,t);if(i._sharedOptions){const g=s[0],v="function"==typeof g.getRange&&g.getRange(e);if(v){const w=f(s,e,t-v),S=f(s,e,t+v);return{lo:w.lo,hi:S.hi}}}}return{lo:0,hi:s.length-1}}function pw(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),c=t[e];for(let d=0,f=s.length;d<f;++d){const{index:g,data:v}=s[d],{lo:w,hi:S}=q4(s[d],e,c,i);for(let k=w;k<=S;++k){const R=v[k];R.skip||r(R,g,k)}}}function DM(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||pw(n,t,e,function(d,f,g){!i&&!cw(d,n.chartArea,0)||d.inRange(e.x,e.y,r)&&s.push({element:d,datasetIndex:f,index:g})},!0),s}function AM(n,e,t,r,i,s){return s||n.isPointInArea(e)?"r"!==t||r?function G4(n,e,t,r,i,s){let c=[];const d=function z4(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(r,i){const s=e?Math.abs(r.x-i.x):0,c=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(c,2))}}(t);let f=Number.POSITIVE_INFINITY;return pw(n,t,e,function g(v,w,S){const k=v.inRange(e.x,e.y,i);if(r&&!k)return;const R=v.getCenterPoint(i);if(!s&&!n.isPointInArea(R)&&!k)return;const G=d(e,R);G<f?(c=[{element:v,datasetIndex:w,index:S}],f=G):G===f&&c.push({element:v,datasetIndex:w,index:S})}),c}(n,e,t,r,i,s):function $4(n,e,t,r){let i=[];return pw(n,t,e,function s(c,d,f){const{startAngle:g,endAngle:v}=c.getProps(["startAngle","endAngle"],r),{angle:w}=s2(c,{x:e.x,y:e.y});iw(w,g,v)&&i.push({element:c,datasetIndex:d,index:f})}),i}(n,e,t,i):[]}function lN(n,e,t,r,i){const s=[],c="x"===t?"inXRange":"inYRange";let d=!1;return pw(n,t,e,(f,g,v)=>{f[c](e[t],i)&&(s.push({element:f,datasetIndex:g,index:v}),d=d||f.inRange(e.x,e.y,i))}),r&&!d?[]:s}var W4={evaluateInteractionItems:pw,modes:{index(n,e,t,r){const i=Pg(e,n),s=t.axis||"x",c=t.includeInvisible||!1,d=t.intersect?DM(n,i,s,r,c):AM(n,i,s,!1,r,c),f=[];return d.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const v=d[0].index,w=g.data[v];w&&!w.skip&&f.push({element:w,datasetIndex:g.index,index:v})}),f):[]},dataset(n,e,t,r){const i=Pg(e,n),s=t.axis||"xy",c=t.includeInvisible||!1;let d=t.intersect?DM(n,i,s,r,c):AM(n,i,s,!1,r,c);if(d.length>0){const f=d[0].datasetIndex,g=n.getDatasetMeta(f).data;d=[];for(let v=0;v<g.length;++v)d.push({element:g[v],datasetIndex:f,index:v})}return d},point:(n,e,t,r)=>DM(n,Pg(e,n),t.axis||"xy",r,t.includeInvisible||!1),nearest:(n,e,t,r)=>AM(n,Pg(e,n),t.axis||"xy",t.intersect,r,t.includeInvisible||!1),x:(n,e,t,r)=>lN(n,Pg(e,n),"x",t.intersect,r),y:(n,e,t,r)=>lN(n,Pg(e,n),"y",t.intersect,r)}};const cN=["left","top","right","bottom"];function gw(n,e){return n.filter(t=>t.pos===e)}function uN(n,e){return n.filter(t=>-1===cN.indexOf(t.pos)&&t.box.axis===e)}function mw(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function dN(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function hN(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function X4(n,e,t,r){const{pos:i,box:s}=t,c=n.maxPadding;if(!Gn(i)){t.size&&(n[i]-=t.size);const w=r[t.stack]||{size:0,count:1};w.size=Math.max(w.size,t.horizontal?s.height:s.width),t.size=w.size/w.count,n[i]+=t.size}s.getPadding&&hN(c,s.getPadding());const d=Math.max(0,e.outerWidth-dN(c,n,"left","right")),f=Math.max(0,e.outerHeight-dN(c,n,"top","bottom")),g=d!==n.w,v=f!==n.h;return n.w=d,n.h=f,t.horizontal?{same:g,other:v}:{same:v,other:g}}function tZ(n,e){const t=e.maxPadding;return function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{s[c]=Math.max(e[c],t[c])}),s}(n?["left","right"]:["top","bottom"])}function yw(n,e,t,r){const i=[];let s,c,d,f,g,v;for(s=0,c=n.length,g=0;s<c;++s){d=n[s],f=d.box,f.update(d.width||e.w,d.height||e.h,tZ(d.horizontal,e));const{same:w,other:S}=X4(e,t,d,r);g|=w&&i.length,v=v||S,f.fullSize||i.push(d)}return g&&yw(i,e,t,r)||v}function Q1(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function fN(n,e,t,r){const i=t.padding;let{x:s,y:c}=e;for(const d of n){const f=d.box,g=r[d.stack]||{count:1,placed:0,weight:1},v=d.stackWeight/g.weight||1;if(d.horizontal){const w=e.w*v,S=g.size||f.height;Xl(g.start)&&(c=g.start),f.fullSize?Q1(f,i.left,c,t.outerWidth-i.right-i.left,S):Q1(f,e.left+g.placed,c,w,S),g.start=c,g.placed+=w,c=f.bottom}else{const w=e.h*v,S=g.size||f.width;Xl(g.start)&&(s=g.start),f.fullSize?Q1(f,s,i.top,S,t.outerHeight-i.bottom-i.top):Q1(f,s,e.top+g.placed,S,w),g.start=s,g.placed+=w,s=f.right}}e.x=s,e.y=c}Vn.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var lo={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=ao(n.options.layout.padding),s=Math.max(e-i.width,0),c=Math.max(t-i.height,0),d=function J4(n){const e=function K4(n){const e=[];let t,r,i,s,c,d;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],({position:s,options:{stack:c,stackWeight:d=1}}=i),e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&s+c,stackWeight:d});return e}(n),t=mw(e.filter(g=>g.box.fullSize),!0),r=mw(gw(e,"left"),!0),i=mw(gw(e,"right")),s=mw(gw(e,"top"),!0),c=mw(gw(e,"bottom")),d=uN(e,"x"),f=uN(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(f).concat(c).concat(d),chartArea:gw(e,"chartArea"),vertical:r.concat(i).concat(f),horizontal:s.concat(c).concat(d)}}(n.boxes),f=d.vertical,g=d.horizontal;fr(n.boxes,B=>{"function"==typeof B.beforeLayout&&B.beforeLayout()});const v=f.reduce((B,G)=>G.box.options&&!1===G.box.options.display?B:B+1,0)||1,w=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:c,vBoxMaxWidth:s/2/v,hBoxMaxHeight:c/2}),S=Object.assign({},i);hN(S,ao(r));const k=Object.assign({maxPadding:S,w:s,h:c,x:i.left,y:i.top},i),R=function Q4(n,e){const t=function Y4(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!cN.includes(i))continue;const c=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=s}return e}(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,c,d;for(s=0,c=n.length;s<c;++s){d=n[s];const{fullSize:f}=d.box,g=t[d.stack],v=g&&d.stackWeight/g.weight;d.horizontal?(d.width=v?v*r:f&&e.availableWidth,d.height=i):(d.width=r,d.height=v?v*i:f&&e.availableHeight)}return t}(f.concat(g),w);yw(d.fullSize,k,w,R),yw(f,k,w,R),yw(g,k,w,R)&&yw(f,k,w,R),function eZ(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(k),fN(d.leftAndTop,k,w,R),k.x+=k.w,k.y+=k.h,fN(d.rightAndBottom,k,w,R),n.chartArea={left:k.left,top:k.top,right:k.left+k.w,bottom:k.top+k.h,height:k.h,width:k.w},fr(d.chartArea,B=>{const G=B.box;Object.assign(G,n.chartArea),G.update(k.w,k.h,{left:0,top:0,right:0,bottom:0})})}};class pN{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class nZ extends pN{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const J1="$chartjs",rZ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gN=n=>null===n||""===n,mN=!!e4&&{passive:!0};function oZ(n,e,t){n.canvas.removeEventListener(e,t,mN)}function X1(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function lZ(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let c=!1;for(const d of s)c=c||X1(d.addedNodes,r),c=c&&!X1(d.removedNodes,r);c&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function cZ(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let c=!1;for(const d of s)c=c||X1(d.removedNodes,r),c=c&&!X1(d.addedNodes,r);c&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const _w=new Map;let yN=0;function _N(){const n=window.devicePixelRatio;n!==yN&&(yN=n,_w.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function hZ(n,e,t){const r=n.canvas,i=r&&bM(r);if(!i)return;const s=YR((d,f)=>{const g=i.clientWidth;t(d,f),g<i.clientWidth&&t()},window),c=new ResizeObserver(d=>{const f=d[0],g=f.contentRect.width,v=f.contentRect.height;0===g&&0===v||s(g,v)});return c.observe(i),function uZ(n,e){_w.size||window.addEventListener("resize",_N),_w.set(n,e)}(n,s),c}function SM(n,e,t){t&&t.disconnect(),"resize"===e&&function dZ(n){_w.delete(n),_w.size||window.removeEventListener("resize",_N)}(n)}function fZ(n,e,t){const r=n.canvas,i=YR(s=>{null!==n.ctx&&t(function aZ(n,e){const t=rZ[n.type]||n.type,{x:r,y:i}=Pg(n,e);return{type:t,chart:e,native:n,x:void 0!==r?r:null,y:void 0!==i?i:null}}(s,n))},n,s=>{const c=s[0];return[c,c.offsetX,c.offsetY]});return function sZ(n,e,t){n.addEventListener(e,t,mN)}(r,e,i),i}class pZ extends pN{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function iZ(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[J1]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",gN(i)){const s=P2(n,"width");void 0!==s&&(n.width=s)}if(gN(r))if(""===n.style.height)n.height=n.width/(e||2);else{const s=P2(n,"height");void 0!==s&&(n.height=s)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[J1])return!1;const r=t[J1].initial;["height","width"].forEach(s=>{const c=r[s];er(c)?t.removeAttribute(s):t.setAttribute(s,c)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[J1],!0}addEventListener(e,t,r){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:lZ,detach:cZ,resize:hZ}[t]||fZ)(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];i&&(({attach:SM,detach:SM,resize:SM}[t]||oZ)(e,t,i),r[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return function X5(n,e,t,r){const i=Y1(n),s=Og(i,"margin"),c=K1(i.maxWidth,n,"clientWidth")||U1,d=K1(i.maxHeight,n,"clientHeight")||U1,f=function J5(n,e,t){let r,i;if(void 0===e||void 0===t){const s=bM(n);if(s){const c=s.getBoundingClientRect(),d=Y1(s),f=Og(d,"border","width"),g=Og(d,"padding");e=c.width-g.width-f.width,t=c.height-g.height-f.height,r=K1(d.maxWidth,s,"clientWidth"),i=K1(d.maxHeight,s,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:r||U1,maxHeight:i||U1}}(n,e,t);let{width:g,height:v}=f;if("content-box"===i.boxSizing){const w=Og(i,"border","width"),S=Og(i,"padding");g-=S.width+w.width,v-=S.height+w.height}return g=Math.max(0,g-s.width),v=Math.max(0,r?Math.floor(g/r):v-s.height),g=wM(Math.min(g,c,f.maxWidth)),v=wM(Math.min(v,d,f.maxHeight)),g&&!v&&(v=wM(g/2)),{width:g,height:v}}(e,t,r,i)}isAttached(e){const t=bM(e);return!(!t||!t.isConnected)}}class Wc{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return nw(this.x)&&nw(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}Wc.defaults={},Wc.defaultRoutes=void 0;const vN={values:n=>Nr(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const g=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(g<1e-4||g>1e15)&&(i="scientific"),s=function mZ(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const c=ec(Math.abs(s)),d=Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:i,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),hw(n,r,f)},logarithmic(n,e,t){if(0===n)return"0";const r=n/Math.pow(10,Math.floor(ec(n)));return 1===r||2===r||5===r?vN.numeric.call(this,n,e,t):""}};var eT={formatters:vN};function tT(n,e,t,r,i){const s=Tn(r,0),c=Math.min(Tn(i,n.length),n.length);let f,g,v,d=0;for(t=Math.ceil(t),i&&(f=i-r,t=f/Math.floor(f/t)),v=s;v<0;)d++,v=Math.round(s+d*t);for(g=Math.max(s,0);g<c;g++)g===v&&(e.push(n[g]),d++,v=Math.round(s+d*t))}Vn.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:eT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Vn.route("scale.ticks","color","","color"),Vn.route("scale.grid","color","","borderColor"),Vn.route("scale.grid","borderColor","","borderColor"),Vn.route("scale.title","color","","color"),Vn.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),Vn.describe("scales",{_fallback:"scale"}),Vn.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const bN=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t;function wN(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function EZ(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,c=n._endPixel,d=1e-6;let g,f=n.getPixelForTick(i);if(!(t&&(g=1===r?Math.max(f-s,c-f):0===e?(n.getPixelForTick(1)-f)/2:(f-n.getPixelForTick(i-1))/2,f+=i<e?g:-g,f<s-d||f>c+d)))return f}function vw(n){return n.drawTicks?n.tickLength:0}function CN(n,e){if(!n.display)return 0;const t=as(n.font,e),r=ao(n.padding);return(Nr(n.text)?n.text.length:1)*t.lineHeight+r.height}function AZ(n,e,t){let r=rM(n);return(t&&"right"!==e||!t&&"right"===e)&&(r=(n=>"left"===n?"right":"right"===n?"left":n)(r)),r}class Lg extends Wc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Jl(e,Number.POSITIVE_INFINITY),t=Jl(t,Number.NEGATIVE_INFINITY),r=Jl(r,Number.POSITIVE_INFINITY),i=Jl(i,Number.NEGATIVE_INFINITY),{min:Jl(e,r),max:Jl(t,i),minDefined:Ii(e),maxDefined:Ii(t)}}getMinMax(e){let c,{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:t,max:r};const d=this.getMatchingVisibleMetas();for(let f=0,g=d.length;f<g;++f)c=d[f].controller.getMinMax(this,e),i||(t=Math.min(t,c.min)),s||(r=Math.max(r,c.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Jl(t,Jl(r,t)),max:Jl(r,Jl(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Lr(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function A5(n,e,t){const{min:r,max:i}=n,s=QR(e,(i-r)/2),c=(d,f)=>t&&0===d?0:d+f;return{min:c(r,-Math.abs(s)),max:c(i,s)}}(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?wN(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||"auto"===c.source)&&(this.ticks=function yZ(n,e){const t=n.options.ticks,r=t.maxTicksLimit||function _Z(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),i=t.major.enabled?function bZ(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}(e):[],s=i.length,c=i[0],d=i[s-1],f=[];if(s>r)return function wZ(n,e,t,r){let c,i=0,s=t[0];for(r=Math.ceil(r),c=0;c<n.length;c++)c===s&&(e.push(n[c]),i++,s=t[i*r])}(e,f,i,s/r),f;const g=function vZ(n,e,t){const r=function CZ(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}(n),i=e.length/t;if(!r)return Math.max(i,1);const s=function z6(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r==0&&(e.push(r),e.push(n/r));return t===(0|t)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}(r);for(let c=0,d=s.length-1;c<d;c++){const f=s[c];if(f>i)return f}return Math.max(i,1)}(i,e,r);if(s>0){let v,w;const S=s>1?Math.round((d-c)/(s-1)):null;for(tT(e,f,g,er(S)?0:c-S,c),v=0,w=s-1;v<w;v++)tT(e,f,g,i[v],i[v+1]);return tT(e,f,g,d,er(S)?e.length:d+S),f}return tT(e,f,g),f}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,r,e=this.options.reverse;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Lr(this.options.afterUpdate,[this])}beforeSetDimensions(){Lr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Lr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Lr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Lr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Lr(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Lr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Lr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=this.ticks.length,i=t.minRotation||0,s=t.maxRotation;let d,f,g,c=i;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal())return void(this.labelRotation=i);const v=this._getLabelSizes(),w=v.widest.width,S=v.highest.height,k=xs(this.chart.width-w,0,this.maxWidth);d=e.offset?this.maxWidth/r:k/(r-1),w+6>d&&(d=k/(r-(e.offset?.5:1)),f=this.maxHeight-vw(e.grid)-t.padding-CN(e.title,this.chart.options.font),g=Math.sqrt(w*w+S*S),c=sM(Math.min(Math.asin(xs((v.highest.height+6)/d,-1,1)),Math.asin(xs(f/g,-1,1))-Math.asin(xs(S/g,-1,1)))),c=Math.max(i,Math.min(s,c))),this.labelRotation=c}afterCalculateLabelRotation(){Lr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Lr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const f=CN(i,t.options.font);if(d?(e.width=this.maxWidth,e.height=vw(s)+f):(e.height=this.maxHeight,e.width=vw(s)+f),r.display&&this.ticks.length){const{first:g,last:v,widest:w,highest:S}=this._getLabelSizes(),k=2*r.padding,R=Gc(this.labelRotation),B=Math.cos(R),G=Math.sin(R);d?e.height=Math.min(this.maxHeight,e.height+(r.mirror?0:G*w.width+B*S.height)+k):e.width=Math.min(this.maxWidth,e.width+(r.mirror?0:B*w.width+G*S.height)+k),this._calculatePadding(g,v,G,B)}}this._handleMargins(),d?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:c},position:d}=this.options,f=0!==this.labelRotation,g="top"!==d&&"x"===this.axis;if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let S=0,k=0;f?g?(S=i*e.width,k=r*t.height):(S=r*e.height,k=i*t.width):"start"===s?k=t.width:"end"===s?S=e.width:"inner"!==s&&(S=e.width/2,k=t.width/2),this.paddingLeft=Math.max((S-v+c)*this.width/(this.width-v),0),this.paddingRight=Math.max((k-w+c)*this.width/(this.width-w),0)}else{let v=t.height/2,w=e.height/2;"start"===s?(v=0,w=e.height):"end"===s&&(v=t.height,w=0),this.paddingTop=v+c,this.paddingBottom=w+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Lr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)er(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=wN(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length)}return e}_computeLabelSizes(e,t){const{ctx:r,_longestTextCache:i}=this,s=[],c=[];let g,v,w,S,k,R,B,G,te,ye,Le,d=0,f=0;for(g=0;g<t;++g){if(S=e[g].label,k=this._resolveTickFontOptions(g),r.font=R=k.string,B=i[R]=i[R]||{data:{},gc:[]},G=k.lineHeight,te=ye=0,er(S)||Nr(S)){if(Nr(S))for(v=0,w=S.length;v<w;++v)Le=S[v],!er(Le)&&!Nr(Le)&&(te=q1(r,B.data,B.gc,te,Le),ye+=G)}else te=q1(r,B.data,B.gc,te,S),ye=G;s.push(te),c.push(ye),d=Math.max(te,d),f=Math.max(ye,f)}!function TZ(n,e){fr(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}(i,t);const xe=s.indexOf(d),Ie=c.indexOf(f),tt=dt=>({width:s[dt]||0,height:c[dt]||0});return{first:tt(0),last:tt(t-1),widest:tt(xe),highest:tt(Ie),widths:s,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function W6(n){return xs(n,-32768,32767)}(this._alignToPixels?Sg(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function DZ(n,e,t){return Of(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=function IZ(n,e){return Of(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Gc(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),c=e.autoSkipPadding||0,d=s?s.widest.width+c:0,f=s?s.highest.height+c:0;return this.isHorizontal()?f*r>d*i?d/r:f/i:f*i<d*r?f/r:d/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:c}=i,d=s.offset,f=this.isHorizontal(),v=this.ticks.length+(d?1:0),w=vw(s),S=[],k=s.setContext(this.getContext()),R=k.drawBorder?k.borderWidth:0,B=R/2,G=function(Fn){return Sg(r,Fn,R)};let te,ye,Le,xe,Ie,tt,dt,Mt,jt,pr,Qn,Jn;if("top"===c)te=G(this.bottom),tt=this.bottom-w,Mt=te-B,pr=G(e.top)+B,Jn=e.bottom;else if("bottom"===c)te=G(this.top),pr=e.top,Jn=G(e.bottom)-B,tt=te+B,Mt=this.top+w;else if("left"===c)te=G(this.right),Ie=this.right-w,dt=te-B,jt=G(e.left)+B,Qn=e.right;else if("right"===c)te=G(this.left),jt=e.left,Qn=G(e.right)-B,Ie=te+B,dt=this.left+w;else if("x"===t){if("center"===c)te=G((e.top+e.bottom)/2+.5);else if(Gn(c)){const Fn=Object.keys(c)[0];te=G(this.chart.scales[Fn].getPixelForValue(c[Fn]))}pr=e.top,Jn=e.bottom,tt=te+B,Mt=tt+w}else if("y"===t){if("center"===c)te=G((e.left+e.right)/2);else if(Gn(c)){const Fn=Object.keys(c)[0];te=G(this.chart.scales[Fn].getPixelForValue(c[Fn]))}Ie=te-B,dt=Ie-w,jt=e.left,Qn=e.right}const ji=Tn(i.ticks.maxTicksLimit,v),Bo=Math.max(1,Math.ceil(v/ji));for(ye=0;ye<v;ye+=Bo){const Fn=s.setContext(this.getContext(ye)),Er=Fn.lineWidth,Ow=Fn.color,Ug=s.borderDash||[],Pw=Fn.borderDashOffset,__=Fn.tickWidth,wT=Fn.tickColor,v_=Fn.tickBorderDash||[],Rw=Fn.tickBorderDashOffset;Le=EZ(this,ye,d),void 0!==Le&&(xe=Sg(r,Le,Er),f?Ie=dt=jt=Qn=xe:tt=Mt=pr=Jn=xe,S.push({tx1:Ie,ty1:tt,tx2:dt,ty2:Mt,x1:jt,y1:pr,x2:Qn,y2:Jn,width:Er,color:Ow,borderDash:Ug,borderDashOffset:Pw,tickWidth:__,tickColor:wT,tickBorderDash:v_,tickBorderDashOffset:Rw}))}return this._ticksLength=v,this._borderValue=te,S}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,c=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:g,padding:v,mirror:w}=s,S=vw(r.grid),k=S+v,R=w?-v:k,B=-Gc(this.labelRotation),G=[];let te,ye,Le,xe,Ie,tt,dt,Mt,jt,pr,Qn,Jn,ji="middle";if("top"===i)tt=this.bottom-R,dt=this._getXAxisLabelAlignment();else if("bottom"===i)tt=this.top+R,dt=this._getXAxisLabelAlignment();else if("left"===i){const Fn=this._getYAxisLabelAlignment(S);dt=Fn.textAlign,Ie=Fn.x}else if("right"===i){const Fn=this._getYAxisLabelAlignment(S);dt=Fn.textAlign,Ie=Fn.x}else if("x"===t){if("center"===i)tt=(e.top+e.bottom)/2+k;else if(Gn(i)){const Fn=Object.keys(i)[0];tt=this.chart.scales[Fn].getPixelForValue(i[Fn])+k}dt=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)Ie=(e.left+e.right)/2-k;else if(Gn(i)){const Fn=Object.keys(i)[0];Ie=this.chart.scales[Fn].getPixelForValue(i[Fn])}dt=this._getYAxisLabelAlignment(S).textAlign}"y"===t&&("start"===f?ji="top":"end"===f&&(ji="bottom"));const Bo=this._getLabelSizes();for(te=0,ye=d.length;te<ye;++te){Le=d[te],xe=Le.label;const Fn=s.setContext(this.getContext(te));Mt=this.getPixelForTick(te)+s.labelOffset,jt=this._resolveTickFontOptions(te),pr=jt.lineHeight,Qn=Nr(xe)?xe.length:1;const Er=Qn/2,Ow=Fn.color,Ug=Fn.textStrokeColor,Pw=Fn.textStrokeWidth;let wT,__=dt;if(c?(Ie=Mt,"inner"===dt&&(__=te===ye-1?this.options.reverse?"left":"right":0===te?this.options.reverse?"right":"left":"center"),Jn="top"===i?"near"===g||0!==B?-Qn*pr+pr/2:"center"===g?-Bo.highest.height/2-Er*pr+pr:pr/2-Bo.highest.height:"near"===g||0!==B?pr/2:"center"===g?Bo.highest.height/2-Er*pr:Bo.highest.height-Qn*pr,w&&(Jn*=-1)):(tt=Mt,Jn=(1-Qn)*pr/2),Fn.showLabelBackdrop){const v_=ao(Fn.backdropPadding),Rw=Bo.heights[te],nk=Bo.widths[te];let rk=tt+Jn-v_.top,ik=Ie-v_.left;switch(ji){case"middle":rk-=Rw/2;break;case"bottom":rk-=Rw}switch(dt){case"center":ik-=nk/2;break;case"right":ik-=nk}wT={left:ik,top:rk,width:nk+v_.width,height:Rw+v_.height,color:Fn.backdropColor}}G.push({rotation:B,label:xe,font:jt,color:Ow,strokeColor:Ug,strokeWidth:Pw,textOffset:Jn,textAlign:__,textBaseline:ji,translation:[Ie,tt],backdrop:wT})}return G}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Gc(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,d=e+s,f=this._getLabelSizes().widest.width;let g,v;return"left"===t?i?(v=this.right+s,"near"===r?g="left":"center"===r?(g="center",v+=f/2):(g="right",v+=f)):(v=this.right-d,"near"===r?g="right":"center"===r?(g="center",v-=f/2):(g="left",v=this.left)):"right"===t?i?(v=this.left+s,"near"===r?g="right":"center"===r?(g="center",v-=f/2):(g="left",v-=f)):(v=this.left+d,"near"===r?g="left":"center"===r?(g="center",v+=f/2):(g="right",v=this.right)):g="right",{textAlign:g,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,c;const d=(f,g,v)=>{!v.width||!v.color||(r.save(),r.lineWidth=v.width,r.strokeStyle=v.color,r.setLineDash(v.borderDash||[]),r.lineDashOffset=v.borderDashOffset,r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(g.x,g.y),r.stroke(),r.restore())};if(t.display)for(s=0,c=i.length;s<c;++s){const f=i[s];t.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),t.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:r}}=this,i=r.setContext(this.getContext()),s=r.drawBorder?i.borderWidth:0;if(!s)return;const c=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,g,v,w;this.isHorizontal()?(f=Sg(e,this.left,s)-s/2,g=Sg(e,this.right,c)+c/2,v=w=d):(v=Sg(e,this.top,s)-s/2,w=Sg(e,this.bottom,c)+c/2,f=g=d),t.save(),t.lineWidth=i.borderWidth,t.strokeStyle=i.borderColor,t.beginPath(),t.moveTo(f,v),t.lineTo(g,w),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&$1(r,i);const s=this._labelItems||(this._labelItems=this._computeLabelItems(e));let c,d;for(c=0,d=s.length;c<d;++c){const f=s[c],g=f.font,v=f.label;f.backdrop&&(r.fillStyle=f.backdrop.color,r.fillRect(f.backdrop.left,f.backdrop.top,f.backdrop.width,f.backdrop.height)),Mg(r,v,0,f.textOffset,g,f)}i&&G1(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=as(r.font),c=ao(r.padding),d=r.align;let f=s.lineHeight/2;"bottom"===t||"center"===t||Gn(t)?(f+=c.bottom,Nr(r.text)&&(f+=s.lineHeight*(r.text.length-1))):f+=c.top;const{titleX:g,titleY:v,maxWidth:w,rotation:S}=function SZ(n,e,t,r){const{top:i,left:s,bottom:c,right:d,chart:f}=n,{chartArea:g,scales:v}=f;let S,k,R,w=0;const B=c-i,G=d-s;if(n.isHorizontal()){if(k=oo(r,s,d),Gn(t)){const te=Object.keys(t)[0];R=v[te].getPixelForValue(t[te])+B-e}else R="center"===t?(g.bottom+g.top)/2+B-e:bN(n,t,e);S=d-s}else{if(Gn(t)){const te=Object.keys(t)[0];k=v[te].getPixelForValue(t[te])-G+e}else k="center"===t?(g.left+g.right)/2-G+e:bN(n,t,e);R=oo(r,c,i),w="left"===t?-fi:fi}return{titleX:k,titleY:R,maxWidth:S,rotation:w}}(this,f,t,d);Mg(e,r.text,0,0,s,{color:r.color,maxWidth:w,rotation:S,textAlign:AZ(d,t,i),textBaseline:"middle",translation:[g,v]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Tn(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===Lg.prototype.draw?[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r+1,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]:[{z:t,draw:i=>{this.draw(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,c;for(s=0,c=t.length;s<c;++s){const d=t[s];d[r]===this.id&&(!e||d.type===e)&&i.push(d)}return i}_resolveTickFontOptions(e){return as(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nT{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function OZ(n){return"id"in n&&"defaults"in n})(t)&&(r=this.register(t));const i=this.items,s=e.id,c=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,function MZ(n,e,t){const r=Xb(Object.create(null),[t?Vn.get(t):{},Vn.get(e),n.defaults]);Vn.set(e,r),n.defaultRoutes&&function kZ(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),c=e[t].split("."),d=c.pop(),f=c.join(".");Vn.route(s,i,f,d)})}(e,n.defaultRoutes),n.descriptors&&Vn.describe(e,n.descriptors)}(e,c,r),this.override&&Vn.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Vn[i]&&(delete Vn[i][r],this.override&&delete Ag[r])}}var ph=new class PZ{constructor(){this.controllers=new nT(fh,"datasets",!0),this.elements=new nT(Wc,"elements"),this.plugins=new nT(Object,"plugins"),this.scales=new nT(Lg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):fr(i,c=>{const d=r||this._getRegistryForType(c);this._exec(e,d,c)})})}_exec(e,t,r){const i=iM(e);Lr(r["before"+i],[],r),t[e](r),Lr(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+r+".");return i}};class RZ{constructor(){this._init=[]}notify(e,t,r,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),c=this._notify(s,e,t,r);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,t,r,i){i=i||{};for(const s of e){const c=s.plugin;if(!1===Lr(c[r],[t,i,s.options],c)&&i.cancelable)return!1}return!0}invalidate(){er(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Tn(r.options&&r.options.plugins,{}),s=function NZ(n){const e=[],t=Object.keys(ph.plugins.items);for(let i=0;i<t.length;i++)e.push(ph.getPlugin(t[i]));const r=n.plugins||[];for(let i=0;i<r.length;i++){const s=r[i];-1===e.indexOf(s)&&e.push(s)}return e}(r);return!1!==i||t?function FZ(n,e,t,r){const i=[],s=n.getContext();for(let c=0;c<e.length;c++){const d=e[c],g=LZ(t[d.id],r);null!==g&&i.push({plugin:d,options:UZ(n.config,d,g,s)})}return i}(e,s,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,c)=>s.filter(d=>!c.some(f=>d.plugin.id===f.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function LZ(n,e){return e||!1!==n?!0===n?{}:n:null}function UZ(n,e,t,r){const i=n.pluginScopeKeys(e),s=n.getOptionScopes(t,i);return n.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function MM(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(Vn.datasets[n]||{}).indexAxis||"x"}function kM(n,e){return"x"===n||"y"===n?n:e.axis||function jZ(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(e.position)||n.charAt(0).toLowerCase()}function xN(n){const e=n.options||(n.options={});e.plugins=Tn(e.plugins,{}),e.scales=function ZZ(n,e){const t=Ag[n.type]||{scales:{}},r=e.scales||{},i=MM(n.type,e),s=Object.create(null),c=Object.create(null);return Object.keys(r).forEach(d=>{const f=r[d];if(!Gn(f))return console.error(`Invalid scale configuration for scale: ${d}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);const g=kM(d,f),v=function BZ(n,e){return n===e?"_index_":"_value_"}(g,i),w=t.scales||{};s[g]=s[g]||d,c[d]=ew(Object.create(null),[{axis:g},f,w[g],w[v]])}),n.data.datasets.forEach(d=>{const f=d.type||n.type,g=d.indexAxis||MM(f,e),w=(Ag[f]||{}).scales||{};Object.keys(w).forEach(S=>{const k=function VZ(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(S,g),R=d[k+"AxisID"]||s[k]||k;c[R]=c[R]||Object.create(null),ew(c[R],[{axis:k},r[R],w[S]])})}),Object.keys(c).forEach(d=>{const f=c[d];ew(f,[Vn.scales[f.type],Vn.scale])}),c}(n,e)}function EN(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const TN=new Map,IN=new Set;function rT(n,e){let t=TN.get(n);return t||(t=e(),TN.set(n,t),IN.add(t)),t}const bw=(n,e,t)=>{const r=Af(e,t);void 0!==r&&n.add(r)};class qZ{constructor(e){this._config=function HZ(n){return(n=n||{}).data=EN(n.data),xN(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=EN(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xN(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return rT(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return rT(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return rT(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return rT(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,c=this._cachedScopes(e,r),d=c.get(t);if(d)return d;const f=new Set;t.forEach(v=>{e&&(f.add(e),v.forEach(w=>bw(f,e,w))),v.forEach(w=>bw(f,i,w)),v.forEach(w=>bw(f,Ag[s]||{},w)),v.forEach(w=>bw(f,Vn,w)),v.forEach(w=>bw(f,fM,w))});const g=Array.from(f);return 0===g.length&&g.push(Object.create(null)),IN.has(t)&&c.set(t,g),g}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ag[t]||{},Vn.datasets[t]||{},{type:t},Vn,fM]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:c,subPrefixes:d}=DN(this._resolverCache,e,i);let f=c;(function $Z(n,e){const{isScriptable:t,isIndexable:r}=x2(n);for(const i of e){const s=t(i),c=r(i),d=(c||s)&&n[i];if(s&&(Sf(d)||zZ(d))||c&&Nr(d))return!0}return!1})(c,t)&&(s.$shared=!1,f=l_(c,r=Sf(r)?r():r,this.createResolver(e,r,d)));for(const g of t)s[g]=f[g];return s}createResolver(e,t,r=[""],i){const{resolver:s}=DN(this._resolverCache,e,r);return Gn(t)?l_(s,t,void 0,i):s}}function DN(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:yM(e,t),subPrefixes:t.filter(d=>!d.toLowerCase().includes("hover"))},r.set(i,s)),s}const zZ=n=>Gn(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||Sf(n[t]),!1),WZ=["top","bottom","left","right","chartArea"];function AN(n,e){return"top"===n||"bottom"===n||-1===WZ.indexOf(n)&&"x"===e}function SN(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function MN(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Lr(t&&t.onComplete,[n],e)}function KZ(n){const e=n.chart,t=e.options.animation;Lr(t&&t.onProgress,[n],e)}function kN(n){return k2()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const iT={},ON=n=>{const e=kN(n);return Object.values(iT).filter(t=>t.canvas===e).pop()};function YZ(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const c=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=c)}}}class ww{constructor(e,t){const r=this.config=new qZ(t),i=kN(e),s=ON(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function gZ(n){return!k2()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?nZ:pZ}(i)),this.platform.updateConfig(r);const d=this.platform.acquireContext(i,c.aspectRatio),f=d&&d.canvas,g=f&&f.height,v=f&&f.width;this.id=L6(),this.ctx=d,this.canvas=f,this.width=v,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new RZ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function R6(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}(w=>this.update(w),c.resizeDelay||0),this._dataChanges=[],iT[this.id]=this,d&&f?(hh.listen(this,"complete",MN),hh.listen(this,"progress",KZ),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return er(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():O2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _2(this.canvas,this.ctx),this}stop(){return hh.stop(this),this}resize(e,t){hh.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,c=this.platform.getMaximumSize(this.canvas,e,t,r.maintainAspectRatio&&this.aspectRatio),d=r.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,O2(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),Lr(r.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){fr(this.options.scales||{},(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((c,d)=>(c[d]=!1,c),{});let s=[];t&&(s=s.concat(Object.keys(t).map(c=>{const d=t[c],f=kM(c,d),g="r"===f,v="x"===f;return{options:d,dposition:g?"chartArea":v?"bottom":"left",dtype:g?"radialLinear":v?"category":"linear"}}))),fr(s,c=>{const d=c.options,f=d.id,g=kM(f,d),v=Tn(d.type,c.dtype);(void 0===d.position||AN(d.position,g)!==AN(c.dposition))&&(d.position=c.dposition),i[f]=!0;let w=null;f in r&&r[f].type===v?w=r[f]:(w=new(ph.getScale(v))({id:f,type:v,ctx:this.ctx,chart:this}),r[w.id]=w),w.init(d,e)}),fr(i,(c,d)=>{c||delete r[d]}),fr(r,c=>{lo.configure(this,c,c.options),lo.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(SN("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{0===t.filter(s=>s===r._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let c=this.getDatasetMeta(r);const d=s.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=d,c.indexAxis=s.indexAxis||MM(d,this.options),c.order=s.order||0,c.index=r,c.label=""+s.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const f=ph.getController(d),{datasetElementType:g,dataElementType:v}=Vn.datasets[d];Object.assign(f.prototype,{dataElementType:ph.getElement(v),datasetElementType:g&&ph.getElement(g)}),c.controller=new f(this,r),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){fr(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,v=this.data.datasets.length;g<v;g++){const{controller:w}=this.getDatasetMeta(g),S=!i&&-1===s.indexOf(w);w.buildOrUpdateElements(S),c=Math.max(+w.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),i||fr(s,g=>{g.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(SN("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){fr(this.scales,e=>{lo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!e2(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t)YZ(e,i,"_removeElements"===r?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(c=>c[0]===s).map((c,d)=>d+","+c.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!e2(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;lo.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],fr(this.boxes,i=>{r&&"chartArea"===i.position||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Sf(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(hh.has(this)?this.attached&&!hh.running(this)&&hh.start(this):(this.draw(),MN({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const c=t[i];(!e||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r=e._clip,i=!r.disabled,s=this.chartArea,c={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",c)&&(i&&$1(t,{left:!1===r.left?0:s.left-r.left,right:!1===r.right?this.width:s.right+r.right,top:!1===r.top?0:s.top-r.top,bottom:!1===r.bottom?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&G1(t),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(e){return cw(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=W4.modes[t];return"function"==typeof s?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Of(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),c=s.controller._resolveAnimations(void 0,i);Xl(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),c.update(s,{visible:r}),this.update(d=>d.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),hh.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),_2(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete iT[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,c)=>{t.addEventListener(this,s,c),e[s]=c},i=(s,c,d)=>{s.offsetX=c,s.offsetY=d,this._eventHandler(s)};fr(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(f,g)=>{t.addEventListener(this,f,g),e[f]=g},i=(f,g)=>{e[f]&&(t.removeEventListener(this,f,g),delete e[f])},s=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const d=()=>{i("attach",d),this.attached=!0,this.resize(),r("resize",s),r("detach",c)};c=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",d)},t.isAttached(this.canvas)?d():c()}unbindEvents(){fr(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},fr(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,c,d,f;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),d=0,f=e.length;d<f;++d){c=e[d];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:c})=>{const d=this.getDatasetMeta(s);if(!d)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:d.data[c],index:c}});!L1(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(f,g)=>f.filter(v=>!g.some(w=>v.datasetIndex===w.datasetIndex&&v.index===w.index)),c=s(t,e),d=r?e:s(e,t);c.length&&this.updateHoverStyle(c,i.mode,!1),d.length&&i.mode&&this.updateHoverStyle(d,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=c=>(c.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,i))return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,d=this._getActiveElements(e,i,r,t),f=function Z6(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),g=function QZ(n,e,t,r){return t&&"mouseout"!==n.type?r?e:n:null}(e,this._lastEvent,r,f);r&&(this._lastEvent=null,Lr(s.onHover,[e,d,this],this),f&&Lr(s.onClick,[e,d,this],this));const v=!L1(d,i);return(v||t)&&(this._active=d,this._updateHoverStyles(d,i,t)),this._lastEvent=g,v}_getActiveElements(e,t,r,i){if("mouseout"===e.type)return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}const PN=()=>fr(ww.instances,n=>n._plugins.invalidate()),Pf=!0;function RN(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:c,outerRadius:d,innerRadius:f}=e;let g=i/d;n.beginPath(),n.arc(s,c,d,r-g,t+g),f>i?(g=i/f,n.arc(s,c,f,t+g,r-g,!0)):n.arc(s,c,i,t+fi,r-fi),n.closePath(),n.clip()}function d_(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function OM(n,e,t,r,i){const{x:s,y:c,startAngle:d,pixelMargin:f,innerRadius:g}=e,v=Math.max(e.outerRadius+r+t-f,0),w=g>0?g+r+t+f:0;let S=0;const k=i-d;if(r){const Ug=((g>0?g-r:0)+(v>0?v-r:0))/2;S=(k-(0!==Ug?k*Ug/(Ug+r):k))/2}const B=(k-Math.max(.001,k*v-t/Qr)/v)/2,G=d+B+S,te=i-B-S,{outerStart:ye,outerEnd:Le,innerStart:xe,innerEnd:Ie}=function XZ(n,e,t,r){const i=function JZ(n){return gM(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(t-e)/2,c=Math.min(s,r*e/2),d=f=>{const g=(t-Math.min(s,f))*r/2;return xs(f,0,Math.min(s,g))};return{outerStart:d(i.outerStart),outerEnd:d(i.outerEnd),innerStart:xs(i.innerStart,0,c),innerEnd:xs(i.innerEnd,0,c)}}(e,w,v,te-G),tt=v-ye,dt=v-Le,Mt=G+ye/tt,jt=te-Le/dt,pr=w+xe,Qn=w+Ie,Jn=G+xe/pr,ji=te-Ie/Qn;if(n.beginPath(),n.arc(s,c,v,Mt,jt),Le>0){const Er=d_(dt,jt,s,c);n.arc(Er.x,Er.y,Le,jt,te+fi)}const Bo=d_(Qn,te,s,c);if(n.lineTo(Bo.x,Bo.y),Ie>0){const Er=d_(Qn,ji,s,c);n.arc(Er.x,Er.y,Ie,te+fi,ji+Math.PI)}if(n.arc(s,c,w,te-Ie/w,G+xe/w,!0),xe>0){const Er=d_(pr,Jn,s,c);n.arc(Er.x,Er.y,xe,Jn+Math.PI,G-fi)}const Fn=d_(tt,G,s,c);if(n.lineTo(Fn.x,Fn.y),ye>0){const Er=d_(tt,Mt,s,c);n.arc(Er.x,Er.y,ye,G-fi,Mt)}n.closePath()}Object.defineProperties(ww,{defaults:{enumerable:Pf,value:Vn},instances:{enumerable:Pf,value:iT},overrides:{enumerable:Pf,value:Ag},registry:{enumerable:Pf,value:ph},version:{enumerable:Pf,value:"3.8.0"},getChart:{enumerable:Pf,value:ON},register:{enumerable:Pf,value:(...n)=>{ph.add(...n),PN()}},unregister:{enumerable:Pf,value:(...n)=>{ph.remove(...n),PN()}}});class Cw extends Wc{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.getProps(["x","y"],r),{angle:s,distance:c}=s2(i,{x:e,y:t}),{startAngle:d,endAngle:f,innerRadius:g,outerRadius:v,circumference:w}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),S=this.options.spacing/2,R=Tn(w,f-d)>=xr||iw(s,d,f),B=ch(c,g+S,v+S);return R&&B}getCenterPoint(e){const{x:t,y:r,startAngle:i,endAngle:s,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:f,spacing:g}=this.options,v=(i+s)/2,w=(c+d+g+f)/2;return{x:t+Math.cos(v)*w,y:r+Math.sin(v)*w}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,i=(t.offset||0)/2,s=(t.spacing||0)/2;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>xr?Math.floor(r/xr):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();let c=0;if(i){c=i/2;const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*c,Math.sin(f)*c),this.circumference>=Qr&&(c=i)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const d=function eH(n,e,t,r){const{fullCircles:i,startAngle:s,circumference:c}=e;let d=e.endAngle;if(i){OM(n,e,t,r,s+xr);for(let f=0;f<i;++f)n.fill();isNaN(c)||(d=s+c%xr,c%xr==0&&(d+=xr))}return OM(n,e,t,r,d),n.fill(),d}(e,this,c,s);(function nH(n,e,t,r,i){const{options:s}=e,{borderWidth:c,borderJoinStyle:d}=s,f="inner"===s.borderAlign;!c||(f?(n.lineWidth=2*c,n.lineJoin=d||"round"):(n.lineWidth=c,n.lineJoin=d||"bevel"),e.fullCircles&&function tH(n,e,t){const{x:r,y:i,startAngle:s,pixelMargin:c,fullCircles:d}=e,f=Math.max(e.outerRadius-c,0),g=e.innerRadius+c;let v;for(t&&RN(n,e,s+xr),n.beginPath(),n.arc(r,i,g,s+xr,s,!0),v=0;v<d;++v)n.stroke();for(n.beginPath(),n.arc(r,i,f,s,s+xr),v=0;v<d;++v)n.stroke()}(n,e,f),f&&RN(n,e,i),OM(n,e,t,r,i),n.stroke())})(e,this,c,s,d),e.restore()}}function NN(n,e,t=e){n.lineCap=Tn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Tn(t.borderDash,e.borderDash)),n.lineDashOffset=Tn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Tn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Tn(t.borderWidth,e.borderWidth),n.strokeStyle=Tn(t.borderColor,e.borderColor)}function rH(n,e,t){n.lineTo(t.x,t.y)}function LN(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:c,end:d}=e,f=Math.max(i,c),g=Math.min(s,d);return{count:r,start:f,loop:e.loop,ilen:g<f&&!(i<c&&s<c||i>d&&s>d)?r+g-f:g-f}}function sH(n,e,t,r){const{points:i,options:s}=e,{count:c,start:d,loop:f,ilen:g}=LN(i,t,r),v=function iH(n){return n.stepped?b5:n.tension||"monotone"===n.cubicInterpolationMode?w5:rH}(s);let k,R,B,{move:w=!0,reverse:S}=r||{};for(k=0;k<=g;++k)R=i[(d+(S?g-k:k))%c],!R.skip&&(w?(n.moveTo(R.x,R.y),w=!1):v(n,B,R,S,s.stepped),B=R);return f&&(R=i[(d+(S?g:0))%c],v(n,B,R,S,s.stepped)),!!f}function oH(n,e,t,r){const i=e.points,{count:s,start:c,ilen:d}=LN(i,t,r),{move:f=!0,reverse:g}=r||{};let S,k,R,B,G,te,v=0,w=0;const ye=xe=>(c+(g?d-xe:xe))%s,Le=()=>{B!==G&&(n.lineTo(v,G),n.lineTo(v,B),n.lineTo(v,te))};for(f&&(k=i[ye(0)],n.moveTo(k.x,k.y)),S=0;S<=d;++S){if(k=i[ye(S)],k.skip)continue;const xe=k.x,Ie=k.y,tt=0|xe;tt===R?(Ie<B?B=Ie:Ie>G&&(G=Ie),v=(w*v+xe)/++w):(Le(),n.lineTo(xe,Ie),R=tt,w=0,B=G=Ie),te=Ie}Le()}function PM(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?sH:oH}Cw.id="arc",Cw.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},Cw.defaultRoutes={backgroundColor:"backgroundColor"};const uH="function"==typeof Path2D;let xw=(()=>{class n extends Wc{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(G5(this._points,i,t,i.spanGaps?this._loop:this._fullLoop,r),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function c4(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:c,end:d}=function a4(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}(t,i,s,r);return function j2(n,e,t,r){return r&&r.setContext&&t?function u4(n,e,t,r){const i=n._chart.getContext(),s=Z2(n.options),{_datasetIndex:c,options:{spanGaps:d}}=n,f=t.length,g=[];let v=s,w=e[0].start,S=w;function k(R,B,G,te){const ye=d?-1:1;if(R!==B){for(R+=f;t[R%f].skip;)R-=ye;for(;t[B%f].skip;)B+=ye;R%f!=B%f&&(g.push({start:R%f,end:B%f,loop:G,style:te}),v=te,w=B%f)}}for(const R of e){w=d?w:R.start;let G,B=t[w%f];for(S=w+1;S<=R.end;S++){const te=t[S%f];G=Z2(r.setContext(Of(i,{type:"segment",p0:B,p1:te,p0DataIndex:(S-1)%f,p1DataIndex:S%f,datasetIndex:c}))),d4(G,v)&&k(w,S-1,R.loop,v),B=te,v=G}w<S-1&&k(w,S-1,R.loop,v)}return g}(n,e,t,r):e}(n,!0===r?[{start:c,end:d,loop:s}]:function l4(n,e,t,r){const i=n.length,s=[];let f,c=e,d=n[e];for(f=e+1;f<=t;++f){const g=n[f%i];g.skip||g.stop?d.skip||(s.push({start:e%i,end:(f-1)%i,loop:r=!1}),e=c=g.stop?f:null):(c=f,d.skip&&(e=f)),d=g}return null!==c&&s.push({start:e%i,end:c%i,loop:r}),s}(t,c,d<c?d+i:d,!!n._fullLoop&&0===c&&d===i-1),t,e)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,i=t.length;return i&&this.points[t[i-1].end]}interpolate(t,r){const i=this.options,s=t[r],c=this.points,d=B2(this,{property:r,start:s,end:s});if(!d.length)return;const f=[],g=function aH(n){return n.stepped?t4:n.tension||"monotone"===n.cubicInterpolationMode?n4:Rg}(i);let v,w;for(v=0,w=d.length;v<w;++v){const{start:S,end:k}=d[v],R=c[S],B=c[k];if(R===B){f.push(R);continue}const te=g(R,B,Math.abs((s-R[r])/(B[r]-R[r])),i.stepped);te[r]=t[r],f.push(te)}return 1===f.length?f[0]:f}pathSegment(t,r,i){return PM(this)(t,this,r,i)}path(t,r,i){const s=this.segments,c=PM(this);let d=this._loop;r=r||0,i=i||this.points.length-r;for(const f of s)d&=c(t,this,f,{start:r,end:r+i-1});return!!d}draw(t,r,i,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function dH(n,e,t,r){uH&&!e.options.segment?function lH(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),NN(n,e.options),n.stroke(i)}(n,e,t,r):function cH(n,e,t,r){const{segments:i,options:s}=e,c=PM(e);for(const d of i)NN(n,s,d.style),n.beginPath(),c(n,e,d,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}(n,e,t,r)}(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e},n})();function FN(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}let UN=(()=>{class n extends Wc{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:c,y:d}=this.getProps(["x","y"],i);return Math.pow(t-c,2)+Math.pow(r-d,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return FN(this,t,"x",r)}inYRange(t,r){return FN(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){let r=(t=t||this.options||{}).radius||0;return r=Math.max(r,r&&t.hoverRadius||0),2*(r+(r&&t.borderWidth||0))}draw(t,r){const i=this.options;this.skip||i.radius<.1||!cw(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,z1(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function VN(n,e){const{x:t,y:r,base:i,width:s,height:c}=n.getProps(["x","y","base","width","height"],e);let d,f,g,v,w;return n.horizontal?(w=c/2,d=Math.min(t,i),f=Math.max(t,i),g=r-w,v=r+w):(w=s/2,d=t-w,f=t+w,g=Math.min(r,i),v=Math.max(r,i)),{left:d,top:g,right:f,bottom:v}}function Rf(n,e,t,r){return n?0:xs(e,t,r)}function RM(n,e,t,r){const i=null===e,s=null===t,d=n&&!(i&&s)&&VN(n,r);return d&&(i||ch(e,d.left,d.right))&&(s||ch(t,d.top,d.bottom))}function mH(n,e){n.rect(e.x,e.y,e.w,e.h)}function NM(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0;return{x:n.x+r,y:n.y+i,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-r),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-i),radius:n.radius}}class Ew extends Wc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:c}=function pH(n){const e=VN(n),t=e.right-e.left,r=e.bottom-e.top,i=function hH(n,e,t){const i=n.borderSkipped,s=v2(n.options.borderWidth);return{t:Rf(i.top,s.top,0,t),r:Rf(i.right,s.right,0,e),b:Rf(i.bottom,s.bottom,0,t),l:Rf(i.left,s.left,0,e)}}(n,t/2,r/2),s=function fH(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=kg(i),c=Math.min(e,t),d=n.borderSkipped,f=r||Gn(i);return{topLeft:Rf(!f||d.top||d.left,s.topLeft,0,c),topRight:Rf(!f||d.top||d.right,s.topRight,0,c),bottomLeft:Rf(!f||d.bottom||d.left,s.bottomLeft,0,c),bottomRight:Rf(!f||d.bottom||d.right,s.bottomRight,0,c)}}(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}(this),d=function gH(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(c.radius)?uw:mH;e.save(),(c.w!==s.w||c.h!==s.h)&&(e.beginPath(),d(e,NM(c,t,s)),e.clip(),d(e,NM(s,-t,c)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),d(e,NM(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return RM(this,e,t,r)}inXRange(e,t){return RM(this,e,null,t)}inYRange(e,t){return RM(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}function LM(n,e,t,r){if(r)return;let i=e[n],s=t[n];return"angle"===n&&(i=cl(i),s=cl(s)),{property:n,start:i,end:s}}function FM(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function ZN(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function HN(n,e){let t=[],r=!1;return Nr(n)?(r=!0,t=n):t=function xH(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,s=[];return e.segments.forEach(({start:c,end:d})=>{d=FM(c,d,i);const f=i[c],g=i[d];null!==r?(s.push({x:f.x,y:r}),s.push({x:g.x,y:r})):null!==t&&(s.push({x:t,y:f.y}),s.push({x:t,y:g.y}))}),s}(n,e),t.length?new xw({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function EH(n,e,t){let i=n[e].fill;const s=[e];let c;if(!t)return i;for(;!1!==i&&-1===s.indexOf(i);){if(!Ii(i))return i;if(c=n[i],!c)return!1;if(c.visible)return i;s.push(i),i=c.fill}return!1}function TH(n,e,t){const r=function SH(n){const e=n.options,t=e.fill;let r=Tn(t&&t.target,t);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(n);if(Gn(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return Ii(i)&&Math.floor(i)===i?function IH(n,e,t,r){return("-"===n||"+"===n)&&(t=e+t),!(t===e||t<0||t>=r)&&t}(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function OH(n,e,t){const r=[];for(let i=0;i<t.length;i++){const s=t[i],{first:c,last:d,point:f}=PH(s,e,"x");if(!(!f||c&&d))if(c)r.unshift(f);else if(n.push(f),!d)break}n.push(...r)}function PH(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],s=n.segments,c=n.points;let d=!1,f=!1;for(let g=0;g<s.length;g++){const v=s[g],w=c[v.start][t],S=c[v.end][t];if(ch(i,w,S)){d=i===w,f=i===S;break}}return{first:d,last:f,point:r}}Ew.id="bar",Ew.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Ew.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class qN{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:s,radius:c}=this;return e.arc(i,s,c,(t=t||{start:0,end:xr}).end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function UM(n,e,t){const r=function RH(n){const{chart:e,fill:t,line:r}=n;if(Ii(t))return function NH(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function MH(n){const{scale:e,index:t,line:r}=n,i=[],s=r.segments,c=r.points,d=function kH(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}(e,t);d.push(HN({x:null,y:e.bottom},r));for(let f=0;f<s.length;f++){const g=s[f];for(let v=g.start;v<=g.end;v++)OH(i,c[v],d)}return new xw({points:i,options:{}})}(n);if("shape"===t)return!0;const i=function LH(n){return(n.scale||{}).getPointPositionForValue?function UH(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,c=function AH(n,e,t){let r;return r="start"===n?t:"end"===n?e.options.reverse?e.min:e.max:Gn(n)?n.value:e.getBaseValue(),r}(t,e,s),d=[];if(r.grid.circular){const f=e.getPointPositionForValue(0,s);return new qN({x:f.x,y:f.y,radius:e.getDistanceFromCenterForValue(c)})}for(let f=0;f<i;++f)d.push(e.getPointPositionForValue(f,c));return d}(n):function FH(n){const{scale:e={},fill:t}=n,r=function DH(n,e){let t=null;return"start"===n?t=e.bottom:"end"===n?t=e.top:Gn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}(t,e);if(Ii(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}(n)}(n);return i instanceof qN?i:HN(i,r)}(e),{line:i,scale:s,axis:c}=e,d=i.options,f=d.fill,g=d.backgroundColor,{above:v=g,below:w=g}=f||{};r&&i.points.length&&($1(n,t),function VH(n,e){const{line:t,target:r,above:i,below:s,area:c,scale:d}=e,f=t._loop?"angle":e.axis;n.save(),"x"===f&&s!==i&&(zN(n,r,c.top),$N(n,{line:t,target:r,color:i,scale:d,property:f}),n.restore(),n.save(),zN(n,r,c.bottom)),$N(n,{line:t,target:r,color:s,scale:d,property:f}),n.restore()}(n,{line:i,target:r,above:v,below:w,area:t,scale:s,axis:c}),G1(n))}function zN(n,e,t){const{segments:r,points:i}=e;let s=!0,c=!1;n.beginPath();for(const d of r){const{start:f,end:g}=d,v=i[f],w=i[FM(f,g,i)];s?(n.moveTo(v.x,v.y),s=!1):(n.lineTo(v.x,t),n.lineTo(v.x,v.y)),c=!!e.pathSegment(n,d,{move:c}),c?n.closePath():n.lineTo(w.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function $N(n,e){const{line:t,target:r,property:i,color:s,scale:c}=e,d=function CH(n,e,t){const r=n.segments,i=n.points,s=e.points,c=[];for(const d of r){let{start:f,end:g}=d;g=FM(f,g,i);const v=LM(t,i[f],i[g],d.loop);if(!e.segments){c.push({source:d,target:v,start:i[f],end:i[g]});continue}const w=B2(e,v);for(const S of w){const k=LM(t,s[S.start],s[S.end],S.loop),R=V2(d,i,k);for(const B of R)c.push({source:B,target:S,start:{[t]:ZN(v,k,"start",Math.max)},end:{[t]:ZN(v,k,"end",Math.min)}})}}return c}(t,r,i);for(const{source:f,target:g,start:v,end:w}of d){const{style:{backgroundColor:S=s}={}}=f,k=!0!==r;n.save(),n.fillStyle=S,BH(n,c,k&&LM(i,v,w)),n.beginPath();const R=!!t.pathSegment(n,f);let B;if(k){R?n.closePath():GN(n,r,w,i);const G=!!r.pathSegment(n,g,{move:R,reverse:!0});B=R&&G,B||GN(n,r,v,i)}n.closePath(),n.fill(B?"evenodd":"nonzero"),n.restore()}}function BH(n,e,t){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:c,end:d}=t||{};"x"===s&&(n.beginPath(),n.rect(c,r,d-c,i-r),n.clip())}function GN(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var WN={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let s,c,d,f;for(c=0;c<r;++c)s=n.getDatasetMeta(c),d=s.dataset,f=null,d&&d.options&&d instanceof xw&&(f={visible:n.isDatasetVisible(c),index:c,fill:TH(d,c,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:d}),s.$filler=f,i.push(f);for(c=0;c<r;++c)f=i[c],f&&!1!==f.fill&&(f.fill=EH(i,c,t.propagate))},beforeDraw(n,e,t){const r="beforeDraw"===t.drawTime,i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let c=i.length-1;c>=0;--c){const d=i[c].$filler;!d||(d.line.updateControlPoints(s,d.axis),r&&UM(n.ctx,d,s))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;s&&UM(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!r||!1===r.fill||"beforeDatasetDraw"!==t.drawTime||UM(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const KN=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}};class YN extends Wc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Lr(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,i=as(r.font),s=i.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=KN(r,s);let g,v;t.font=i.string,this.isHorizontal()?(g=this.maxWidth,v=this._fitRows(c,s,d,f)+10):(v=this.maxHeight,g=this._fitCols(c,s,d,f)+10),this.width=Math.min(g,e.maxWidth||this.maxWidth),this.height=Math.min(v,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],v=i+d;let w=e;s.textAlign="left",s.textBaseline="middle";let S=-1,k=-v;return this.legendItems.forEach((R,B)=>{const G=r+t/2+s.measureText(R.text).width;(0===B||g[g.length-1]+G+2*d>c)&&(w+=v,g[g.length-(B>0?0:1)]=0,k+=v,S++),f[B]={left:0,top:k,row:S,width:G,height:i},g[g.length-1]+=G+d}),w}_fitCols(e,t,r,i){const{ctx:s,maxHeight:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],v=c-e;let w=d,S=0,k=0,R=0,B=0;return this.legendItems.forEach((G,te)=>{const ye=r+t/2+s.measureText(G.text).width;te>0&&k+i+2*d>v&&(w+=S+d,g.push({width:S,height:k}),R+=S+d,B++,S=k=0),f[te]={left:R,top:k,col:B,width:ye,height:i},S=Math.max(S,ye),k+=i+d}),w+=S,g.push({width:S,height:k}),w}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,c=u_(s,this.left,this.width);if(this.isHorizontal()){let d=0,f=oo(r,this.left+i,this.right-this.lineWidths[d]);for(const g of t)d!==g.row&&(d=g.row,f=oo(r,this.left+i,this.right-this.lineWidths[d])),g.top+=this.top+e+i,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+i}else{let d=0,f=oo(r,this.top+e+i,this.bottom-this.columnSizes[d].height);for(const g of t)g.col!==d&&(d=g.col,f=oo(r,this.top+e+i,this.bottom-this.columnSizes[d].height)),g.top=f,g.left+=this.left+i,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;$1(e,this),this._draw(),G1(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:c}=e,d=Vn.color,f=u_(e.rtl,this.left,this.width),g=as(c.font),{color:v,padding:w}=c,S=g.size,k=S/2;let R;this.drawTitle(),i.textAlign=f.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=g.string;const{boxWidth:B,boxHeight:G,itemHeight:te}=KN(c,S),xe=this.isHorizontal(),Ie=this._computeTitleHeight();R=xe?{x:oo(s,this.left+w,this.right-r[0]),y:this.top+w+Ie,line:0}:{x:this.left+w,y:oo(s,this.top+Ie+w,this.bottom-t[0].height),line:0},N2(this.ctx,e.textDirection);const tt=te+w;this.legendItems.forEach((dt,Mt)=>{i.strokeStyle=dt.fontColor||v,i.fillStyle=dt.fontColor||v;const jt=i.measureText(dt.text).width,pr=f.textAlign(dt.textAlign||(dt.textAlign=c.textAlign)),Qn=B+k+jt;let Jn=R.x,ji=R.y;f.setWidth(this.width),xe?Mt>0&&Jn+Qn+w>this.right&&(ji=R.y+=tt,R.line++,Jn=R.x=oo(s,this.left+w,this.right-r[R.line])):Mt>0&&ji+tt>this.bottom&&(Jn=R.x=Jn+t[R.line].width+w,R.line++,ji=R.y=oo(s,this.top+Ie+w,this.bottom-t[R.line].height)),function(dt,Mt,jt){if(isNaN(B)||B<=0||isNaN(G)||G<0)return;i.save();const pr=Tn(jt.lineWidth,1);if(i.fillStyle=Tn(jt.fillStyle,d),i.lineCap=Tn(jt.lineCap,"butt"),i.lineDashOffset=Tn(jt.lineDashOffset,0),i.lineJoin=Tn(jt.lineJoin,"miter"),i.lineWidth=pr,i.strokeStyle=Tn(jt.strokeStyle,d),i.setLineDash(Tn(jt.lineDash,[])),c.usePointStyle){const Qn={radius:B*Math.SQRT2/2,pointStyle:jt.pointStyle,rotation:jt.rotation,borderWidth:pr},Jn=f.xPlus(dt,B/2);z1(i,Qn,Jn,Mt+k)}else{const Qn=Mt+Math.max((S-G)/2,0),Jn=f.leftForLtr(dt,B),ji=kg(jt.borderRadius);i.beginPath(),Object.values(ji).some(Bo=>0!==Bo)?uw(i,{x:Jn,y:Qn,w:B,h:G,radius:ji}):i.rect(Jn,Qn,B,G),i.fill(),0!==pr&&i.stroke()}i.restore()}(f.x(Jn),ji,dt),Jn=((n,e,t,r)=>n===(r?"left":"right")?t:"center"===n?(e+t)/2:e)(pr,Jn+B+k,xe?Jn+Qn:this.right,e.rtl),function(dt,Mt,jt){Mg(i,jt.text,dt,Mt+te/2,g,{strikethrough:jt.hidden,textAlign:f.textAlign(jt.textAlign)})}(f.x(Jn),ji,dt),xe?R.x+=Qn+w:R.y+=tt}),L2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=as(t.font),i=ao(t.padding);if(!t.display)return;const s=u_(e.rtl,this.left,this.width),c=this.ctx,d=t.position,g=i.top+r.size/2;let v,w=this.left,S=this.width;if(this.isHorizontal())S=Math.max(...this.lineWidths),v=this.top+g,w=oo(e.align,w,this.right-S);else{const R=this.columnSizes.reduce((B,G)=>Math.max(B,G.height),0);v=g+oo(e.align,this.top,this.bottom-R-e.labels.padding-this._computeTitleHeight())}const k=oo(d,w,w+S);c.textAlign=s.textAlign(rM(d)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=r.string,Mg(c,t.text,k,v,r)}_computeTitleHeight(){const e=this.options.title,t=as(e.font),r=ao(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(ch(e,this.left,this.right)&&ch(t,this.top,this.bottom))for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],ch(e,i.left,i.left+i.width)&&ch(t,i.top,i.top+i.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function ZH(n,e){return!(("mousemove"!==n&&"mouseout"!==n||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==n&&"mouseup"!==n))}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,s=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(i,r);i&&!s&&Lr(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Lr(t.onHover,[e,r,this],this)}else r&&Lr(t.onClick,[e,r,this],this)}}var QN={id:"legend",_element:YN,start(n,e,t){const r=n.legend=new YN({ctx:n.ctx,options:t,chart:n});lo.configure(n,r,t),lo.addBox(n,r)},stop(n){lo.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;lo.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),f=ao(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:0,datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class VM extends Wc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=Nr(r.text)?r.text.length:1;this._padding=ao(r.padding);const s=i*as(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:c}=this,d=c.align;let g,v,w,f=0;return this.isHorizontal()?(v=oo(d,r,s),w=t+e,g=s-r):("left"===c.position?(v=r+e,w=oo(d,i,t),f=-.5*Qr):(v=s-e,w=oo(d,t,i),f=.5*Qr),g=i-t),{titleX:v,titleY:w,maxWidth:g,rotation:f}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=as(t.font),s=r.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:f,rotation:g}=this._drawArgs(s);Mg(e,t.text,0,0,r,{color:t.color,maxWidth:f,rotation:g,textAlign:rM(t.align),textBaseline:"middle",translation:[c,d]})}}var JN={id:"title",_element:VM,start(n,e,t){!function HH(n,e){const t=new VM({ctx:n.ctx,options:e,chart:n});lo.configure(n,t,e),lo.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){lo.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;lo.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tw={average(n){if(!n.length)return!1;let e,t,r=0,i=0,s=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();r+=d.x,i+=d.y,++s}}return{x:r/s,y:i/s}},nearest(n,e){if(!n.length)return!1;let s,c,d,t=e.x,r=e.y,i=Number.POSITIVE_INFINITY;for(s=0,c=n.length;s<c;++s){const f=n[s].element;if(f&&f.hasValue()){const v=oM(e,f.getCenterPoint());v<i&&(i=v,d=f)}}if(d){const f=d.tooltipPosition();t=f.x,r=f.y}return{x:t,y:r}}};function Qu(n,e){return e&&(Nr(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function gh(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function zH(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:c,value:d}=s.getLabelAndValue(i);return{chart:n,label:c,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:d,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function XN(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:c,boxHeight:d}=e,f=as(e.bodyFont),g=as(e.titleFont),v=as(e.footerFont),w=s.length,S=i.length,k=r.length,R=ao(e.padding);let B=R.height,G=0,te=r.reduce((xe,Ie)=>xe+Ie.before.length+Ie.lines.length+Ie.after.length,0);te+=n.beforeBody.length+n.afterBody.length,w&&(B+=w*g.lineHeight+(w-1)*e.titleSpacing+e.titleMarginBottom),te&&(B+=k*(e.displayColors?Math.max(d,f.lineHeight):f.lineHeight)+(te-k)*f.lineHeight+(te-1)*e.bodySpacing),S&&(B+=e.footerMarginTop+S*v.lineHeight+(S-1)*e.footerSpacing);let ye=0;const Le=function(xe){G=Math.max(G,t.measureText(xe).width+ye)};return t.save(),t.font=g.string,fr(n.title,Le),t.font=f.string,fr(n.beforeBody.concat(n.afterBody),Le),ye=e.displayColors?c+2+e.boxPadding:0,fr(r,xe=>{fr(xe.before,Le),fr(xe.lines,Le),fr(xe.after,Le)}),ye=0,t.font=v.string,fr(n.footer,Le),t.restore(),G+=R.width,{width:G,height:B}}function WH(n,e,t,r){const{x:i,width:s}=t,{width:c,chartArea:{left:d,right:f}}=n;let g="center";return"center"===r?g=i<=(d+f)/2?"left":"right":i<=s/2?g="left":i>=c-s/2&&(g="right"),function GH(n,e,t,r){const{x:i,width:s}=r,c=t.caretSize+t.caretPadding;if("left"===n&&i+s+c>e.width||"right"===n&&i-s-c<0)return!0}(g,n,e,t)&&(g="center"),g}function eL(n,e,t){const r=t.yAlign||e.yAlign||function $H(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||WH(n,e,t,r),yAlign:r}}function tL(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:c}=n,{xAlign:d,yAlign:f}=t,g=i+s,{topLeft:v,topRight:w,bottomLeft:S,bottomRight:k}=kg(c);let R=function KH(n,e){let{x:t,width:r}=n;return"right"===e?t-=r:"center"===e&&(t-=r/2),t}(e,d);const B=function YH(n,e,t){let{y:r,height:i}=n;return"top"===e?r+=t:r-="bottom"===e?i+t:i/2,r}(e,f,g);return"center"===f?"left"===d?R+=g:"right"===d&&(R-=g):"left"===d?R-=Math.max(v,S)+i:"right"===d&&(R+=Math.max(w,k)+i),{x:xs(R,0,r.width-e.width),y:xs(B,0,r.height-e.height)}}function oT(n,e,t){const r=ao(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-r.right:n.x+r.left}function nL(n){return Qu([],gh(n))}function rL(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}let iL=(()=>{class n extends Wc{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,c=new q2(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(c)),c}getContext(){return this.$context||(this.$context=function QH(n,e,t){return Of(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:i}=r,s=i.beforeTitle.apply(this,[t]),c=i.title.apply(this,[t]),d=i.afterTitle.apply(this,[t]);let f=[];return f=Qu(f,gh(s)),f=Qu(f,gh(c)),f=Qu(f,gh(d)),f}getBeforeBody(t,r){return nL(r.callbacks.beforeBody.apply(this,[t]))}getBody(t,r){const{callbacks:i}=r,s=[];return fr(t,c=>{const d={before:[],lines:[],after:[]},f=rL(i,c);Qu(d.before,gh(f.beforeLabel.call(this,c))),Qu(d.lines,f.label.call(this,c)),Qu(d.after,gh(f.afterLabel.call(this,c))),s.push(d)}),s}getAfterBody(t,r){return nL(r.callbacks.afterBody.apply(this,[t]))}getFooter(t,r){const{callbacks:i}=r,s=i.beforeFooter.apply(this,[t]),c=i.footer.apply(this,[t]),d=i.afterFooter.apply(this,[t]);let f=[];return f=Qu(f,gh(s)),f=Qu(f,gh(c)),f=Qu(f,gh(d)),f}_createItems(t){const r=this._active,i=this.chart.data,s=[],c=[],d=[];let g,v,f=[];for(g=0,v=r.length;g<v;++g)f.push(zH(this.chart,r[g]));return t.filter&&(f=f.filter((w,S,k)=>t.filter(w,S,k,i))),t.itemSort&&(f=f.sort((w,S)=>t.itemSort(w,S,i))),fr(f,w=>{const S=rL(t.callbacks,w);s.push(S.labelColor.call(this,w)),c.push(S.labelPointStyle.call(this,w)),d.push(S.labelTextColor.call(this,w))}),this.labelColors=s,this.labelPointStyles=c,this.labelTextColors=d,this.dataPoints=f,f}update(t,r){const i=this.options.setContext(this.getContext()),s=this._active;let c,d=[];if(s.length){const f=Tw[i.position].call(this,s,this._eventPosition);d=this._createItems(i),this.title=this.getTitle(d,i),this.beforeBody=this.getBeforeBody(d,i),this.body=this.getBody(d,i),this.afterBody=this.getAfterBody(d,i),this.footer=this.getFooter(d,i);const g=this._size=XN(this,i),v=Object.assign({},f,g),w=eL(this.chart,i,v),S=tL(i,v,w,this.chart);this.xAlign=w.xAlign,this.yAlign=w.yAlign,c={opacity:1,x:S.x,y:S.y,width:g.width,height:g.height,caretX:f.x,caretY:f.y}}else 0!==this.opacity&&(c={opacity:0});this._tooltipItems=d,this.$context=void 0,c&&this._resolveAnimations().update(this,c),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,s){const c=this.getCaretPosition(t,i,s);r.lineTo(c.x1,c.y1),r.lineTo(c.x2,c.y2),r.lineTo(c.x3,c.y3)}getCaretPosition(t,r,i){const{xAlign:s,yAlign:c}=this,{caretSize:d,cornerRadius:f}=i,{topLeft:g,topRight:v,bottomLeft:w,bottomRight:S}=kg(f),{x:k,y:R}=t,{width:B,height:G}=r;let te,ye,Le,xe,Ie,tt;return"center"===c?(Ie=R+G/2,"left"===s?(te=k,ye=te-d,xe=Ie+d,tt=Ie-d):(te=k+B,ye=te+d,xe=Ie-d,tt=Ie+d),Le=te):(ye="left"===s?k+Math.max(g,w)+d:"right"===s?k+B-Math.max(v,S)-d:this.caretX,"top"===c?(xe=R,Ie=xe-d,te=ye-d,Le=ye+d):(xe=R+G,Ie=xe+d,te=ye+d,Le=ye-d),tt=xe),{x1:te,x2:ye,x3:Le,y1:xe,y2:Ie,y3:tt}}drawTitle(t,r,i){const s=this.title,c=s.length;let d,f,g;if(c){const v=u_(i.rtl,this.x,this.width);for(t.x=oT(this,i.titleAlign,i),r.textAlign=v.textAlign(i.titleAlign),r.textBaseline="middle",d=as(i.titleFont),f=i.titleSpacing,r.fillStyle=i.titleColor,r.font=d.string,g=0;g<c;++g)r.fillText(s[g],v.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+f,g+1===c&&(t.y+=i.titleMarginBottom-f)}}_drawColorBox(t,r,i,s,c){const d=this.labelColors[i],f=this.labelPointStyles[i],{boxHeight:g,boxWidth:v,boxPadding:w}=c,S=as(c.bodyFont),k=oT(this,"left",c),R=s.x(k),G=r.y+(g<S.lineHeight?(S.lineHeight-g)/2:0);if(c.usePointStyle){const te={radius:Math.min(v,g)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},ye=s.leftForLtr(R,v)+v/2,Le=G+g/2;t.strokeStyle=c.multiKeyBackground,t.fillStyle=c.multiKeyBackground,z1(t,te,ye,Le),t.strokeStyle=d.borderColor,t.fillStyle=d.backgroundColor,z1(t,te,ye,Le)}else{t.lineWidth=d.borderWidth||1,t.strokeStyle=d.borderColor,t.setLineDash(d.borderDash||[]),t.lineDashOffset=d.borderDashOffset||0;const te=s.leftForLtr(R,v-w),ye=s.leftForLtr(s.xPlus(R,1),v-w-2),Le=kg(d.borderRadius);Object.values(Le).some(xe=>0!==xe)?(t.beginPath(),t.fillStyle=c.multiKeyBackground,uw(t,{x:te,y:G,w:v,h:g,radius:Le}),t.fill(),t.stroke(),t.fillStyle=d.backgroundColor,t.beginPath(),uw(t,{x:ye,y:G+1,w:v-2,h:g-2,radius:Le}),t.fill()):(t.fillStyle=c.multiKeyBackground,t.fillRect(te,G,v,g),t.strokeRect(te,G,v,g),t.fillStyle=d.backgroundColor,t.fillRect(ye,G+1,v-2,g-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){const{body:s}=this,{bodySpacing:c,bodyAlign:d,displayColors:f,boxHeight:g,boxWidth:v,boxPadding:w}=i,S=as(i.bodyFont);let k=S.lineHeight,R=0;const B=u_(i.rtl,this.x,this.width),G=function(jt){r.fillText(jt,B.x(t.x+R),t.y+k/2),t.y+=k+c},te=B.textAlign(d);let ye,Le,xe,Ie,tt,dt,Mt;for(r.textAlign=d,r.textBaseline="middle",r.font=S.string,t.x=oT(this,te,i),r.fillStyle=i.bodyColor,fr(this.beforeBody,G),R=f&&"right"!==te?"center"===d?v/2+w:v+2+w:0,Ie=0,dt=s.length;Ie<dt;++Ie){for(ye=s[Ie],Le=this.labelTextColors[Ie],r.fillStyle=Le,fr(ye.before,G),xe=ye.lines,f&&xe.length&&(this._drawColorBox(r,t,Ie,B,i),k=Math.max(S.lineHeight,g)),tt=0,Mt=xe.length;tt<Mt;++tt)G(xe[tt]),k=S.lineHeight;fr(ye.after,G)}R=0,k=S.lineHeight,fr(this.afterBody,G),t.y-=c}drawFooter(t,r,i){const s=this.footer,c=s.length;let d,f;if(c){const g=u_(i.rtl,this.x,this.width);for(t.x=oT(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=g.textAlign(i.footerAlign),r.textBaseline="middle",d=as(i.footerFont),r.fillStyle=i.footerColor,r.font=d.string,f=0;f<c;++f)r.fillText(s[f],g.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+i.footerSpacing}}drawBackground(t,r,i,s){const{xAlign:c,yAlign:d}=this,{x:f,y:g}=t,{width:v,height:w}=i,{topLeft:S,topRight:k,bottomLeft:R,bottomRight:B}=kg(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(f+S,g),"top"===d&&this.drawCaret(t,r,i,s),r.lineTo(f+v-k,g),r.quadraticCurveTo(f+v,g,f+v,g+k),"center"===d&&"right"===c&&this.drawCaret(t,r,i,s),r.lineTo(f+v,g+w-B),r.quadraticCurveTo(f+v,g+w,f+v-B,g+w),"bottom"===d&&this.drawCaret(t,r,i,s),r.lineTo(f+R,g+w),r.quadraticCurveTo(f,g+w,f,g+w-R),"center"===d&&"left"===c&&this.drawCaret(t,r,i,s),r.lineTo(f,g+S),r.quadraticCurveTo(f,g,f+S,g),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,i=this.$animations,s=i&&i.x,c=i&&i.y;if(s||c){const d=Tw[t.position].call(this,this._active,this._eventPosition);if(!d)return;const f=this._size=XN(this,t),g=Object.assign({},d,this._size),v=eL(r,t,g),w=tL(t,g,v,r);(s._to!==w.x||c._to!==w.y)&&(this.xAlign=v.xAlign,this.yAlign=v.yAlign,this.width=f.width,this.height=f.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,w))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},c={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const d=ao(r.padding);r.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=i,this.drawBackground(c,t,s,r),N2(t,r.textDirection),c.y+=d.top,this.drawTitle(c,t,r),this.drawBody(c,t,r),this.drawFooter(c,t,r),L2(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const i=this._active,s=t.map(({datasetIndex:f,index:g})=>{const v=this.chart.getDatasetMeta(f);if(!v)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:v.data[g],index:g}}),c=!L1(i,s),d=this._positionChanged(s,r);(c||d)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,c=this._active||[],d=this._getActiveElements(t,c,r,i),f=this._positionChanged(d,t),g=r||!L1(d,c)||f;return g&&(this._active=d,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),g}_getActiveElements(t,r,i,s){const c=this.options;if("mouseout"===t.type)return[];if(!s)return r;const d=this.chart.getElementsAtEventForMode(t,c.mode,c,i);return c.reverse&&d.reverse(),d}_positionChanged(t,r){const{caretX:i,caretY:s,options:c}=this,d=Tw[c.position].call(this,t,r);return!1!==d&&(i!==d.x||s!==d.y)}}return n.positioners=Tw,n})();var sL={id:"tooltip",_element:iL,positioners:Tw,afterInit(n,e,t){t&&(n.tooltip=new iL({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(!1===n.notifyPlugins("beforeTooltipDraw",t))return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:lh,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:lh,beforeBody:lh,beforeLabel:lh,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return er(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:lh,afterBody:lh,beforeFooter:lh,footer:lh,afterFooter:lh}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class Iw extends Lg{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(er(e))return null;const r=this.getLabels();return((n,e)=>null===n?null:xs(Math.round(n),0,e))(t=isFinite(t)&&r[t]===e?t:function eq(n,e,t,r){const i=n.indexOf(e);return-1===i?((n,e,t,r)=>("string"==typeof e?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,r):i!==n.lastIndexOf(e)?t:i}(r,e,Tn(t,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=e;c<=t;c++)i.push({value:c});return i}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function oL(n,e,{horizontal:t,minRotation:r}){const i=Gc(r),s=(t?Math.sin(i):Math.cos(i))||.001;return Math.min(e/s,.75*e*(""+n).length)}Iw.id="category",Iw.defaults={ticks:{callback:Iw.prototype.getLabelForValue}};class aT extends Lg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return er(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const c=f=>i=t?i:f,d=f=>s=r?s:f;if(e){const f=Yu(i),g=Yu(s);f<0&&g<0?d(0):f>0&&g>0&&c(0)}if(i===s){let f=1;(s>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(f=Math.abs(.05*s)),d(s+f),e||c(i-f)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let i,{maxTicksLimit:t,stepSize:r}=e;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const c=function nq(n,e){const t=[],{bounds:i,step:s,min:c,max:d,precision:f,count:g,maxTicks:v,maxDigits:w,includeBounds:S}=n,k=s||1,R=v-1,{min:B,max:G}=e,te=!er(c),ye=!er(d),Le=!er(g),xe=(G-B)/(w+1);let tt,dt,Mt,jt,Ie=n2((G-B)/R/k)*k;if(Ie<1e-14&&!te&&!ye)return[{value:B},{value:G}];jt=Math.ceil(G/Ie)-Math.floor(B/Ie),jt>R&&(Ie=n2(jt*Ie/R/k)*k),er(f)||(tt=Math.pow(10,f),Ie=Math.ceil(Ie*tt)/tt),"ticks"===i?(dt=Math.floor(B/Ie)*Ie,Mt=Math.ceil(G/Ie)*Ie):(dt=B,Mt=G),te&&ye&&s&&function $6(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((d-c)/s,Ie/1e3)?(jt=Math.round(Math.min((d-c)/Ie,v)),Ie=(d-c)/jt,dt=c,Mt=d):Le?(dt=te?c:dt,Mt=ye?d:Mt,jt=g-1,Ie=(Mt-dt)/jt):(jt=(Mt-dt)/Ie,jt=rw(jt,Math.round(jt),Ie/1e3)?Math.round(jt):Math.ceil(jt));const pr=Math.max(i2(Ie),i2(dt));tt=Math.pow(10,er(f)?pr:f),dt=Math.round(dt*tt)/tt,Mt=Math.round(Mt*tt)/tt;let Qn=0;for(te&&(S&&dt!==c?(t.push({value:c}),dt<c&&Qn++,rw(Math.round((dt+Qn*Ie)*tt)/tt,c,oL(c,xe,n))&&Qn++):dt<c&&Qn++);Qn<jt;++Qn)t.push({value:Math.round((dt+Qn*Ie)*tt)/tt});return ye&&S&&Mt!==d?t.length&&rw(t[t.length-1].value,d,oL(d,xe,n))?t[t.length-1].value=d:t.push({value:d}):(!ye||Mt===d)&&t.push({value:Mt}),t}({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&r2(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return hw(e,this.chart.options.locale,this.options.ticks.format)}}class lT extends aT{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ii(e)?e:0,this.max=Ii(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Gc(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function aL(n){return n/Math.pow(10,Math.floor(ec(n)))==1}lT.id="linear",lT.defaults={ticks:{callback:eT.formatters.numeric}};class BM extends Lg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=aT.prototype.parse.apply(this,[e,t]);if(0!==r)return Ii(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ii(e)?Math.max(0,e):null,this.max=Ii(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,i=this.max;const s=f=>r=e?r:f,c=f=>i=t?i:f,d=(f,g)=>Math.pow(10,Math.floor(ec(f))+g);r===i&&(r<=0?(s(1),c(10)):(s(d(r,-1)),c(d(i,1)))),r<=0&&s(d(i,-1)),i<=0&&c(d(r,1)),this._zero&&this.min!==this._suggestedMin&&r===d(this.min,0)&&s(d(r,-1)),this.min=r,this.max=i}buildTicks(){const e=this.options,r=function rq(n,e){const t=Math.floor(ec(e.max)),r=Math.ceil(e.max/Math.pow(10,t)),i=[];let s=Jl(n.min,Math.pow(10,Math.floor(ec(e.min)))),c=Math.floor(ec(s)),d=Math.floor(s/Math.pow(10,c)),f=c<0?Math.pow(10,Math.abs(c)):1;do{i.push({value:s,major:aL(s)}),++d,10===d&&(d=1,++c,f=c>=0?1:f),s=Math.round(d*Math.pow(10,c)*f)/f}while(c<t||c===t&&d<r);const g=Jl(n.max,s);return i.push({value:g,major:aL(s)}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&r2(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return void 0===e?"0":hw(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ec(e),this._valueRange=ec(this.max)-ec(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ec(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function jM(n){const e=n.ticks;if(e.display&&n.display){const t=ao(e.backdropPadding);return Tn(e.font&&e.font.size,Vn.font.size)+t.height}return 0}function iq(n,e,t){return t=Nr(t)?t:[t],{w:v5(n,e.string,t),h:t.length*e.lineHeight}}function lL(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function oq(n,e,t,r,i){const s=Math.abs(Math.sin(t)),c=Math.abs(Math.cos(t));let d=0,f=0;r.start<e.l?(d=(e.l-r.start)/s,n.l=Math.min(n.l,e.l-d)):r.end>e.r&&(d=(r.end-e.r)/s,n.r=Math.max(n.r,e.r+d)),i.start<e.t?(f=(e.t-i.start)/c,n.t=Math.min(n.t,e.t-f)):i.end>e.b&&(f=(i.end-e.b)/c,n.b=Math.max(n.b,e.b+f))}function lq(n){return 0===n||180===n?"center":n<180?"left":"right"}function cq(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}function uq(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}function cL(n,e,t,r){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,xr);else{let s=n.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let c=1;c<r;c++)s=n.getPointPosition(c,e),i.lineTo(s.x,s.y)}}BM.id="logarithmic",BM.defaults={ticks:{callback:eT.formatters.logarithmic,major:{enabled:!0}}};class h_ extends aT{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ao(jM(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Ii(e)&&!isNaN(e)?e:0,this.max=Ii(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/jM(this.options))}generateTickLabels(e){aT.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const i=Lr(this.options.pointLabels.callback,[t,r],this);return i||0===i?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?function sq(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],s=n._pointLabels.length,c=n.options.pointLabels,d=c.centerPointLabels?Qr/s:0;for(let f=0;f<s;f++){const g=c.setContext(n.getPointLabelContext(f));i[f]=g.padding;const v=n.getPointPosition(f,n.drawingArea+i[f],d),w=as(g.font),S=iq(n.ctx,w,n._pointLabels[f]);r[f]=S;const k=cl(n.getIndexAngle(f)+d),R=Math.round(sM(k));oq(t,e,k,lL(R,v.x,S.w,0,180),lL(R,v.y,S.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function aq(n,e,t){const r=[],i=n._pointLabels.length,s=n.options,c=jM(s)/2,d=n.drawingArea,f=s.pointLabels.centerPointLabels?Qr/i:0;for(let g=0;g<i;g++){const v=n.getPointPosition(g,d+c+t[g],f),w=Math.round(sM(cl(v.angle+fi))),S=e[g],k=uq(v.y,S.h,w),R=lq(w),B=cq(v.x,S.w,R);r.push({x:v.x,y:k,textAlign:R,left:B,top:k,right:B+S.w,bottom:k+S.h})}return r}(n,r,i)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){return cl(e*(xr/(this._pointLabels.length||1))+Gc(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(er(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(er(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return function fq(n,e,t){return Of(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const i=this.getIndexAngle(e)-fi+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),cL(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:i}=t,s=this._pointLabels.length;let c,d,f;if(t.pointLabels.display&&function dq(n,e){const{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){const s=r.setContext(n.getPointLabelContext(i)),c=as(s.font),{x:d,y:f,textAlign:g,left:v,top:w,right:S,bottom:k}=n._pointLabelItems[i],{backdropColor:R}=s;if(!er(R)){const B=kg(s.borderRadius),G=ao(s.backdropPadding);t.fillStyle=R;const te=v-G.left,ye=w-G.top,Le=S-v+G.width,xe=k-w+G.height;Object.values(B).some(Ie=>0!==Ie)?(t.beginPath(),uw(t,{x:te,y:ye,w:Le,h:xe,radius:B}),t.fill()):t.fillRect(te,ye,Le,xe)}Mg(t,n._pointLabels[i],d,f+c.lineHeight/2,c,{color:s.color,textAlign:g,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach((g,v)=>{0!==v&&(d=this.getDistanceFromCenterForValue(g.value),function hq(n,e,t,r){const i=n.ctx,s=e.circular,{color:c,lineWidth:d}=e;!s&&!r||!c||!d||t<0||(i.save(),i.strokeStyle=c,i.lineWidth=d,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),cL(n,t,s,r),i.closePath(),i.stroke(),i.restore())}(this,i.setContext(this.getContext(v-1)),d,s))}),r.display){for(e.save(),c=s-1;c>=0;c--){const g=r.setContext(this.getPointLabelContext(c)),{color:v,lineWidth:w}=g;!w||!v||(e.lineWidth=w,e.strokeStyle=v,e.setLineDash(g.borderDash),e.lineDashOffset=g.borderDashOffset,d=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),f=this.getPointPosition(c,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(f.x,f.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,c;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((d,f)=>{if(0===f&&!t.reverse)return;const g=r.setContext(this.getContext(f)),v=as(g.font);if(s=this.getDistanceFromCenterForValue(this.ticks[f].value),g.showLabelBackdrop){e.font=v.string,c=e.measureText(d.label).width,e.fillStyle=g.backdropColor;const w=ao(g.backdropPadding);e.fillRect(-c/2-w.left,-s-v.size/2-w.top,c+w.width,v.size+w.height)}Mg(e,d.label,0,-s,v,{color:g.color})}),e.restore()}drawTitle(){}}h_.id="radialLinear",h_.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:eT.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},h_.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},h_.descriptors={angleLines:{_fallback:"grid"}};const cT={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},da=Object.keys(cT);function pq(n,e){return n-e}function uL(n,e){if(er(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let c=e;return"function"==typeof r&&(c=r(c)),Ii(c)||(c="string"==typeof r?t.parse(c,r):t.parse(c)),null===c?null:(i&&(c="week"!==i||!nw(s)&&!0!==s?t.startOf(c,i):t.startOf(c,"isoWeek",s)),+c)}function dL(n,e,t,r){const i=da.length;for(let s=da.indexOf(n);s<i-1;++s){const c=cT[da[s]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(d*c.size))<=r)return da[s]}return da[i-1]}function hL(n,e,t){if(t){if(t.length){const{lo:r,hi:i}=mM(t,e);n[t[r]>=e?t[r]:t[i]]=!0}}else n[e]=!0}function fL(n,e,t){const r=[],i={},s=e.length;let c,d;for(c=0;c<s;++c)d=e[c],i[d]=c,r.push({value:d,major:!1});return 0!==s&&t?function yq(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),c=e[e.length-1].value;let d,f;for(d=s;d<=c;d=+i.add(d,1,r))f=t[d],f>=0&&(e[f].major=!0);return e}(n,r,i,t):r}let ZM=(()=>{class n extends Lg{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r){const i=t.time||(t.time={}),s=this._adapter=new H4._date(t.adapters.date);ew(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return void 0===t?null:uL(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,i=t.time.unit||"day";let{min:s,max:c,minDefined:d,maxDefined:f}=this.getUserBounds();function g(v){!d&&!isNaN(v.min)&&(s=Math.min(s,v.min)),!f&&!isNaN(v.max)&&(c=Math.max(c,v.max))}(!d||!f)&&(g(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&g(this.getMinMax(!1))),s=Ii(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),c=Ii(c)&&!isNaN(c)?c:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,c-1),this.max=Math.max(s+1,c)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){const t=this.options,r=t.time,i=t.ticks,s="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const c=this.min,f=function M5(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}(s,c,this.max);return this._unit=r.unit||(i.autoSkip?dL(r.minUnit,this.min,this.max,this._getLabelCapacity(c)):function gq(n,e,t,r,i){for(let s=da.length-1;s>=da.indexOf(t);s--){const c=da[s];if(cT[c].common&&n._adapter.diff(i,r,c)>=e-1)return c}return da[t?da.indexOf(t):0]}(this,f.length,r.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function mq(n){for(let e=da.indexOf(n)+1,t=da.length;e<t;++e)if(cT[da[e]].common)return da[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&f.reverse(),fL(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let s,c,r=0,i=0;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),r=1===t.length?1-s:(this.getDecimalForValue(t[1])-s)/2,c=this.getDecimalForValue(t[t.length-1]),i=1===t.length?c:(c-this.getDecimalForValue(t[t.length-2]))/2);const d=t.length<3?.5:.25;r=xs(r,0,d),i=xs(i,0,d),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,r=this.min,i=this.max,s=this.options,c=s.time,d=c.unit||dL(c.minUnit,r,i,this._getLabelCapacity(r)),f=Tn(c.stepSize,1),g="week"===d&&c.isoWeekday,v=nw(g)||!0===g,w={};let k,R,S=r;if(v&&(S=+t.startOf(S,"isoWeek",g)),S=+t.startOf(S,v?"day":d),t.diff(i,r,d)>1e5*f)throw new Error(r+" and "+i+" are too far apart with stepSize of "+f+" "+d);const B="data"===s.ticks.source&&this.getDataTimestamps();for(k=S,R=0;k<i;k=+t.add(k,f,d),R++)hL(w,k,B);return(k===i||"ticks"===s.bounds||1===R)&&hL(w,k,B),Object.keys(w).sort((G,te)=>G-te).map(G=>+G)}getLabelForValue(t){const i=this.options.time;return this._adapter.format(t,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}_tickFormatFunction(t,r,i,s){const c=this.options,d=c.time.displayFormats,f=this._unit,g=this._majorUnit,w=g&&d[g],S=i[r],R=this._adapter.format(t,s||(g&&w&&S&&S.major?w:f&&d[f])),B=c.ticks.callback;return B?Lr(B,[R,r,i],this):R}generateTickLabels(t){let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r],s.label=this._tickFormatFunction(s.value,r,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){const r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,i=this.ctx.measureText(t).width,s=Gc(this.isHorizontal()?r.maxRotation:r.minRotation),c=Math.cos(s),d=Math.sin(s),f=this._resolveTickFontOptions(0).size;return{w:i*c+f*d,h:i*d+f*c}}_getLabelCapacity(t){const r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,c=this._tickFormatFunction(t,0,fL(this,[t],this._majorUnit),s),d=this._getLabelSize(c),f=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return f>0?f:1}getDataTimestamps(){let r,i,t=this._cache.data||[];if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)t=t.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,i;if(t.length)return t;const s=this.getLabels();for(r=0,i=s.length;r<i;++r)t.push(uL(this,s[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return C2(t.sort(pq))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function uT(n,e,t){let s,c,d,f,r=0,i=n.length-1;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=dh(n,"pos",e)),({pos:s,time:d}=n[r]),({pos:c,time:f}=n[i])):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=dh(n,"time",e)),({time:s,pos:d}=n[r]),({time:c,pos:f}=n[i]));const g=c-s;return g?d+(f-d)*(e-s)/g:d}class dT extends ZM{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=uT(t,this.min),this._tableRange=uT(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let c,d,f,g,v;for(c=0,d=e.length;c<d;++c)g=e[c],g>=t&&g<=r&&i.push(g);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(c=0,d=i.length;c<d;++c)v=i[c+1],f=i[c-1],g=i[c],Math.round((v+f)/2)!==g&&s.push({time:g,pos:c/(d-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(uT(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return uT(this._table,r*this._tableRange+this._minPos,!0)}}dT.id="timeseries",dT.defaults=ZM.defaults;const hT=function wq(n,e){return n===e||n!=n&&e!=e},fT=function Cq(n,e){for(var t=n.length;t--;)if(hT(n[t][0],e))return t;return-1};var Eq=Array.prototype.splice;function f_(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}f_.prototype.clear=function vq(){this.__data__=[],this.size=0},f_.prototype.delete=function Tq(n){var e=this.__data__,t=fT(e,n);return!(t<0||(t==e.length-1?e.pop():Eq.call(e,t,1),--this.size,0))},f_.prototype.get=function Dq(n){var e=this.__data__,t=fT(e,n);return t<0?void 0:e[t][1]},f_.prototype.has=function Sq(n){return fT(this.__data__,n)>-1},f_.prototype.set=function kq(n,e){var t=this.__data__,r=fT(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this};const pT=f_,pL="object"==typeof global&&global&&global.Object===Object&&global;var Zq="object"==typeof self&&self&&self.Object===Object&&self;const p_=pL||Zq||Function("return this")();var qq=p_.Symbol,gL=Object.prototype,zq=gL.hasOwnProperty,$q=gL.toString,Dw=qq?qq.toStringTag:void 0;var Yq=Object.prototype.toString;var mL=qq?qq.toStringTag:void 0;const mT=function t8(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":mL&&mL in Object(n)?function Gq(n){var e=zq.call(n,Dw),t=n[Dw];try{n[Dw]=void 0;var r=!0}catch(s){}var i=$q.call(n);return r&&(e?n[Dw]=t:delete n[Dw]),i}(n):function Qq(n){return Yq.call(n)}(n)},Fg=function n8(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)},HM=function a8(n){if(!Fg(n))return!1;var e=mT(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},qM=p_["__core-js_shared__"];var yL=function(){var n=/[^.]+$/.exec(qM&&qM.keys&&qM.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var h8=Function.prototype.toString;var m8=/^\[object .+?Constructor\]$/,w8=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const x8=function C8(n){return!(!Fg(n)||function c8(n){return!!yL&&yL in n}(n))&&(HM(n)?w8:m8).test(function f8(n){if(null!=n){try{return h8.call(n)}catch(e){}try{return n+""}catch(e){}}return""}(n))},zM=function I8(n,e){var t=function E8(n,e){return null==n?void 0:n[e]}(n,e);return x8(t)?t:void 0},_L=zM(p_,"Map"),Aw=zM(Object,"create");var N8=Object.prototype.hasOwnProperty;var V8=Object.prototype.hasOwnProperty;function g_(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}g_.prototype.clear=function S8(){this.__data__=Aw?Aw(null):{},this.size=0},g_.prototype.delete=function k8(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},g_.prototype.get=function L8(n){var e=this.__data__;if(Aw){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return N8.call(e,n)?e[n]:void 0},g_.prototype.has=function B8(n){var e=this.__data__;return Aw?void 0!==e[n]:V8.call(e,n)},g_.prototype.set=function H8(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Aw&&void 0===e?"__lodash_hash_undefined__":e,this};const vL=g_,yT=function K8(n,e){var t=n.__data__;return function G8(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}(e)?t["string"==typeof e?"string":"hash"]:t.map};function m_(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}m_.prototype.clear=function z8(){this.size=0,this.__data__={hash:new vL,map:new(_L||pT),string:new vL}},m_.prototype.delete=function Y8(n){var e=yT(this,n).delete(n);return this.size-=e?1:0,e},m_.prototype.get=function J8(n){return yT(this,n).get(n)},m_.prototype.has=function ez(n){return yT(this,n).has(n)},m_.prototype.set=function nz(n,e){var t=yT(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this};const iz=m_;function y_(n){var e=this.__data__=new pT(n);this.size=e.size}y_.prototype.clear=function Pq(){this.__data__=new pT,this.size=0},y_.prototype.delete=function Nq(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t},y_.prototype.get=function Fq(n){return this.__data__.get(n)},y_.prototype.has=function Vq(n){return this.__data__.has(n)},y_.prototype.set=function oz(n,e){var t=this.__data__;if(t instanceof pT){var r=t.__data__;if(!_L||r.length<199)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new iz(r)}return t.set(n,e),this.size=t.size,this};const lz=y_;var cz=function(){try{var n=zM(Object,"defineProperty");return n({},"",{}),n}catch(e){}}();const _T=cz,$M=function uz(n,e,t){"__proto__"==e&&_T?_T(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t},GM=function dz(n,e,t){(void 0!==t&&!hT(n[e],t)||void 0===t&&!(e in n))&&$M(n,e,t)};var fz=function hz(n){return function(e,t,r){for(var i=-1,s=Object(e),c=r(e),d=c.length;d--;){var f=c[n?d:++i];if(!1===t(s[f],f,s))break}return e}}();const pz=fz;var bL="object"==typeof exports&&exports&&!exports.nodeType&&exports,wL=bL&&"object"==typeof module&&module&&!module.nodeType&&module,CL=wL&&wL.exports===bL?p_.Buffer:void 0,xL=CL?CL.allocUnsafe:void 0;const EL=p_.Uint8Array,Cz=function wz(n,e){var t=e?function vz(n){var e=new n.constructor(n.byteLength);return new EL(e).set(new EL(n)),e}(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)};var TL=Object.create,Tz=function(){function n(){}return function(e){if(!Fg(e))return{};if(TL)return TL(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const Iz=Tz;var Az=function Dz(n,e){return function(t){return n(e(t))}}(Object.getPrototypeOf,Object);const IL=Az;var Sz=Object.prototype;const DL=function Mz(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||Sz)},Sw=function Pz(n){return null!=n&&"object"==typeof n},AL=function Nz(n){return Sw(n)&&"[object Arguments]"==mT(n)};var SL=Object.prototype,Lz=SL.hasOwnProperty,Fz=SL.propertyIsEnumerable,Uz=AL(function(){return arguments}())?AL:function(n){return Sw(n)&&Lz.call(n,"callee")&&!Fz.call(n,"callee")};const WM=Uz,KM=Array.isArray,ML=function jz(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},YM=function Zz(n){return null!=n&&ML(n.length)&&!HM(n)};var kL="object"==typeof exports&&exports&&!exports.nodeType&&exports,OL=kL&&"object"==typeof module&&module&&!module.nodeType&&module,PL=OL&&OL.exports===kL?p_.Buffer:void 0;const RL=(PL?PL.isBuffer:void 0)||function zz(){return!1};var NL=Function.prototype.toString,Xz=Object.prototype.hasOwnProperty,e$=NL.call(Object);var $r={};$r["[object Float32Array]"]=$r["[object Float64Array]"]=$r["[object Int8Array]"]=$r["[object Int16Array]"]=$r["[object Int32Array]"]=$r["[object Uint8Array]"]=$r["[object Uint8ClampedArray]"]=$r["[object Uint16Array]"]=$r["[object Uint32Array]"]=!0,$r["[object Arguments]"]=$r["[object Array]"]=$r["[object ArrayBuffer]"]=$r["[object Boolean]"]=$r["[object DataView]"]=$r["[object Date]"]=$r["[object Error]"]=$r["[object Function]"]=$r["[object Map]"]=$r["[object Number]"]=$r["[object Object]"]=$r["[object RegExp]"]=$r["[object Set]"]=$r["[object String]"]=$r["[object WeakMap]"]=!1;var LL="object"==typeof exports&&exports&&!exports.nodeType&&exports,Mw=LL&&"object"==typeof module&&module&&!module.nodeType&&module,QM=Mw&&Mw.exports===LL&&pL.process,O$=function(){try{return Mw&&Mw.require&&Mw.require("util").types||QM&&QM.binding&&QM.binding("util")}catch(e){}}(),UL=O$&&O$.isTypedArray;const VL=UL?function S$(n){return function(e){return n(e)}}(UL):function D$(n){return Sw(n)&&ML(n.length)&&!!$r[mT(n)]},JM=function R$(n,e){if(("constructor"!==e||"function"!=typeof n[e])&&"__proto__"!=e)return n[e]};var L$=Object.prototype.hasOwnProperty;const U$=function F$(n,e,t){var r=n[e];(!L$.call(n,e)||!hT(r,t)||void 0===t&&!(e in n))&&$M(n,e,t)};var q$=/^(?:0|[1-9]\d*)$/;const BL=function z$(n,e){var t=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==t||"symbol"!=t&&q$.test(n))&&n>-1&&n%1==0&&n<e};var G$=Object.prototype.hasOwnProperty;const K$=function W$(n,e){var t=KM(n),r=!t&&WM(n),i=!t&&!r&&RL(n),s=!t&&!r&&!i&&VL(n),c=t||r||i||s,d=c?function j$(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}(n.length,String):[],f=d.length;for(var g in n)(e||G$.call(n,g))&&(!c||!("length"==g||i&&("offset"==g||"parent"==g)||s&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||BL(g,f)))&&d.push(g);return d};var X$=Object.prototype.hasOwnProperty;const t7=function e7(n){if(!Fg(n))return function Y$(n){var e=[];if(null!=n)for(var t in Object(n))e.push(t);return e}(n);var e=DL(n),t=[];for(var r in n)"constructor"==r&&(e||!X$.call(n,r))||t.push(r);return t},jL=function n7(n){return YM(n)?K$(n,!0):t7(n)},i7=function r7(n){return function V$(n,e,t,r){var i=!t;t||(t={});for(var s=-1,c=e.length;++s<c;){var d=e[s],f=r?r(t[d],n[d],d,t,n):void 0;void 0===f&&(f=n[d]),i?$M(t,d,f):U$(t,d,f)}return t}(n,jL(n))},o7=function s7(n,e,t,r,i,s,c){var d=JM(n,t),f=JM(e,t),g=c.get(f);if(g)GM(n,t,g);else{var v=s?s(d,f,t+"",n,e,c):void 0,w=void 0===v;if(w){var S=KM(f),k=!S&&RL(f),R=!S&&!k&&VL(f);v=f,S||k||R?KM(d)?v=d:function Hz(n){return Sw(n)&&YM(n)}(d)?v=function xz(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}(d):k?(w=!1,v=function mz(n,e){if(e)return n.slice();var t=n.length,r=xL?xL(t):new n.constructor(t);return n.copy(r),r}(f,!0)):R?(w=!1,v=Cz(f,!0)):v=[]:function t$(n){if(!Sw(n)||"[object Object]"!=mT(n))return!1;var e=IL(n);if(null===e)return!0;var t=Xz.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&NL.call(t)==e$}(f)||WM(f)?(v=d,WM(d)?v=i7(d):(!Fg(d)||HM(d))&&(v=function kz(n){return"function"!=typeof n.constructor||DL(n)?{}:Iz(IL(n))}(f))):w=!1}w&&(c.set(f,v),i(v,f,r,s,c),c.delete(f)),GM(n,t,v)}},a7=function ZL(n,e,t,r,i){n!==e&&pz(e,function(s,c){if(i||(i=new lz),Fg(s))o7(n,e,c,t,ZL,r,i);else{var d=r?r(JM(n,c),s,c+"",n,e,i):void 0;void 0===d&&(d=s),GM(n,c,d)}},jL)},HL=function l7(n){return n},u7=function c7(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)};var qL=Math.max;const p7=function f7(n){return function(){return n}};var g7=_T?function(n,e){return _T(n,"toString",{configurable:!0,enumerable:!1,value:p7(e),writable:!0})}:HL,v7=Date.now,w7=function b7(n){var e=0,t=0;return function(){var r=v7(),i=16-(r-t);if(t=r,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}(g7);const C7=w7,E7=function x7(n,e){return C7(function d7(n,e,t){return e=qL(void 0===e?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=qL(r.length-e,0),c=Array(s);++i<s;)c[i]=r[e+i];i=-1;for(var d=Array(e+1);++i<e;)d[i]=r[i];return d[e]=t(c),u7(n,this,d)}}(n,e,HL),n+"")};var A7=function D7(n){return E7(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,c=i>2?t[2]:void 0;for(s=n.length>3&&"function"==typeof s?(i--,s):void 0,c&&function T7(n,e,t){if(!Fg(t))return!1;var r=typeof e;return!!("number"==r?YM(t)&&BL(e,t.length):"string"==r&&e in t)&&hT(t[e],n)}(t[0],t[1],c)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var d=t[r];d&&n(e,d,r,s)}return e})}(function(n,e,t){a7(n,e,t)});const zL=A7;let S7=(()=>{class n{constructor(){this.colorschemesOptions=new wr(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M7=(()=>{class n{constructor(t,r,i){this.element=t,this.zone=r,this.themeService=i,this.type="bar",this.plugins=[],this.chartClick=new l.vpe,this.chartHover=new l.vpe,this.subs=[],this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(ZC()).subscribe(s=>this.themeChanged(s)))}ngOnChanges(t){const r=["type"],i=Object.getOwnPropertyNames(t);if(i.some(s=>r.includes(s))||i.every(s=>t[s].isFirstChange()))this.render();else{const s=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,s.data),Object.assign(this.chart.config.plugins,s.plugins),Object.assign(this.chart.config.options,s.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new ww(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>{var r;return null===(r=this.chart)||void 0===r?void 0:r.update(t)})}hideDataset(t,r){this.chart&&(this.chart.getDatasetMeta(t).hidden=r,this.update())}isDatasetHidden(t){var r,i;return null===(i=null===(r=this.chart)||void 0===r?void 0:r.getDatasetMeta(t))||void 0===i?void 0:i.hidden}toBase64Image(){var t;return null===(t=this.chart)||void 0===t?void 0:t.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return zL({onHover:(t,r)=>{!this.chartHover.observed&&!this.chartHover.observers.length||this.zone.run(()=>this.chartHover.emit({event:t,active:r}))},onClick:(t,r)=>{!this.chartClick.observed&&!this.chartClick.observers.length||this.zone.run(()=>this.chartClick.emit({event:t,active:r}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),plugins:this.plugins,options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(S7))},n.\u0275dir=l.lG2({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[l.TTD]}),n})();const k7=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],O7={datasets:{line:{backgroundColor:n=>Uo(Vo(n.datasetIndex),.4),borderColor:n=>Uo(Vo(n.datasetIndex),1),pointBackgroundColor:n=>Uo(Vo(n.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:n=>Uo(Vo(n.datasetIndex),.8)},bar:{backgroundColor:n=>Uo(Vo(n.datasetIndex),.6),borderColor:n=>Uo(Vo(n.datasetIndex),1),hoverBackgroundColor:n=>Uo(Vo(n.datasetIndex),.8),hoverBorderColor:n=>Uo(Vo(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>Uo(Vo(n.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:n=>Uo(Vo(n.dataIndex),1),hoverBorderColor:n=>Uo(Vo(n.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>Uo(Vo(n.dataIndex),.6),borderColor:n=>Uo(Vo(n.dataIndex),1),hoverBackgroundColor:n=>Uo(Vo(n.dataIndex),.8),hoverBorderColor:n=>Uo(Vo(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Uo(n,e){return"rgba("+n.concat(e).join(",")+")"}function XM(n,e){return Math.floor(Math.random()*(e-n+1))+n}function Vo(n=0){return k7[n]||function P7(){return[XM(0,255),XM(0,255),XM(0,255)]}()}ww.register(JN,sL,WN,QN,IM,xw,UN,lT,Iw,nN,Ew,TM,Cw,oN,h_,sN,iN,rN,aN,dT);let $L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GL=(()=>{class n{constructor(t){(null==t?void 0:t.plugins)&&ww.register(...null==t?void 0:t.plugins);const r=zL(O7,(null==t?void 0:t.defaults)||{});Vn.set(r)}static forRoot(t){return{ngModule:n,providers:[{provide:$L,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($L,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[]]}),n})();function R7(n,e){if(1&n&&(l.TgZ(0,"div",24)(1,"div",25),l._UZ(2,"canvas",26),l.qZA()()),2&n){const t=l.oxw();l.xp6(2),l.Q6J("datasets",t.barChartData)("labels",t.barChartLabels)("plugins",t.barChartPlugins)("legend",t.barChartLegend)("options",t.barChartOptions)}}function N7(n,e){}let L7=(()=>{class n{constructor(t){this.peticionesServicio=t,this.barChartType="bar",this.ancho=3,this.radius=8,this.barChartData=[],this.barChartLabels=["Productos Existentes"],this.barChartOptions={responsive:!0,plugins:{title:{display:!0,text:"Grafica Existencia De Los Producto",font:{family:"Impact",size:40},color:"rgb(23, 139, 255)"},legend:{labels:{font:{size:15,family:"Consolas"},color:"black"},position:"bottom"}},scales:{y:{ticks:{color:"rgb(23, 113, 203)",font:{size:18,family:"Alegrian",weight:"bold"}},title:{display:!0,text:"Cantidad de productos",color:"rgb(7, 42, 106)",font:{family:"Verbana",size:18,weight:"bold"}}},x:{title:{display:!0,text:"Productos",font:{family:"Verbana",size:18,weight:"bold"},color:"rgb(22, 72, 180)"},ticks:{color:"rgb(72, 0, 75)",font:{size:18,family:"Alegrian",weight:"bold"}}}}},this.barChartLegend=!0,this.barChartPlugins=[],this.band=!1,this.recuperarDatos()}ngOnInit(){}click(){this.band=0==this.band}recuperarDatos(){yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.peticionesServicio.consultaTodo("consultaTodo","producto").subscribe(t=>{this.producto=t.myarray,this.id_doc=t.myids,yt().close();for(let r=0;r<this.producto.length;r++)this.barChartData.push({data:[this.producto[r].cantidad],label:`${this.producto[r].nombre}`,backgroundColor:`rgba(${Math.round(255*Math.random()+0)}, ${Math.round(252*Math.random()+0)}, ${Math.round(255*Math.random()+0)}, 0.69)`,borderColor:`rgb(${Math.round(255*Math.random()+0)}, ${Math.round(252*Math.random()+0)}, ${Math.round(252*Math.random()+0)})`,borderWidth:this.ancho,type:this.barChartType,borderRadius:this.radius});console.log("Listo")},t=>{yt().close(),yt().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal...Intenta de nuevo ",confirmButtonText:"Entendido"})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ua))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-grafica-existencias-prod"]],decls:32,vars:3,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column","cont"],[3,"emitBand"],[1,"container-fluid","cont"],["class","row cont",4,"ngIf","ngIfElse"],["nocanvas",""],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"row","cont"],[1,"col-12","col-sm-12","cont"],["width","100%","height","100%","baseChart","",3,"datasets","labels","plugins","legend","options"]],template:function(t,r){if(1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-admin",2),l.TgZ(3,"div",3)(4,"app-topbar",4),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(5,"div",5),l.YNc(6,R7,3,5,"div",6),l.YNc(7,N7,0,0,"ng-template",null,7,l.W1O),l.qZA(),l.TgZ(9,"footer",8)(10,"div",9)(11,"div",10)(12,"span"),l._uU(13,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()()()()(),l.TgZ(14,"a",11),l._UZ(15,"i",12),l.qZA(),l.TgZ(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"h5",17),l._uU(21,"Ready to Leave?"),l.qZA(),l.TgZ(22,"button",18)(23,"span",19),l._uU(24,"\xd7"),l.qZA()()(),l.TgZ(25,"div",20),l._uU(26,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(27,"div",21)(28,"button",22),l._uU(29,"Cancel"),l.qZA(),l.TgZ(30,"a",23),l._uU(31,"Logout"),l.qZA()()()()()()),2&t){const i=l.MAs(8);l.xp6(2),l.Q6J("band",!r.band),l.xp6(4),l.Q6J("ngIf",r.barChartData.length>0)("ngIfElse",i)}},directives:[ih,sh,tr,M7],styles:["@media only screen and (max-width: 420px){.cont[_ngcontent-%COMP%]{height:100vh}canvas[_ngcontent-%COMP%]{height:300px!important}}@media only screen and (min-width: 820px){.cont[_ngcontent-%COMP%]{height:100vh}canvas[_ngcontent-%COMP%]{height:100vh!important;width:80vw!important}}"]}),n})();function F7(n,e){if(1&n&&(l.TgZ(0,"tr",28)(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._UZ(8,"img",29),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.name),l.xp6(2),l.Oqu(t.email),l.xp6(2),l.Oqu(t.uid),l.xp6(2),l.s9C("src",t.photo,l.LSH)}}let U7=(()=>{class n{constructor(t){this.peticiones=t,this.band=!1,this.users=[]}ngOnInit(){yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.peticiones.consultaTodo("consultaTodo","usuario").subscribe(t=>{this.users=t.myarray,yt().close()},t=>{yt().close(),yt().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal...Revisa tu conexion a internet ",confirmButtonText:"Entendido"})})}click(){this.band=0==this.band}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ua))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-consulta-users"]],decls:44,vars:2,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"emitBand"],[1,"row"],[1,"col-4","col-sm-6","col-md-8","col-lg-12"],[1,"table"],[1,"table-primary"],["scope","col"],["class","table-success",4,"ngFor","ngForOf"],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"table-success"],["alt","","width","100px",3,"src"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-admin",2),l.TgZ(3,"div",3)(4,"div",4)(5,"app-topbar",5),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(6,"div",6)(7,"div",7)(8,"table",8)(9,"thead",9)(10,"tr")(11,"th",10),l._uU(12,"Nombre"),l.qZA(),l.TgZ(13,"th",10),l._uU(14,"Correo"),l.qZA(),l.TgZ(15,"th",10),l._uU(16,"UID"),l.qZA(),l.TgZ(17,"th",10),l._uU(18,"Foto"),l.qZA()()(),l.TgZ(19,"tbody"),l.YNc(20,F7,9,4,"tr",11),l.qZA()()()()(),l.TgZ(21,"footer",12)(22,"div",13)(23,"div",14)(24,"span"),l._uU(25,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()()()()(),l.TgZ(26,"a",15),l._UZ(27,"i",16),l.qZA(),l.TgZ(28,"div",17)(29,"div",18)(30,"div",19)(31,"div",20)(32,"h5",21),l._uU(33,"Ready to Leave?"),l.qZA(),l.TgZ(34,"button",22)(35,"span",23),l._uU(36,"\xd7"),l.qZA()()(),l.TgZ(37,"div",24),l._uU(38,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(39,"div",25)(40,"button",26),l._uU(41,"Cancel"),l.qZA(),l.TgZ(42,"a",27),l._uU(43,"Logout"),l.qZA()()()()()()),2&t&&(l.xp6(2),l.Q6J("band",!r.band),l.xp6(18),l.Q6J("ngForOf",r.users))},directives:[ih,sh,Dn],styles:["table[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:15px 10px;width:80%;margin:auto}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:1em}img[_ngcontent-%COMP%]{border-radius:50%}"]}),n})();function V7(n,e){if(1&n&&(l.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30)(5,"div",31),l._uU(6),l.qZA(),l.TgZ(7,"div",32),l._UZ(8,"img",33),l.qZA(),l.TgZ(9,"div",31),l._uU(10),l.qZA(),l.TgZ(11,"div",32),l._uU(12),l.qZA()(),l.TgZ(13,"div",34),l._UZ(14,"img",35),l.qZA()()()()()),2&n){const t=e.$implicit;l.xp6(6),l.hij(" Cliente: ",t.correoUsario,""),l.xp6(2),l.s9C("src",t.imgProducto,l.LSH),l.xp6(2),l.hij(" Costo: $",t.costo,""),l.xp6(2),l.hij("Pais: ",t.nombrePais,""),l.xp6(2),l.s9C("src",t.paisOrigen,l.LSH)}}const B7=function(){return["/inicioUser"]};let j7=(()=>{class n{constructor(t){this.peticiones=t,this.band=!1,this.ventas=[{correoUsario:"",costo:"",id:"",imgProducto:"",paisOrigen:"",nombrePais:""}]}ngOnInit(){this.peticiones.consultaTodo("consultaTodo","ventas").subscribe(t=>{this.ventas=t.myarray})}click(){this.band=0==this.band}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ua))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-consulta-ventas"]],decls:36,vars:4,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"emitBand"],[1,"container-fluid"],[1,"row"],["class","col-xl-3 col-md-6 mb-4",4,"ngFor","ngForOf"],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],[1,"nav-link",3,"routerLink"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"col-xl-3","col-md-6","mb-4"],[1,"card","border-left-primary","shadow","h-100","py-2"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-primary","text-uppercase","mb-1"],[1,"h5","mb-0","font-weight-bold","text-gray-800"],["width","100px","alt","",3,"src"],[1,"col-auto","mt-5",2,"text-align","center"],["width","30%","alt","Imagen pais",3,"src"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-admin",2),l.TgZ(3,"div",3)(4,"div",4)(5,"app-topbar",5),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(6,"div",6)(7,"h2"),l._uU(8,"Ventas realizadas"),l.qZA(),l.TgZ(9,"div",7),l.YNc(10,V7,15,5,"div",8),l.qZA()()(),l.TgZ(11,"footer",9)(12,"div",10)(13,"div",11)(14,"span"),l._uU(15,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()(),l.TgZ(16,"a",12),l._uU(17,"Pruebas"),l.qZA()()()(),l.TgZ(18,"a",13),l._UZ(19,"i",14),l.qZA(),l.TgZ(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",18)(24,"h5",19),l._uU(25,"Ready to Leave?"),l.qZA(),l.TgZ(26,"button",20)(27,"span",21),l._uU(28,"\xd7"),l.qZA()()(),l.TgZ(29,"div",22),l._uU(30,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(31,"div",23)(32,"button",24),l._uU(33,"Cancel"),l.qZA(),l.TgZ(34,"a",25),l._uU(35,"Logout"),l.qZA()()()()()()),2&t&&(l.xp6(2),l.Q6J("band",!r.band),l.xp6(8),l.Q6J("ngForOf",r.ventas),l.xp6(6),l.Q6J("routerLink",l.DdM(3,B7)))},directives:[ih,sh,Dn,Cc],styles:[""]}),n})();const Nf=function(n,e){return{"font-size.px":n,"font-family":e}};function Z7(n,e){if(1&n&&(l.TgZ(0,"p",21),l._uU(1,"N\xfamero invalido (debe tener al menos 12 caracteres)"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,Nf,t.accesibilidad.font_size,t.accesibilidad.font_p))}}function H7(n,e){if(1&n&&(l.TgZ(0,"p",21),l._uU(1,"El campo no puede quedar vacio"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,Nf,t.accesibilidad.font_size,t.accesibilidad.font_p))}}function q7(n,e){if(1&n&&(l.TgZ(0,"p",21),l._uU(1,"El campo no puede quedar vacio"),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngStyle",l.WLB(1,Nf,t.accesibilidad.font_size,t.accesibilidad.font_p))}}let z7=(()=>{class n{constructor(t,r){this.accesibilidad=t,this.authService=r,this.myFormNumber=new la({numero:new In("",[_n.required,_n.minLength(12)])}),this.myFormCode=new la({codigo:new In("",[_n.required])})}ngOnInit(){this.createCaptcha()}createCaptcha(){this.recaptchaVerifier=new n_.R("recaptcha-container",{size:"invisible"},n_.n()),this.recaptchaVerifier.render()}sendCode(){this.authService.sendCode(this.myFormNumber.value.numero,this.recaptchaVerifier)}verify(){this.authService.verifyCode(this.myFormCode.value.codigo).catch(t=>{alert("error")})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yl),l.Y36(ol))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login-msm"]],decls:30,vars:27,consts:[["lang","en"],[1,"bg-gradient-primary"],[1,"container"],[1,"row","justify-content-center"],[1,"col-xl-10","col-lg-12","col-md-9"],[1,"card","o-hidden","border-0","shadow-lg","my-5"],[1,"card-body","p-0"],[1,"row"],[1,"col-lg-6","d-none","d-lg-block","bg-login-image"],[1,"col-lg-6"],[1,"p-5"],[1,"text-center"],[1,"h4","text-gray-900","mb-4",3,"ngStyle"],[1,"user",3,"formGroup"],[1,"form-group"],[3,"ngStyle",4,"ngIf"],["type","email","id","exampleInputEmail","aria-describedby","emailHelp","placeholder","Ingresa el n\xfamero telef\xf3nico...","formControlName","numero",1,"form-control","form-control-user",3,"ngStyle"],["s","",1,"btn","btn-primary","btn-user","btn-block","mt-3",3,"ngStyle","disabled","click"],["id","recaptcha-container",1,"form-group"],["type","email","id","exampleInputEmail","aria-describedby","emailHelp","placeholder","Ingresa el c\xf3digo que se te proporciono...","formControlName","codigo",1,"form-control","form-control-user",3,"ngStyle"],[1,"btn","btn-primary","btn-user","btn-block","mt-3",3,"ngStyle","disabled","click"],[3,"ngStyle"]],template:function(t,r){if(1&t&&(l.TgZ(0,"html",0),l._UZ(1,"head"),l.TgZ(2,"body",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),l._UZ(9,"div",8),l.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"h1",12),l._uU(14,"Log In con C\xf3digo a traves del celular"),l.qZA()(),l.TgZ(15,"form",13)(16,"div",14),l.YNc(17,Z7,2,4,"p",15),l.YNc(18,H7,2,4,"p",15),l._UZ(19,"input",16),l.TgZ(20,"button",17),l.NdJ("click",function(){return r.sendCode()}),l._uU(21," Enviar c\xf3digo "),l.qZA()(),l._UZ(22,"div",18),l.qZA(),l._UZ(23,"hr"),l.TgZ(24,"form",13)(25,"div",14),l.YNc(26,q7,2,4,"p",15),l._UZ(27,"input",19),l.TgZ(28,"button",20),l.NdJ("click",function(){return r.verify()}),l._uU(29," Login "),l.qZA()()()()()()()()()()()()()),2&t){let i,s,c;l.xp6(13),l.Q6J("ngStyle",l.WLB(12,Nf,r.accesibilidad.font_size+10,r.accesibilidad.font_h)),l.xp6(2),l.Q6J("formGroup",r.myFormNumber),l.xp6(2),l.Q6J("ngIf",null==(i=r.myFormNumber.get("numero"))||null==i.errors?null:i.errors.minlength),l.xp6(1),l.Q6J("ngIf",null==(s=r.myFormNumber.get("numero"))||null==s.errors?null:s.errors.required),l.xp6(1),l.Q6J("ngStyle",l.WLB(15,Nf,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(1),l.Q6J("ngStyle",l.WLB(18,Nf,r.accesibilidad.font_size,r.accesibilidad.font_p))("disabled",r.myFormNumber.invalid),l.xp6(4),l.Q6J("formGroup",r.myFormCode),l.xp6(2),l.Q6J("ngIf",null==(c=r.myFormCode.get("codigo"))||null==c.errors?null:c.errors.required),l.xp6(1),l.Q6J("ngStyle",l.WLB(21,Nf,r.accesibilidad.font_size,r.accesibilidad.font_p)),l.xp6(1),l.Q6J("ngStyle",l.WLB(24,Nf,r.accesibilidad.font_size,r.accesibilidad.font_p))("disabled",r.myFormCode.invalid)}},directives:[us,Tc,Ec,Fl,tr,Rl,bu,Ul],styles:[""]}),n})();function $7(n,e){if(1&n&&(l.TgZ(0,"tr",31)(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._UZ(4,"img",32),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.id),l.xp6(2),l.s9C("src",t.imgProducto,l.LSH),l.xp6(2),l.Oqu(t.nombrePais),l.xp6(2),l.Oqu(t.paisOrigen),l.xp6(2),l.Oqu(t.costo)}}function G7(n,e){if(1&n&&(l.TgZ(0,"div",25)(1,"table",26)(2,"thead",27)(3,"tr")(4,"th",28),l._uU(5,"ID Ticket"),l.qZA(),l.TgZ(6,"th",28),l._uU(7,"Producto"),l.qZA(),l.TgZ(8,"th",28),l._uU(9,"Origen del producto"),l.qZA(),l.TgZ(10,"th",28),l._uU(11,"Bandera del Pais de origen"),l.qZA(),l.TgZ(12,"th",28),l._uU(13,"Costo"),l.qZA()()(),l.TgZ(14,"tbody"),l.YNc(15,$7,11,5,"tr",29),l.qZA()(),l.TgZ(16,"div",30)(17,"h4"),l._uU(18),l.ALo(19,"number"),l.qZA()()()),2&n){const t=l.oxw();l.xp6(15),l.Q6J("ngForOf",t.comprasHechas),l.xp6(3),l.hij("Total gasto en compras = $",l.xi3(19,2,t.saldo,".0-3"),"")}}function W7(n,e){1&n&&(l.TgZ(0,"h3"),l._uU(1,"No hay compras aun en este Usuario, dale un vistazo en nuestra secci\xf3n de compras..."),l.qZA())}const K7=[{path:"sign-up",component:g6},{path:"sign-in",component:o6},{path:"",component:$R},{path:"app",component:zR},{path:"home",component:$R},{path:"contacto",component:Qj},{path:"msmlogin",component:z7},{path:"inicioAdmin",component:qj},{path:"altas",component:Nj},{path:"consultaProducto",component:Uj},{path:"actualizarProducto",component:HB},{path:"editarProducto/:id",component:Zj},{path:"navbarAdmin",component:qR},{path:"editarCompra/:id",component:T6},{path:"consultaCompras",component:HR},{path:"consultaUsuarios",component:U7},{path:"consultaVentas",component:j7},{path:"inicioUser",component:b6},{path:"faq",component:w6},{path:"consultaCompras",component:HR},{path:"compras",component:S6},{path:"qr/:nombre/:id/:cantidad/:precio/:descripcion/:img",component:P6},{path:"graficaExistenciaProd",component:L7},{path:"comprasHechas",component:(()=>{class n{constructor(t,r){this.peticionesService=t,this.authService=r,this.band=!1,this.comprasHechas=[],this.compras=[],this.gasto=0,this.saldo=0,yt().fire({allowOutsideClick:!1,title:"Cargando...",text:"Espere por favor"}),yt().showLoading(),this.peticionesService.consultaTodo("consultaTodo","ventas").subscribe(i=>{this.compras=i.myarray,this.id_doc=i.myids,console.log("Ventas Coleccion",this.compras),this.authService.getUserLogged().subscribe(s=>{this.correo=s.email,console.log("Correo",this.correo);for(let c=0;c<this.compras.length;c++)this.correo==this.compras[c].correoUsario&&(this.comprasHechas.push(this.compras[c]),this.saldo+=this.compras[c].costo);console.log("Compras Usuario",this.comprasHechas),yt().close()},s=>{yt().close(),yt().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal...Revisa tu conexion a internet ",confirmButtonText:"Entendido"})}),yt().close()},i=>{yt().close(),yt().fire({allowOutsideClick:!0,title:"Error...",text:"Algo salio mal...Revisa tu conexion a internet ",confirmButtonText:"Entendido"})})}ngOnInit(){}click(){this.band=0==this.band}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ua),l.Y36(ol))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-compras-hechas"]],decls:33,vars:3,consts:[["id","page-top"],["id","wrapper"],[3,"band"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"emitBand"],[1,"row"],["class","col-4 col-sm-6 col-md-8 col-lg-12",4,"ngIf","ngIfElse"],["nopeticion",""],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"col-4","col-sm-6","col-md-8","col-lg-12"],[1,"table"],[1,"table-primary"],["scope","col"],["class","table-success",4,"ngFor","ngForOf"],[1,"gasto"],[1,"table-success"],["alt","","width","100px",3,"src"]],template:function(t,r){if(1&t&&(l.TgZ(0,"body",0)(1,"div",1),l._UZ(2,"app-navbar-user",2),l.TgZ(3,"div",3)(4,"div",4)(5,"app-navbar-top-user",5),l.NdJ("emitBand",function(){return r.click()}),l.qZA(),l.TgZ(6,"div",6),l.YNc(7,G7,20,5,"div",7),l.YNc(8,W7,2,0,"ng-template",null,8,l.W1O),l.qZA()(),l.TgZ(10,"footer",9)(11,"div",10)(12,"div",11)(13,"span"),l._uU(14,"Copyright \xa9 ISC 6:B 2022 Equipo POLO"),l.qZA()()()()()(),l.TgZ(15,"a",12),l._UZ(16,"i",13),l.qZA(),l.TgZ(17,"div",14)(18,"div",15)(19,"div",16)(20,"div",17)(21,"h5",18),l._uU(22,"Ready to Leave?"),l.qZA(),l.TgZ(23,"button",19)(24,"span",20),l._uU(25,"\xd7"),l.qZA()()(),l.TgZ(26,"div",21),l._uU(27,'Select "Logout" below if you are ready to end your current session.'),l.qZA(),l.TgZ(28,"div",22)(29,"button",23),l._uU(30,"Cancel"),l.qZA(),l.TgZ(31,"a",24),l._uU(32,"Logout"),l.qZA()()()()()()),2&t){const i=l.MAs(9);l.xp6(2),l.Q6J("band",r.band),l.xp6(5),l.Q6J("ngIf",r.comprasHechas.length>0)("ngIfElse",i)}},directives:[R1,N1,tr,Dn],pipes:[ai],styles:["table[_ngcontent-%COMP%]{width:90%!important;margin:auto!important}"]}),n})()}];let ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ip.forRoot(K7)],ip]}),n})();let Y7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ua],imports:[[ds,VC,Mj,vs.hO,ek,oR,GL]]}),n})(),Q7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ds,ek,WR,GL]]}),n})();var J7=V(1144);const X7=["addListener","removeListener"],eG=["addEventListener","removeEventListener"],tG=["on","off"];function vT(n,e,t,r){if((0,vi.m)(t)&&(r=t,t=void 0),r)return vT(n,e,t).pipe(au(r));const[i,s]=function iG(n){return(0,vi.m)(n.addEventListener)&&(0,vi.m)(n.removeEventListener)}(n)?eG.map(c=>d=>n[c](e,d,t)):function nG(n){return(0,vi.m)(n.addListener)&&(0,vi.m)(n.removeListener)}(n)?X7.map(KL(n,e)):function rG(n){return(0,vi.m)(n.on)&&(0,vi.m)(n.off)}(n)?tG.map(KL(n,e)):[];if(!i&&(0,J7.z)(n))return(0,ur.z)(c=>vT(c,e,t))((0,Pa.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new E.y(c=>{const d=(...f)=>c.next(1<f.length?f:f[0]);return i(d),()=>s(d)})}function KL(n,e){return t=>r=>n[t](e,r)}var YL=V(5032);const Lf=new E.y(YL.Z),oG={connector:()=>new Wi.x};function QL(n,e=oG){const{connector:t}=e;return(0,Zr.e)((r,i)=>{const s=t();(0,Yn.D)(n(function sG(n){return new E.y(e=>n.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}function JL(n,e){return e?t=>Oa(e.pipe((0,li.q)(1),function cG(){return(0,Zr.e)((n,e)=>{n.subscribe((0,nr.x)(e,YL.Z))})}()),t.pipe(JL(n))):(0,ur.z)((t,r)=>n(t,r).pipe((0,li.q)(1),function uG(n){return(0,Dt.U)(()=>n)}(t)))}var dG=V(3532);const kw="Service workers are disabled or not supported by this browser";class bT{constructor(e){if(this.serviceWorker=e,e){const r=vT(e,"controllerchange").pipe((0,Dt.U)(()=>e.controller)),s=Oa(Ra(()=>Tt(e.controller)),r);this.worker=s.pipe(_r(v=>!!v)),this.registration=this.worker.pipe(cr(()=>e.getRegistration()));const g=vT(e,"message").pipe((0,Dt.U)(v=>v.data)).pipe(_r(v=>v&&v.type)).pipe(function lG(n){return n?e=>QL(n)(e):e=>function aG(n,e){const t=(0,vi.m)(n)?n:()=>n;return(0,vi.m)(e)?QL(e,{connector:t}):r=>new Fa(r,t)}(new Wi.x)(e)}());g.connect(),this.events=g}else this.worker=this.events=this.registration=function gG(n){return Ra(()=>ea(new Error(n)))}(kw)}postMessage(e,t){return this.worker.pipe((0,li.q)(1),(0,bi.b)(r=>{r.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,c])=>c)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(_r(t))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,li.q)(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(_r(t=>t.nonce===e),(0,li.q)(1),(0,Dt.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let mG=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new Wi.x,!t.isEnabled)return this.messages=Lf,this.notificationClicks=Lf,void(this.subscription=Lf);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Dt.U)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Dt.U)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,Dt.U)(i=>i.pushManager));const r=this.pushManager.pipe(cr(i=>i.getSubscription()));this.subscription=(0,fS.T)(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(kw));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let c=0;c<i.length;c++)s[c]=i.charCodeAt(c);return r.applicationServerKey=s,this.pushManager.pipe(cr(c=>c.subscribe(r)),(0,li.q)(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,li.q)(1),cr(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(kw))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),yG=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Lf,this.available=Lf,this.activated=Lf,void(this.unrecoverable=Lf);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(_r(r=>"VERSION_READY"===r.type),(0,Dt.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(kw));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(kw));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class tk{}const XL=new l.OlP("NGSW_REGISTER_SCRIPT");function _G(n,e,t,r){return()=>{if(!Vr(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)s=t.registrationStrategy();else{const[d,...f]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(d){case"registerImmediately":s=Tt(null);break;case"registerWithDelay":s=eF(+f[0]||0);break;case"registerWhenStable":s=f[0]?(0,fS.T)(tF(n),eF(+f[0])):tF(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(l.R0b).runOutsideAngular(()=>s.pipe((0,li.q)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(d=>console.error("Service worker registration failed with:",d))))}}function eF(n){return Tt(null).pipe(function pG(n,e=_p.z){const t=function fG(n=0,e,t=_p.P){let r=-1;return null!=e&&((0,dG.K)(e)?t=e:r=e),new E.y(i=>{let s=function hG(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e);return JL(()=>t)}(n))}function tF(n){return n.get(l.z2F).isStable.pipe(_r(t=>t))}function vG(n,e){return new bT(Vr(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let bG=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:XL,useValue:t},{provide:tk,useValue:r},{provide:bT,useFactory:vG,deps:[tk,l.Lbi]},{provide:l.ip1,useFactory:_G,deps:[l.zs3,XL,tk,l.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[mG,yG]}),n})();const wG_firebaseConfig={apiKey:"AIzaSyC4H7N21D2ka1xxoIN-sFAn22TpDVfI-Mk",authDomain:"tienda-electronica-2ed10.firebaseapp.com",projectId:"tienda-electronica-2ed10",storageBucket:"tienda-electronica-2ed10.appspot.com",messagingSenderId:"947819543960",appId:"1:947819543960:web:92a0c3ad1acefd7b44bfed"};let CG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[zR]}),n.\u0275inj=l.cJS({providers:[Yl],imports:[[hc,VC,ek,vs.hO.initializeApp(wG_firebaseConfig),TI,Y7,oR,Q7,bG.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),n})();(0,l.G48)(),dc().bootstrapModule(CG).catch(n=>console.error(n))},5867:(xt,Oe,V)=>{"use strict";V.d(Oe,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=V(9681);(0,l.registerVersion)("firebase","9.8.3","app")},127:(xt,Oe,V)=>{"use strict";V.d(Oe,{Z:()=>l.Z});var l=V(3942);l.Z.registerVersion("firebase","9.8.3","app-compat")},5881:(xt,Oe,V)=>{"use strict";V.r(Oe);var l=V(5861),$=V(3942),U=V(2309),_e=V(2090),Pe=(V(9681),V(1877),V(4859));function ge(){return window}function X(){return(X=(0,l.Z)(function*(De,le,oe){var ze;const{BuildInfo:_t}=ge();(0,U.aq)(le.sessionId,"AuthEvent did not contain a session ID");const Nt=yield Ve(le.sessionId),Jt={};return(0,U.ar)()?Jt.ibi=_t.packageName:(0,U.as)()?Jt.apn=_t.packageName:(0,U.at)(De,"operation-not-supported-in-this-environment"),_t.displayName&&(Jt.appDisplayName=_t.displayName),Jt.sessionId=Nt,(0,U.au)(De,oe,le.type,void 0,null!==(ze=le.eventId)&&void 0!==ze?ze:void 0,Jt)})).apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(De){const{BuildInfo:le}=ge(),oe={};(0,U.ar)()?oe.iosBundleId=le.packageName:(0,U.as)()?oe.androidPackageName=le.packageName:(0,U.at)(De,"operation-not-supported-in-this-environment"),yield(0,U.av)(De,oe)})).apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(De,le,oe){const{cordova:ze}=ge();let _t=()=>{};try{yield new Promise((Nt,Jt)=>{let vn=null;function pn(){var un;Nt();const ti=null===(un=ze.plugins.browsertab)||void 0===un?void 0:un.close;"function"==typeof ti&&ti(),"function"==typeof(null==oe?void 0:oe.close)&&oe.close()}function gr(){vn||(vn=window.setTimeout(()=>{Jt((0,U.aw)(De,"redirect-cancelled-by-user"))},2e3))}function gi(){"visible"===(null==document?void 0:document.visibilityState)&&gr()}le.addPassiveListener(pn),document.addEventListener("resume",gr,!1),(0,U.as)()&&document.addEventListener("visibilitychange",gi,!1),_t=()=>{le.removePassiveListener(pn),document.removeEventListener("resume",gr,!1),document.removeEventListener("visibilitychange",gi,!1),vn&&window.clearTimeout(vn)}})}finally{_t()}})).apply(this,arguments)}function Ve(De){return ht.apply(this,arguments)}function ht(){return(ht=(0,l.Z)(function*(De){const le=ft(De),oe=yield crypto.subtle.digest("SHA-256",le);return Array.from(new Uint8Array(oe)).map(_t=>_t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ft(De){if((0,U.aq)(/[0-9a-zA-Z]+/.test(De),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(De);const le=new ArrayBuffer(De.length),oe=new Uint8Array(le);for(let ze=0;ze<De.length;ze++)oe[ze]=De.charCodeAt(ze);return oe}class We extends U.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(le=>{this.resolveInialized=le})}addPassiveListener(le){this.passiveListeners.add(le)}removePassiveListener(le){this.passiveListeners.delete(le)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(le){return this.resolveInialized(),this.passiveListeners.forEach(oe=>oe(le)),super.onEvent(le)}initialized(){var le=this;return(0,l.Z)(function*(){yield le.initPromise})()}}function me(De){return H.apply(this,arguments)}function H(){return(H=(0,l.Z)(function*(De){const le=yield ue()._get(pe(De));return le&&(yield ue()._remove(pe(De))),le})).apply(this,arguments)}function se(){const De=[],le="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let oe=0;oe<20;oe++){const ze=Math.floor(Math.random()*le.length);De.push(le.charAt(ze))}return De.join("")}function ue(){return(0,U.ay)(U.b)}function pe(De){return(0,U.az)("authEvent",De.config.apiKey,De.name)}function nt(De){if(!(null==De?void 0:De.includes("?")))return{};const[le,...oe]=De.split("?");return(0,_e.zd)(oe.join("?"))}function pt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aw)("no-auth-event")}}function Qt(){var De;return(null===(De=null==self?void 0:self.location)||void 0===De?void 0:De.protocol)||null}function Bn(De=(0,_e.z$)()){return!("file:"!==Qt()&&"ionic:"!==Qt()&&"capacitor:"!==Qt()||!De.toLowerCase().match(/iphone|ipad|ipod|android/))}function de(){try{const De=self.localStorage,le=U.aI();if(De)return De.setItem(le,"1"),De.removeItem(le),!function ne(De=(0,_e.z$)()){return function j(){return(0,_e.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Q(De=(0,_e.z$)()){return/Edge\/\d+/.test(De)}(De)}()||(0,_e.hl)()}catch(De){return Ye()&&(0,_e.hl)()}return!1}function Ye(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function it(){return(function fn(){return"http:"===Qt()||"https:"===Qt()}()||(0,_e.ru)()||Bn())&&!function z(){return(0,_e.b$)()||(0,_e.UG)()}()&&de()&&!Ye()}function At(){return Bn()&&"undefined"!=typeof document}function Cn(){return(Cn=(0,l.Z)(function*(){return!!At()&&new Promise(De=>{const le=setTimeout(()=>{De(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(le),De(!0)})})})).apply(this,arguments)}const zt={LOCAL:"local",NONE:"none",SESSION:"session"},Fr=U.ax,Tr="persistence";function Lt(De){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(De){yield De._initializationPromise;const le=nn(),oe=U.az(Tr,De.config.apiKey,De.name);le&&le.setItem(oe,De._getPersistence())})).apply(this,arguments)}function nn(){var De;try{return(null===(De=function Un(){return"undefined"!=typeof window?window:null}())||void 0===De?void 0:De.sessionStorage)||null}catch(le){return null}}const bt=U.ax;class mt{constructor(){this.browserResolver=U.ay(U.k),this.cordovaResolver=U.ay(class mn{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aB,this._overrideRedirectResult=U.aC}_initialize(le){var oe=this;return(0,l.Z)(function*(){const ze=le._key();let _t=oe.eventManagers.get(ze);return _t||(_t=new We(le),oe.eventManagers.set(ze,_t),oe.attachCallbackListeners(le,_t)),_t})()}_openPopup(le){(0,U.at)(le,"operation-not-supported-in-this-environment")}_openRedirect(le,oe,ze,_t){var Nt=this;return(0,l.Z)(function*(){!function Ne(De){var le,oe,ze,_t,Nt,Jt,vn,pn,gr,gi;const un=ge();(0,U.ax)("function"==typeof(null===(le=null==un?void 0:un.universalLinks)||void 0===le?void 0:le.subscribe),De,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.ax)(void 0!==(null===(oe=null==un?void 0:un.BuildInfo)||void 0===oe?void 0:oe.packageName),De,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.ax)("function"==typeof(null===(Nt=null===(_t=null===(ze=null==un?void 0:un.cordova)||void 0===ze?void 0:ze.plugins)||void 0===_t?void 0:_t.browsertab)||void 0===Nt?void 0:Nt.openUrl),De,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.ax)("function"==typeof(null===(pn=null===(vn=null===(Jt=null==un?void 0:un.cordova)||void 0===Jt?void 0:Jt.plugins)||void 0===vn?void 0:vn.browsertab)||void 0===pn?void 0:pn.isAvailable),De,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.ax)("function"==typeof(null===(gi=null===(gr=null==un?void 0:un.cordova)||void 0===gr?void 0:gr.InAppBrowser)||void 0===gi?void 0:gi.open),De,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(le);const Jt=yield Nt._initialize(le);yield Jt.initialized(),Jt.resetRedirect(),(0,U.aD)(),yield Nt._originValidation(le);const vn=function je(De,le,oe=null){return{type:le,eventId:oe,urlResponse:null,sessionId:se(),postBody:null,tenantId:De.tenantId,error:(0,U.aw)(De,"no-auth-event")}}(le,ze,_t);yield function gt(De,le){return ue()._set(pe(De),le)}(le,vn);const pn=yield function ee(De,le,oe){return X.apply(this,arguments)}(le,vn,oe),gr=yield function Ge(De){const{cordova:le}=ge();return new Promise(oe=>{le.plugins.browsertab.isAvailable(ze=>{let _t=null;ze?le.plugins.browsertab.openUrl(De):_t=le.InAppBrowser.open(De,(0,U.ap)()?"_blank":"_system","location=yes"),oe(_t)})})}(pn);return function rt(De,le,oe){return st.apply(this,arguments)}(le,Jt,gr)})()}_isIframeWebStorageSupported(le,oe){throw new Error("Method not implemented.")}_originValidation(le){const oe=le._key();return this.originValidationPromises[oe]||(this.originValidationPromises[oe]=function we(De){return ut.apply(this,arguments)}(le)),this.originValidationPromises[oe]}attachCallbackListeners(le,oe){const{universalLinks:ze,handleOpenURL:_t,BuildInfo:Nt}=ge(),Jt=setTimeout((0,l.Z)(function*(){yield me(le),oe.onEvent(pt())}),500),vn=function(){var gi=(0,l.Z)(function*(un){clearTimeout(Jt);const ti=yield me(le);let cs=null;ti&&(null==un?void 0:un.url)&&(cs=function Fe(De,le){var oe,ze;const _t=function Te(De){const le=nt(De),oe=le.link?decodeURIComponent(le.link):void 0,ze=nt(oe).link,_t=le.deep_link_id?decodeURIComponent(le.deep_link_id):void 0;return nt(_t).link||_t||ze||oe||De}(le);if(_t.includes("/__/auth/callback")){const Nt=nt(_t),Jt=Nt.firebaseError?function Ce(De){try{return JSON.parse(De)}catch(le){return null}}(decodeURIComponent(Nt.firebaseError)):null,vn=null===(ze=null===(oe=null==Jt?void 0:Jt.code)||void 0===oe?void 0:oe.split("auth/"))||void 0===ze?void 0:ze[1],pn=vn?(0,U.aw)(vn):null;return pn?{type:De.type,eventId:De.eventId,tenantId:De.tenantId,error:pn,urlResponse:null,sessionId:null,postBody:null}:{type:De.type,eventId:De.eventId,tenantId:De.tenantId,sessionId:De.sessionId,urlResponse:_t,postBody:null}}return null}(ti,un.url)),oe.onEvent(cs||pt())});return function(ti){return gi.apply(this,arguments)}}();void 0!==ze&&"function"==typeof ze.subscribe&&ze.subscribe(null,vn);const pn=_t,gr=`${Nt.packageName.toLowerCase()}://`;ge().handleOpenURL=function(){var gi=(0,l.Z)(function*(un){if(un.toLowerCase().startsWith(gr)&&vn({url:un}),"function"==typeof pn)try{pn(un)}catch(ti){console.error(ti)}});return function(un){return gi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aB,this._overrideRedirectResult=U.aC}_initialize(le){var oe=this;return(0,l.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._initialize(le)})()}_openPopup(le,oe,ze,_t){var Nt=this;return(0,l.Z)(function*(){return yield Nt.selectUnderlyingResolver(),Nt.assertedUnderlyingResolver._openPopup(le,oe,ze,_t)})()}_openRedirect(le,oe,ze,_t){var Nt=this;return(0,l.Z)(function*(){return yield Nt.selectUnderlyingResolver(),Nt.assertedUnderlyingResolver._openRedirect(le,oe,ze,_t)})()}_isIframeWebStorageSupported(le,oe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(le,oe)}_originValidation(le){return this.assertedUnderlyingResolver._originValidation(le)}get _shouldInitProactively(){return At()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var le=this;return(0,l.Z)(function*(){if(le.underlyingResolver)return;const oe=yield function Xe(){return Cn.apply(this,arguments)}();le.underlyingResolver=oe?le.cordovaResolver:le.browserResolver})()}}function pi(De){return De.unwrap()}function $t(De){return ir(De)}function ir(De){const{_tokenResponse:le}=De instanceof _e.ZR?De.customData:De;if(!le)return null;if(!(De instanceof _e.ZR)&&"temporaryProof"in le&&"phoneNumber"in le)return U.P.credentialFromResult(De);const oe=le.providerId;if(!oe||oe===U.o.PASSWORD)return null;let ze;switch(oe){case U.o.GOOGLE:ze=U.Q;break;case U.o.FACEBOOK:ze=U.N;break;case U.o.GITHUB:ze=U.T;break;case U.o.TWITTER:ze=U.W;break;default:const{oauthIdToken:_t,oauthAccessToken:Nt,oauthTokenSecret:Jt,pendingToken:vn,nonce:pn}=le;return Nt||Jt||_t||vn?vn?oe.startsWith("saml.")?U.aL._create(oe,vn):U.J._fromParams({providerId:oe,signInMethod:oe,pendingToken:vn,idToken:_t,accessToken:Nt}):new U.U(oe).credential({idToken:_t,accessToken:Nt,rawNonce:pn}):null}return De instanceof _e.ZR?ze.credentialFromError(De):ze.credentialFromResult(De)}function kn(De,le){return le.catch(oe=>{throw oe instanceof _e.ZR&&function ls(De,le){var oe;const ze=null===(oe=le.customData)||void 0===oe?void 0:oe._tokenResponse;if("auth/multi-factor-auth-required"===le.code)le.resolver=new ae(De,U.an(De,le));else if(ze){const _t=ir(le),Nt=le;_t&&(Nt.credential=_t,Nt.tenantId=ze.tenantId||void 0,Nt.email=ze.email||void 0,Nt.phoneNumber=ze.phoneNumber||void 0)}}(De,oe),oe}).then(oe=>{const _t=oe.user;return{operationType:oe.operationType,credential:$t(oe),additionalUserInfo:U.al(oe),user:Ze.getOrCreate(_t)}})}function J(De,le){return ie.apply(this,arguments)}function ie(){return(ie=(0,l.Z)(function*(De,le){const oe=yield le;return{verificationId:oe.verificationId,confirm:ze=>kn(De,oe.confirm(ze))}})).apply(this,arguments)}class ae{constructor(le,oe){this.resolver=oe,this.auth=function ei(De){return De.wrapped()}(le)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(le){return kn(pi(this.auth),this.resolver.resolveSignIn(le))}}class Ze{constructor(le){this._delegate=le,this.multiFactor=U.ao(le)}static getOrCreate(le){return Ze.USER_MAP.has(le)||Ze.USER_MAP.set(le,new Ze(le)),Ze.USER_MAP.get(le)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(le){return this._delegate.getIdTokenResult(le)}getIdToken(le){return this._delegate.getIdToken(le)}linkAndRetrieveDataWithCredential(le){return this.linkWithCredential(le)}linkWithCredential(le){var oe=this;return(0,l.Z)(function*(){return kn(oe.auth,U.Z(oe._delegate,le))})()}linkWithPhoneNumber(le,oe){var ze=this;return(0,l.Z)(function*(){return J(ze.auth,U.l(ze._delegate,le,oe))})()}linkWithPopup(le){var oe=this;return(0,l.Z)(function*(){return kn(oe.auth,U.d(oe._delegate,le,mt))})()}linkWithRedirect(le){var oe=this;return(0,l.Z)(function*(){return yield Lt(U.aE(oe.auth)),U.g(oe._delegate,le,mt)})()}reauthenticateAndRetrieveDataWithCredential(le){return this.reauthenticateWithCredential(le)}reauthenticateWithCredential(le){var oe=this;return(0,l.Z)(function*(){return kn(oe.auth,U._(oe._delegate,le))})()}reauthenticateWithPhoneNumber(le,oe){return J(this.auth,U.r(this._delegate,le,oe))}reauthenticateWithPopup(le){return kn(this.auth,U.e(this._delegate,le,mt))}reauthenticateWithRedirect(le){var oe=this;return(0,l.Z)(function*(){return yield Lt(U.aE(oe.auth)),U.h(oe._delegate,le,mt)})()}sendEmailVerification(le){return U.ab(this._delegate,le)}unlink(le){var oe=this;return(0,l.Z)(function*(){return yield U.ak(oe._delegate,le),oe})()}updateEmail(le){return U.ag(this._delegate,le)}updatePassword(le){return U.ah(this._delegate,le)}updatePhoneNumber(le){return U.u(this._delegate,le)}updateProfile(le){return U.af(this._delegate,le)}verifyBeforeUpdateEmail(le,oe){return U.ac(this._delegate,le,oe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ze.USER_MAP=new WeakMap;const K=U.ax;let he=(()=>{class De{constructor(oe,ze){if(this.app=oe,ze.isInitialized())return this._delegate=ze.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_t}=oe.options;K(_t,"invalid-api-key",{appName:oe.name}),K(_t,"invalid-api-key",{appName:oe.name});const Nt="undefined"!=typeof window?mt:void 0;this._delegate=ze.initialize({options:{persistence:Ct(_t,oe.name),popupRedirectResolver:Nt}}),this._delegate._updateErrorMap(U.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ze.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(oe){this._delegate.languageCode=oe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(oe){this._delegate.tenantId=oe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(oe,ze){U.G(this._delegate,oe,ze)}applyActionCode(oe){return U.a2(this._delegate,oe)}checkActionCode(oe){return U.a3(this._delegate,oe)}confirmPasswordReset(oe,ze){return U.a1(this._delegate,oe,ze)}createUserWithEmailAndPassword(oe,ze){var _t=this;return(0,l.Z)(function*(){return kn(_t._delegate,U.a5(_t._delegate,oe,ze))})()}fetchProvidersForEmail(oe){return this.fetchSignInMethodsForEmail(oe)}fetchSignInMethodsForEmail(oe){return U.aa(this._delegate,oe)}isSignInWithEmailLink(oe){return U.a8(this._delegate,oe)}getRedirectResult(){var oe=this;return(0,l.Z)(function*(){K(it(),oe._delegate,"operation-not-supported-in-this-environment");const ze=yield U.j(oe._delegate,mt);return ze?kn(oe._delegate,Promise.resolve(ze)):{credential:null,user:null}})()}addFrameworkForLogging(oe){!function cn(De,le){(0,U.aE)(De)._logFramework(le)}(this._delegate,oe)}onAuthStateChanged(oe,ze,_t){const{next:Nt,error:Jt,complete:vn}=Ke(oe,ze,_t);return this._delegate.onAuthStateChanged(Nt,Jt,vn)}onIdTokenChanged(oe,ze,_t){const{next:Nt,error:Jt,complete:vn}=Ke(oe,ze,_t);return this._delegate.onIdTokenChanged(Nt,Jt,vn)}sendSignInLinkToEmail(oe,ze){return U.a7(this._delegate,oe,ze)}sendPasswordResetEmail(oe,ze){return U.a0(this._delegate,oe,ze||void 0)}setPersistence(oe){var ze=this;return(0,l.Z)(function*(){let _t;switch(function Jr(De,le){Fr(Object.values(zt).includes(le),De,"invalid-persistence-type"),(0,_e.b$)()?Fr(le!==zt.SESSION,De,"unsupported-persistence-type"):(0,_e.UG)()?Fr(le===zt.NONE,De,"unsupported-persistence-type"):Ye()?Fr(le===zt.NONE||le===zt.LOCAL&&(0,_e.hl)(),De,"unsupported-persistence-type"):Fr(le===zt.NONE||de(),De,"unsupported-persistence-type")}(ze._delegate,oe),oe){case zt.SESSION:_t=U.a;break;case zt.LOCAL:_t=(yield U.ay(U.i)._isAvailable())?U.i:U.b;break;case zt.NONE:_t=U.L;break;default:return U.at("argument-error",{appName:ze._delegate.name})}return ze._delegate.setPersistence(_t)})()}signInAndRetrieveDataWithCredential(oe){return this.signInWithCredential(oe)}signInAnonymously(){return kn(this._delegate,U.X(this._delegate))}signInWithCredential(oe){return kn(this._delegate,U.Y(this._delegate,oe))}signInWithCustomToken(oe){return kn(this._delegate,U.$(this._delegate,oe))}signInWithEmailAndPassword(oe,ze){return kn(this._delegate,U.a6(this._delegate,oe,ze))}signInWithEmailLink(oe,ze){return kn(this._delegate,U.a9(this._delegate,oe,ze))}signInWithPhoneNumber(oe,ze){return J(this._delegate,U.s(this._delegate,oe,ze))}signInWithPopup(oe){var ze=this;return(0,l.Z)(function*(){return K(it(),ze._delegate,"operation-not-supported-in-this-environment"),kn(ze._delegate,U.c(ze._delegate,oe,mt))})()}signInWithRedirect(oe){var ze=this;return(0,l.Z)(function*(){return K(it(),ze._delegate,"operation-not-supported-in-this-environment"),yield Lt(ze._delegate),U.f(ze._delegate,oe,mt)})()}updateCurrentUser(oe){return this._delegate.updateCurrentUser(oe)}verifyPasswordResetCode(oe){return U.a4(this._delegate,oe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return De.Persistence=zt,De})();function Ke(De,le,oe){let ze=De;"function"!=typeof De&&({next:ze,error:le,complete:oe}=De);const _t=ze;return{next:Jt=>_t(Jt&&Ze.getOrCreate(Jt)),error:le,complete:oe}}function Ct(De,le){const oe=function Xr(De,le){const oe=nn();if(!oe)return[];const ze=U.az(Tr,De,le);switch(oe.getItem(ze)){case zt.NONE:return[U.L];case zt.LOCAL:return[U.i,U.a];case zt.SESSION:return[U.a];default:return[]}}(De,le);if("undefined"!=typeof self&&!oe.includes(U.i)&&oe.push(U.i),"undefined"!=typeof window)for(const ze of[U.b,U.a])oe.includes(ze)||oe.push(ze);return oe.includes(U.L)||oe.push(U.L),oe}class Ft{constructor(){this.providerId="phone",this._delegate=new U.P(pi($.Z.auth()))}static credential(le,oe){return U.P.credential(le,oe)}verifyPhoneNumber(le,oe){return this._delegate.verifyPhoneNumber(le,oe)}unwrap(){return this._delegate}}Ft.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,Ft.PROVIDER_ID=U.P.PROVIDER_ID;const Gt=U.ax;class On{constructor(le,oe,ze=$.Z.app()){var _t;Gt(null===(_t=ze.options)||void 0===_t?void 0:_t.apiKey,"invalid-api-key",{appName:ze.name}),this._delegate=new U.R(le,oe,ze.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vr(De){De.INTERNAL.registerComponent(new Pe.wA("auth-compat",le=>{const oe=le.getProvider("app-compat").getImmediate(),ze=le.getProvider("auth");return new he(oe,ze)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.M,FacebookAuthProvider:U.N,GithubAuthProvider:U.T,GoogleAuthProvider:U.Q,OAuthProvider:U.U,SAMLAuthProvider:U.V,PhoneAuthProvider:Ft,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:On,TwitterAuthProvider:U.W,Auth:he,AuthCredential:U.H,Error:_e.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),De.registerVersion("@firebase/auth-compat","0.2.16")}($.Z)},2516:function(xt){xt.exports=function(){"use strict";var Oe=function(){},V=Object.prototype.hasOwnProperty,l=Array.prototype.slice;function _e(z,j,Q){for(var ne,de,Ye=0,it=(Q=l.call(arguments,2)).length;Ye<it;Ye++)for(ne in de=Q[Ye])(!z||V.call(de,ne))&&(j[ne]=de[ne])}var Ee=function U(z,j,Q,ne){var de=this;return"string"!=typeof z&&(ne=Q,Q=j,j=z,z=null),"function"!=typeof j&&(ne=Q,Q=j,j=function(){return de.apply(this,arguments)}),_e(!1,j,de,ne),j.prototype=function $(z,j){var Q;return"function"==typeof Object.create?Q=Object.create(z):(Oe.prototype=z,Q=new Oe,Oe.prototype=null),j&&_e(!0,Q,j),Q}(de.prototype,Q),j.prototype.constructor=j,j.class_=z||de.class_,j.super_=de,j};function Me(){}Me.class_="Nevis",Me.super_=Object,Me.extend=Ee;var ge=Me,ee=ge.extend(function(z,j,Q){this.qrious=z,this.element=j,this.element.qrious=z,this.enabled=Boolean(Q)},{draw:function(z){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(z){var j=this.qrious,ne=Math.floor((j.size-2*(j.padding||0))/z.width);return Math.max(1,ne)},getOffset:function(z){var j=this.qrious,Q=j.padding;if(null!=Q)return Q;var ne=this.getModuleSize(z),de=Math.floor((j.size-ne*z.width)/2);return Math.max(0,de)},render:function(z){this.enabled&&(this.resize(),this.reset(),this.draw(z))},reset:function(){},resize:function(){}}),we=ee.extend({draw:function(z){var j,Q,ne=this.qrious,de=this.getModuleSize(z),Ye=this.getOffset(z),it=this.element.getContext("2d");for(it.fillStyle=ne.foreground,it.globalAlpha=ne.foregroundAlpha,j=0;j<z.width;j++)for(Q=0;Q<z.width;Q++)z.buffer[Q*z.width+j]&&it.fillRect(de*j+Ye,de*Q+Ye,de,de)},reset:function(){var z=this.qrious,j=this.element.getContext("2d"),Q=z.size;j.lineWidth=1,j.clearRect(0,0,Q,Q),j.fillStyle=z.background,j.globalAlpha=z.backgroundAlpha,j.fillRect(0,0,Q,Q)},resize:function(){var z=this.element;z.width=z.height=this.qrious.size}}),Ge=ge.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),st=ge.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),Ve=ge.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),ft=ge.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),He=ge.extend(function(z){var j,Q,ne,de,Ye,it=z.value.length;for(this._badness=[],this._level=st.LEVELS[z.level],this._polynomial=[],this._value=z.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,ne=4*(this._level-1)+16*(this._version-1),de=st.BLOCKS[ne++],Ye=st.BLOCKS[ne++],j=st.BLOCKS[ne++],Q=st.BLOCKS[ne],!(it<=(ne=j*(de+Ye)+Ye-3+(this._version<=9)))););this._dataBlock=j,this._eccBlock=Q,this._neccBlock1=de,this._neccBlock2=Ye;var At=this.width=17+4*this._version;this.buffer=He._createArray(At*At),this._ecc=He._createArray(j+(j+Q)*(de+Ye)+Ye),this._mask=He._createArray((At*(At+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+At*(At-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(it),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(z,j){var Q,ne=this.buffer,de=this.width;for(ne[z+de*j]=1,Q=-2;Q<2;Q++)ne[z+Q+de*(j-2)]=1,ne[z-2+de*(j+Q+1)]=1,ne[z+2+de*(j+Q)]=1,ne[z+Q+1+de*(j+2)]=1;for(Q=0;Q<2;Q++)this._setMask(z-1,j+Q),this._setMask(z+1,j-Q),this._setMask(z-Q,j-1),this._setMask(z+Q,j+1)},_appendData:function(z,j,Q,ne){var de,Ye,it,At=this._polynomial,Xe=this._stringBuffer;for(Ye=0;Ye<ne;Ye++)Xe[Q+Ye]=0;for(Ye=0;Ye<j;Ye++){if(255!==(de=Ve.LOG[Xe[z+Ye]^Xe[Q]]))for(it=1;it<ne;it++)Xe[Q+it-1]=Xe[Q+it]^Ve.EXPONENT[He._modN(de+At[ne-it])];else for(it=Q;it<Q+ne;it++)Xe[it]=Xe[it+1];Xe[Q+ne-1]=255===de?0:Ve.EXPONENT[He._modN(de+At[0])]}},_appendEccToData:function(){var z,j=0,Q=this._dataBlock,ne=this._calculateMaxLength(),de=this._eccBlock;for(z=0;z<this._neccBlock1;z++)this._appendData(j,Q,ne,de),j+=Q,ne+=de;for(z=0;z<this._neccBlock2;z++)this._appendData(j,Q+1,ne,de),j+=Q+1,ne+=de},_applyMask:function(z){var j,Q,ne,de,Ye=this.buffer,it=this.width;switch(z){case 0:for(de=0;de<it;de++)for(ne=0;ne<it;ne++)!(ne+de&1)&&!this._isMasked(ne,de)&&(Ye[ne+de*it]^=1);break;case 1:for(de=0;de<it;de++)for(ne=0;ne<it;ne++)!(1&de)&&!this._isMasked(ne,de)&&(Ye[ne+de*it]^=1);break;case 2:for(de=0;de<it;de++)for(j=0,ne=0;ne<it;ne++,j++)3===j&&(j=0),!j&&!this._isMasked(ne,de)&&(Ye[ne+de*it]^=1);break;case 3:for(Q=0,de=0;de<it;de++,Q++)for(3===Q&&(Q=0),j=Q,ne=0;ne<it;ne++,j++)3===j&&(j=0),!j&&!this._isMasked(ne,de)&&(Ye[ne+de*it]^=1);break;case 4:for(de=0;de<it;de++)for(j=0,Q=de>>1&1,ne=0;ne<it;ne++,j++)3===j&&(j=0,Q=!Q),!Q&&!this._isMasked(ne,de)&&(Ye[ne+de*it]^=1);break;case 5:for(Q=0,de=0;de<it;de++,Q++)for(3===Q&&(Q=0),j=0,ne=0;ne<it;ne++,j++)3===j&&(j=0),!((ne&de&1)+!(!j|!Q))&&!this._isMasked(ne,de)&&(Ye[ne+de*it]^=1);break;case 6:for(Q=0,de=0;de<it;de++,Q++)for(3===Q&&(Q=0),j=0,ne=0;ne<it;ne++,j++)3===j&&(j=0),!((ne&de&1)+(j&&j===Q)&1)&&!this._isMasked(ne,de)&&(Ye[ne+de*it]^=1);break;case 7:for(Q=0,de=0;de<it;de++,Q++)for(3===Q&&(Q=0),j=0,ne=0;ne<it;ne++,j++)3===j&&(j=0),!((j&&j===Q)+(ne+de&1)&1)&&!this._isMasked(ne,de)&&(Ye[ne+de*it]^=1)}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var z,j,Q=this._eccBlock,ne=this._polynomial;for(ne[0]=1,z=0;z<Q;z++){for(ne[z+1]=1,j=z;j>0;j--)ne[j]=ne[j]?ne[j-1]^Ve.EXPONENT[He._modN(Ve.LOG[ne[j]]+z)]:ne[j-1];ne[0]=Ve.EXPONENT[He._modN(Ve.LOG[ne[0]]+z)]}for(z=0;z<=Q;z++)ne[z]=Ve.LOG[ne[z]]},_checkBadness:function(){var z,j,Q,ne,de,Ye=0,it=this._badness,At=this.buffer,Xe=this.width;for(de=0;de<Xe-1;de++)for(ne=0;ne<Xe-1;ne++)(At[ne+Xe*de]&&At[ne+1+Xe*de]&&At[ne+Xe*(de+1)]&&At[ne+1+Xe*(de+1)]||!(At[ne+Xe*de]||At[ne+1+Xe*de]||At[ne+Xe*(de+1)]||At[ne+1+Xe*(de+1)]))&&(Ye+=He.N2);var Cn=0;for(de=0;de<Xe;de++){for(Q=0,it[0]=0,z=0,ne=0;ne<Xe;ne++)z===(j=At[ne+Xe*de])?it[Q]++:it[++Q]=1,Cn+=(z=j)?1:-1;Ye+=this._getBadness(Q)}Cn<0&&(Cn=-Cn);var Un=0,zt=Cn;for(zt+=zt<<2,zt<<=1;zt>Xe*Xe;)zt-=Xe*Xe,Un++;for(Ye+=Un*He.N4,ne=0;ne<Xe;ne++){for(Q=0,it[0]=0,z=0,de=0;de<Xe;de++)z===(j=At[ne+Xe*de])?it[Q]++:it[++Q]=1,z=j;Ye+=this._getBadness(Q)}return Ye},_convertBitStream:function(z){var j,Q,ne=this._ecc,de=this._version;for(Q=0;Q<z;Q++)ne[Q]=this._value.charCodeAt(Q);var Ye=this._stringBuffer=ne.slice(),it=this._calculateMaxLength();z>=it-2&&(z=it-2,de>9&&z--);var At=z;if(de>9){for(Ye[At+2]=0,Ye[At+3]=0;At--;)Ye[At+3]|=255&(j=Ye[At])<<4,Ye[At+2]=j>>4;Ye[2]|=255&z<<4,Ye[1]=z>>4,Ye[0]=64|z>>12}else{for(Ye[At+1]=0,Ye[At+2]=0;At--;)Ye[At+2]|=255&(j=Ye[At])<<4,Ye[At+1]=j>>4;Ye[1]|=255&z<<4,Ye[0]=64|z>>4}for(At=z+3-(de<10);At<it;)Ye[At++]=236,Ye[At++]=17},_getBadness:function(z){var j,Q=0,ne=this._badness;for(j=0;j<=z;j++)ne[j]>=5&&(Q+=He.N1+ne[j]-5);for(j=3;j<z-1;j+=2)ne[j-2]===ne[j+2]&&ne[j+2]===ne[j-1]&&ne[j-1]===ne[j+1]&&3*ne[j-1]===ne[j]&&(0===ne[j-3]||j+3>z||3*ne[j-3]>=4*ne[j]||3*ne[j+3]>=4*ne[j])&&(Q+=He.N3);return Q},_finish:function(){this._stringBuffer=this.buffer.slice();var z,j,Q=0,ne=3e4;for(j=0;j<8&&(this._applyMask(j),(z=this._checkBadness())<ne&&(ne=z,Q=j),7!==Q);j++)this.buffer=this._stringBuffer.slice();Q!==j&&this._applyMask(Q),ne=st.FINAL_FORMAT[Q+(this._level-1<<3)];var de=this.buffer,Ye=this.width;for(j=0;j<8;j++,ne>>=1)1&ne&&(de[Ye-1-j+8*Ye]=1,j<6?de[8+Ye*j]=1:de[8+Ye*(j+1)]=1);for(j=0;j<7;j++,ne>>=1)1&ne&&(de[8+Ye*(Ye-7+j)]=1,j?de[6-j+8*Ye]=1:de[7+8*Ye]=1)},_interleaveBlocks:function(){var z,j,Q=this._dataBlock,ne=this._ecc,de=this._eccBlock,Ye=0,it=this._calculateMaxLength(),At=this._neccBlock1,Xe=this._neccBlock2,Cn=this._stringBuffer;for(z=0;z<Q;z++){for(j=0;j<At;j++)ne[Ye++]=Cn[z+j*Q];for(j=0;j<Xe;j++)ne[Ye++]=Cn[At*Q+z+j*(Q+1)]}for(j=0;j<Xe;j++)ne[Ye++]=Cn[At*Q+z+j*(Q+1)];for(z=0;z<de;z++)for(j=0;j<At+Xe;j++)ne[Ye++]=Cn[it+z+j*de];this._stringBuffer=ne},_insertAlignments:function(){var z,j,Q,ne=this._version,de=this.width;if(ne>1)for(z=Ge.BLOCK[ne],Q=de-7;;){for(j=de-7;j>z-3&&(this._addAlignment(j,Q),!(j<z));)j-=z;if(Q<=z+9)break;this._addAlignment(6,Q-=z),this._addAlignment(Q,6)}},_insertFinders:function(){var z,j,Q,ne,de=this.buffer,Ye=this.width;for(z=0;z<3;z++){for(j=0,ne=0,1===z&&(j=Ye-7),2===z&&(ne=Ye-7),de[ne+3+Ye*(j+3)]=1,Q=0;Q<6;Q++)de[ne+Q+Ye*j]=1,de[ne+Ye*(j+Q+1)]=1,de[ne+6+Ye*(j+Q)]=1,de[ne+Q+1+Ye*(j+6)]=1;for(Q=1;Q<5;Q++)this._setMask(ne+Q,j+1),this._setMask(ne+1,j+Q+1),this._setMask(ne+5,j+Q),this._setMask(ne+Q+1,j+5);for(Q=2;Q<4;Q++)de[ne+Q+Ye*(j+2)]=1,de[ne+2+Ye*(j+Q+1)]=1,de[ne+4+Ye*(j+Q)]=1,de[ne+Q+1+Ye*(j+4)]=1}},_insertTimingGap:function(){var z,j,Q=this.width;for(j=0;j<7;j++)this._setMask(7,j),this._setMask(Q-8,j),this._setMask(7,j+Q-7);for(z=0;z<8;z++)this._setMask(z,7),this._setMask(z+Q-8,7),this._setMask(z,Q-8)},_insertTimingRowAndColumn:function(){var z,j=this.buffer,Q=this.width;for(z=0;z<Q-14;z++)1&z?(this._setMask(8+z,6),this._setMask(6,8+z)):(j[8+z+6*Q]=1,j[6+Q*(8+z)]=1)},_insertVersion:function(){var z,j,Q,ne,de=this.buffer,Ye=this._version,it=this.width;if(Ye>6)for(z=ft.BLOCK[Ye-7],j=17,Q=0;Q<6;Q++)for(ne=0;ne<3;ne++,j--)1&(j>11?Ye>>j-12:z>>j)?(de[5-Q+it*(2-ne+it-11)]=1,de[2-ne+it-11+it*(5-Q)]=1):(this._setMask(5-Q,2-ne+it-11),this._setMask(2-ne+it-11,5-Q))},_isMasked:function(z,j){var Q=He._getMaskBit(z,j);return 1===this._mask[Q]},_pack:function(){var z,j,Q,ne=1,de=1,Ye=this.width,it=Ye-1,At=Ye-1,Xe=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(j=0;j<Xe;j++)for(z=this._stringBuffer[j],Q=0;Q<8;Q++,z<<=1){128&z&&(this.buffer[it+Ye*At]=1);do{de?it--:(it++,ne?0!==At?At--:(ne=!ne,6==(it-=2)&&(it--,At=9)):At!==Ye-1?At++:(ne=!ne,6==(it-=2)&&(it--,At-=8))),de=!de}while(this._isMasked(it,At))}},_reverseMask:function(){var z,j,Q=this.width;for(z=0;z<9;z++)this._setMask(z,8);for(z=0;z<8;z++)this._setMask(z+Q-8,8),this._setMask(8,z);for(j=0;j<7;j++)this._setMask(8,j+Q-7)},_setMask:function(z,j){var Q=He._getMaskBit(z,j);this._mask[Q]=1},_syncMask:function(){var z,j,Q=this.width;for(j=0;j<Q;j++)for(z=0;z<=j;z++)this.buffer[z+Q*j]&&this._setMask(z,j)}},{_createArray:function(z){var j,Q=[];for(j=0;j<z;j++)Q[j]=0;return Q},_getMaskBit:function(z,j){var Q;return z>j&&(Q=z,z=j,j=Q),Q=j,Q+=j*j,(Q>>=1)+z},_modN:function(z){for(;z>=255;)z=((z-=255)>>8)+(255&z);return z},N1:3,N2:3,N3:40,N4:10}),We=He,gt=ee.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var z=this.element;z.width=z.height=this.qrious.size}}),H=ge.extend(function(z,j,Q,ne){this.name=z,this.modifiable=Boolean(j),this.defaultValue=Q,this._valueTransformer=ne},{transform:function(z){var j=this._valueTransformer;return"function"==typeof j?j(z,this):z}}),se=ge.extend(null,{abs:function(z){return null!=z?Math.abs(z):null},hasOwn:function(z,j){return Object.prototype.hasOwnProperty.call(z,j)},noop:function(){},toUpperCase:function(z){return null!=z?z.toUpperCase():null}}),ue=ge.extend(function(z){this.options={},z.forEach(function(j){this.options[j.name]=j},this)},{exists:function(z){return null!=this.options[z]},get:function(z,j){return ue._get(this.options[z],j)},getAll:function(z){var j,Q=this.options,ne={};for(j in Q)se.hasOwn(Q,j)&&(ne[j]=ue._get(Q[j],z));return ne},init:function(z,j,Q){var ne,de;for(ne in"function"!=typeof Q&&(Q=se.noop),this.options)se.hasOwn(this.options,ne)&&(ue._set(de=this.options[ne],de.defaultValue,j),ue._createAccessor(de,j,Q));this._setAll(z,j,!0)},set:function(z,j,Q){return this._set(z,j,Q)},setAll:function(z,j){return this._setAll(z,j)},_set:function(z,j,Q,ne){var de=this.options[z];if(!de)throw new Error("Invalid option: "+z);if(!de.modifiable&&!ne)throw new Error("Option cannot be modified: "+z);return ue._set(de,j,Q)},_setAll:function(z,j,Q){if(!z)return!1;var ne,de=!1;for(ne in z)se.hasOwn(z,ne)&&this._set(ne,z[ne],j,Q)&&(de=!0);return de}},{_createAccessor:function(z,j,Q){var ne={get:function(){return ue._get(z,j)}};z.modifiable&&(ne.set=function(de){ue._set(z,de,j)&&Q(de,z)}),Object.defineProperty(j,z.name,ne)},_get:function(z,j){return j["_"+z.name]},_set:function(z,j,Q){var ne="_"+z.name,de=Q[ne],Ye=z.transform(null!=j?j:z.defaultValue);return Q[ne]=Ye,Ye!==de}}),pe=ue,Te=ge.extend(function(){this._services={}},{getService:function(z){var j=this._services[z];if(!j)throw new Error("Service is not being managed with name: "+z);return j},setService:function(z,j){if(this._services[z])throw new Error("Service is already managed with name: "+z);j&&(this._services[z]=j)}}),nt=new pe([new H("background",!0,"white"),new H("backgroundAlpha",!0,1,se.abs),new H("element"),new H("foreground",!0,"black"),new H("foregroundAlpha",!0,1,se.abs),new H("level",!0,"L",se.toUpperCase),new H("mime",!0,"image/png"),new H("padding",!0,null,se.abs),new H("size",!0,100,se.abs),new H("value",!0,"")]),Ot=new Te,mn=ge.extend(function(z){nt.init(z,this,this.update.bind(this));var j=nt.get("element",this),Q=Ot.getService("element"),ne=j&&Q.isCanvas(j)?j:Q.createCanvas(),de=j&&Q.isImage(j)?j:Q.createImage();this._canvasRenderer=new we(this,ne,!0),this._imageRenderer=new gt(this,de,de===j),this.update()},{get:function(){return nt.getAll(this)},set:function(z){nt.setAll(z,this)&&this.update()},toDataURL:function(z){return this.canvas.toDataURL(z||this.mime)},update:function(){var z=new We({level:this.level,value:this.value});this._canvasRenderer.render(z),this._imageRenderer.render(z)}},{use:function(z){Ot.setService(z.getName(),z)}});Object.defineProperties(mn.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var pt=mn,Qt=ge.extend({getName:function(){}}).extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(z){},isImage:function(z){}}).extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(z){return z instanceof HTMLCanvasElement},isImage:function(z){return z instanceof HTMLImageElement}});return pt.use(new Qt),pt}()},8306:(xt,Oe,V)=>{"use strict";V.d(Oe,{y:()=>ee});var l=V(930),$=V(727),U=V(8822),_e=V(4671);var Pe=V(2416),ge=V(576),Re=V(2806);let ee=(()=>{class Ge{constructor(st){st&&(this._subscribe=st)}lift(st){const Ne=new Ge;return Ne.source=this,Ne.operator=st,Ne}subscribe(st,Ne,Ve){const ht=function ut(Ge){return Ge&&Ge instanceof l.Lv||function we(Ge){return Ge&&(0,ge.m)(Ge.next)&&(0,ge.m)(Ge.error)&&(0,ge.m)(Ge.complete)}(Ge)&&(0,$.Nn)(Ge)}(st)?st:new l.Hp(st,Ne,Ve);return(0,Re.x)(()=>{const{operator:ft,source:He}=this;ht.add(ft?ft.call(ht,He):He?this._subscribe(ht):this._trySubscribe(ht))}),ht}_trySubscribe(st){try{return this._subscribe(st)}catch(Ne){st.error(Ne)}}forEach(st,Ne){return new(Ne=X(Ne))((Ve,ht)=>{const ft=new l.Hp({next:He=>{try{st(He)}catch(We){ht(We),ft.unsubscribe()}},error:ht,complete:Ve});this.subscribe(ft)})}_subscribe(st){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(st)}[U.L](){return this}pipe(...st){return function Me(Ge){return 0===Ge.length?_e.y:1===Ge.length?Ge[0]:function(st){return Ge.reduce((Ne,Ve)=>Ve(Ne),st)}}(st)(this)}toPromise(st){return new(st=X(st))((Ne,Ve)=>{let ht;this.subscribe(ft=>ht=ft,ft=>Ve(ft),()=>Ne(ht))})}}return Ge.create=rt=>new Ge(rt),Ge})();function X(Ge){var rt;return null!==(rt=null!=Ge?Ge:Pe.v.Promise)&&void 0!==rt?rt:Promise}},7579:(xt,Oe,V)=>{"use strict";V.d(Oe,{x:()=>Pe});var l=V(8306),$=V(727);const _e=(0,V(3888).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=V(8737),Me=V(2806);let Pe=(()=>{class Re extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const we=new ge(this,this);return we.operator=X,we}_throwIfClosed(){if(this.closed)throw new _e}next(X){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(X)}})}error(X){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:we}=this;for(;we.length;)we.shift().error(X)}})}complete(){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:we,isStopped:ut,observers:Ge}=this;return we||ut?$.Lc:(this.currentObservers=null,Ge.push(X),new $.w0(()=>{this.currentObservers=null,(0,Ee.P)(Ge,X)}))}_checkFinalizedStatuses(X){const{hasError:we,thrownError:ut,isStopped:Ge}=this;we?X.error(ut):Ge&&X.complete()}asObservable(){const X=new l.y;return X.source=this,X}}return Re.create=(ee,X)=>new ge(ee,X),Re})();class ge extends Pe{constructor(ee,X){super(),this.destination=ee,this.source=X}next(ee){var X,we;null===(we=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===we||we.call(X,ee)}error(ee){var X,we;null===(we=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===we||we.call(X,ee)}complete(){var ee,X;null===(X=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===X||X.call(ee)}_subscribe(ee){var X,we;return null!==(we=null===(X=this.source)||void 0===X?void 0:X.subscribe(ee))&&void 0!==we?we:$.Lc}}},930:(xt,Oe,V)=>{"use strict";V.d(Oe,{Hp:()=>st,Lv:()=>we});var l=V(576),$=V(727),U=V(2416),_e=V(7849),Ee=V(5032);const Me=Re("C",void 0,void 0);function Re(He,We,je){return{kind:He,value:We,error:je}}var ee=V(3410),X=V(2806);class we extends $.w0{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,$.Nn)(We)&&We.add(this)):this.destination=ft}static create(We,je,gt){return new st(We,je,gt)}next(We){this.isStopped?ht(function ge(He){return Re("N",He,void 0)}(We),this):this._next(We)}error(We){this.isStopped?ht(function Pe(He){return Re("E",void 0,He)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?ht(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ut=Function.prototype.bind;function Ge(He,We){return ut.call(He,We)}class rt{constructor(We){this.partialObserver=We}next(We){const{partialObserver:je}=this;if(je.next)try{je.next(We)}catch(gt){Ne(gt)}}error(We){const{partialObserver:je}=this;if(je.error)try{je.error(We)}catch(gt){Ne(gt)}else Ne(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(je){Ne(je)}}}class st extends we{constructor(We,je,gt){let me;if(super(),(0,l.m)(We)||!We)me={next:null!=We?We:void 0,error:null!=je?je:void 0,complete:null!=gt?gt:void 0};else{let H;this&&U.v.useDeprecatedNextContext?(H=Object.create(We),H.unsubscribe=()=>this.unsubscribe(),me={next:We.next&&Ge(We.next,H),error:We.error&&Ge(We.error,H),complete:We.complete&&Ge(We.complete,H)}):me=We}this.destination=new rt(me)}}function Ne(He){U.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(He):(0,_e.h)(He)}function ht(He,We){const{onStoppedNotification:je}=U.v;je&&ee.z.setTimeout(()=>je(He,We))}const ft={closed:!0,next:Ee.Z,error:function Ve(He){throw He},complete:Ee.Z}},727:(xt,Oe,V)=>{"use strict";V.d(Oe,{Lc:()=>Me,w0:()=>Ee,Nn:()=>Pe});var l=V(576);const U=(0,V(3888).d)(Re=>function(X){Re(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((we,ut)=>`${ut+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var _e=V(8737);class Ee{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const Ge of X)Ge.remove(this);else X.remove(this);const{initialTeardown:we}=this;if((0,l.m)(we))try{we()}catch(Ge){ee=Ge instanceof U?Ge.errors:[Ge]}const{_finalizers:ut}=this;if(ut){this._finalizers=null;for(const Ge of ut)try{ge(Ge)}catch(rt){ee=null!=ee?ee:[],rt instanceof U?ee=[...ee,...rt.errors]:ee.push(rt)}}if(ee)throw new U(ee)}}add(ee){var X;if(ee&&ee!==this)if(this.closed)ge(ee);else{if(ee instanceof Ee){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(ee)}}_hasParent(ee){const{_parentage:X}=this;return X===ee||Array.isArray(X)&&X.includes(ee)}_addParent(ee){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(ee),X):X?[X,ee]:ee}_removeParent(ee){const{_parentage:X}=this;X===ee?this._parentage=null:Array.isArray(X)&&(0,_e.P)(X,ee)}remove(ee){const{_finalizers:X}=this;X&&(0,_e.P)(X,ee),ee instanceof Ee&&ee._removeParent(this)}}Ee.EMPTY=(()=>{const Re=new Ee;return Re.closed=!0,Re})();const Me=Ee.EMPTY;function Pe(Re){return Re instanceof Ee||Re&&"closed"in Re&&(0,l.m)(Re.remove)&&(0,l.m)(Re.add)&&(0,l.m)(Re.unsubscribe)}function ge(Re){(0,l.m)(Re)?Re():Re.unsubscribe()}},2416:(xt,Oe,V)=>{"use strict";V.d(Oe,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(xt,Oe,V)=>{"use strict";V.d(Oe,{E:()=>$});const $=new(V(8306).y)(Ee=>Ee.complete())},8996:(xt,Oe,V)=>{"use strict";V.d(Oe,{D:()=>We});var l=V(8421),$=V(5363),U=V(9468),Me=V(8306),ge=V(2202),Re=V(576),ee=V(9672);function we(je,gt){if(!je)throw new Error("Iterable cannot be null");return new Me.y(me=>{(0,ee.f)(me,gt,()=>{const H=je[Symbol.asyncIterator]();(0,ee.f)(me,gt,()=>{H.next().then(Fe=>{Fe.done?me.complete():me.next(Fe.value)})},0,!0)})})}var ut=V(3670),Ge=V(8239),rt=V(1144),st=V(6495),Ne=V(2206),Ve=V(4532),ht=V(3260);function We(je,gt){return gt?function He(je,gt){if(null!=je){if((0,ut.c)(je))return function _e(je,gt){return(0,l.Xf)(je).pipe((0,U.R)(gt),(0,$.Q)(gt))}(je,gt);if((0,rt.z)(je))return function Pe(je,gt){return new Me.y(me=>{let H=0;return gt.schedule(function(){H===je.length?me.complete():(me.next(je[H++]),me.closed||this.schedule())})})}(je,gt);if((0,Ge.t)(je))return function Ee(je,gt){return(0,l.Xf)(je).pipe((0,U.R)(gt),(0,$.Q)(gt))}(je,gt);if((0,Ne.D)(je))return we(je,gt);if((0,st.T)(je))return function X(je,gt){return new Me.y(me=>{let H;return(0,ee.f)(me,gt,()=>{H=je[ge.h](),(0,ee.f)(me,gt,()=>{let Fe,se;try{({value:Fe,done:se}=H.next())}catch(ue){return void me.error(ue)}se?me.complete():me.next(Fe)},0,!0)}),()=>(0,Re.m)(null==H?void 0:H.return)&&H.return()})}(je,gt);if((0,ht.L)(je))return function ft(je,gt){return we((0,ht.Q)(je),gt)}(je,gt)}throw(0,Ve.z)(je)}(je,gt):(0,l.Xf)(je)}},8421:(xt,Oe,V)=>{"use strict";V.d(Oe,{Xf:()=>ut});var l=V(655),$=V(1144),U=V(8239),_e=V(8306),Ee=V(3670),Me=V(2206),Pe=V(4532),ge=V(6495),Re=V(3260),ee=V(576),X=V(7849),we=V(8822);function ut(He){if(He instanceof _e.y)return He;if(null!=He){if((0,Ee.c)(He))return function Ge(He){return new _e.y(We=>{const je=He[we.L]();if((0,ee.m)(je.subscribe))return je.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,$.z)(He))return function rt(He){return new _e.y(We=>{for(let je=0;je<He.length&&!We.closed;je++)We.next(He[je]);We.complete()})}(He);if((0,U.t)(He))return function st(He){return new _e.y(We=>{He.then(je=>{We.closed||(We.next(je),We.complete())},je=>We.error(je)).then(null,X.h)})}(He);if((0,Me.D)(He))return Ve(He);if((0,ge.T)(He))return function Ne(He){return new _e.y(We=>{for(const je of He)if(We.next(je),We.closed)return;We.complete()})}(He);if((0,Re.L)(He))return function ht(He){return Ve((0,Re.Q)(He))}(He)}throw(0,Pe.z)(He)}function Ve(He){return new _e.y(We=>{(function ft(He,We){var je,gt,me,H;return(0,l.mG)(this,void 0,void 0,function*(){try{for(je=(0,l.KL)(He);!(gt=yield je.next()).done;)if(We.next(gt.value),We.closed)return}catch(Fe){me={error:Fe}}finally{try{gt&&!gt.done&&(H=je.return)&&(yield H.call(je))}finally{if(me)throw me.error}}We.complete()})})(He,We).catch(je=>We.error(je))})}},6451:(xt,Oe,V)=>{"use strict";V.d(Oe,{T:()=>Me});var l=V(8189),$=V(8421),U=V(515),_e=V(3269),Ee=V(8996);function Me(...Pe){const ge=(0,_e.yG)(Pe),Re=(0,_e._6)(Pe,1/0),ee=Pe;return ee.length?1===ee.length?(0,$.Xf)(ee[0]):(0,l.J)(Re)((0,Ee.D)(ee,ge)):U.E}},5403:(xt,Oe,V)=>{"use strict";V.d(Oe,{x:()=>$});var l=V(930);function $(_e,Ee,Me,Pe,ge){return new U(_e,Ee,Me,Pe,ge)}class U extends l.Lv{constructor(Ee,Me,Pe,ge,Re,ee){super(Ee),this.onFinalize=Re,this.shouldUnsubscribe=ee,this._next=Me?function(X){try{Me(X)}catch(we){Ee.error(we)}}:super._next,this._error=ge?function(X){try{ge(X)}catch(we){Ee.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(X){Ee.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Me}=this;super.unsubscribe(),!Me&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},4004:(xt,Oe,V)=>{"use strict";V.d(Oe,{U:()=>U});var l=V(4482),$=V(5403);function U(_e,Ee){return(0,l.e)((Me,Pe)=>{let ge=0;Me.subscribe((0,$.x)(Pe,Re=>{Pe.next(_e.call(Ee,Re,ge++))}))})}},8189:(xt,Oe,V)=>{"use strict";V.d(Oe,{J:()=>U});var l=V(5577),$=V(4671);function U(_e=1/0){return(0,l.z)($.y,_e)}},5577:(xt,Oe,V)=>{"use strict";V.d(Oe,{z:()=>ge});var l=V(4004),$=V(8421),U=V(4482),_e=V(9672),Ee=V(5403),Pe=V(576);function ge(Re,ee,X=1/0){return(0,Pe.m)(ee)?ge((we,ut)=>(0,l.U)((Ge,rt)=>ee(we,Ge,ut,rt))((0,$.Xf)(Re(we,ut))),X):("number"==typeof ee&&(X=ee),(0,U.e)((we,ut)=>function Me(Re,ee,X,we,ut,Ge,rt,st){const Ne=[];let Ve=0,ht=0,ft=!1;const He=()=>{ft&&!Ne.length&&!Ve&&ee.complete()},We=gt=>Ve<we?je(gt):Ne.push(gt),je=gt=>{Ge&&ee.next(gt),Ve++;let me=!1;(0,$.Xf)(X(gt,ht++)).subscribe((0,Ee.x)(ee,H=>{null==ut||ut(H),Ge?We(H):ee.next(H)},()=>{me=!0},void 0,()=>{if(me)try{for(Ve--;Ne.length&&Ve<we;){const H=Ne.shift();rt?(0,_e.f)(ee,rt,()=>je(H)):je(H)}He()}catch(H){ee.error(H)}}))};return Re.subscribe((0,Ee.x)(ee,We,()=>{ft=!0,He()})),()=>{null==st||st()}}(we,ut,Re,X)))}},5363:(xt,Oe,V)=>{"use strict";V.d(Oe,{Q:()=>_e});var l=V(9672),$=V(4482),U=V(5403);function _e(Ee,Me=0){return(0,$.e)((Pe,ge)=>{Pe.subscribe((0,U.x)(ge,Re=>(0,l.f)(ge,Ee,()=>ge.next(Re),Me),()=>(0,l.f)(ge,Ee,()=>ge.complete(),Me),Re=>(0,l.f)(ge,Ee,()=>ge.error(Re),Me)))})}},3099:(xt,Oe,V)=>{"use strict";V.d(Oe,{B:()=>Me});var l=V(8996),$=V(5698),U=V(7579),_e=V(930),Ee=V(4482);function Me(ge={}){const{connector:Re=(()=>new U.x),resetOnError:ee=!0,resetOnComplete:X=!0,resetOnRefCountZero:we=!0}=ge;return ut=>{let Ge=null,rt=null,st=null,Ne=0,Ve=!1,ht=!1;const ft=()=>{null==rt||rt.unsubscribe(),rt=null},He=()=>{ft(),Ge=st=null,Ve=ht=!1},We=()=>{const je=Ge;He(),null==je||je.unsubscribe()};return(0,Ee.e)((je,gt)=>{Ne++,!ht&&!Ve&&ft();const me=st=null!=st?st:Re();gt.add(()=>{Ne--,0===Ne&&!ht&&!Ve&&(rt=Pe(We,we))}),me.subscribe(gt),Ge||(Ge=new _e.Hp({next:H=>me.next(H),error:H=>{ht=!0,ft(),rt=Pe(He,ee,H),me.error(H)},complete:()=>{Ve=!0,ft(),rt=Pe(He,X),me.complete()}}),(0,l.D)(je).subscribe(Ge))})(ut)}}function Pe(ge,Re,...ee){return!0===Re?(ge(),null):!1===Re?null:Re(...ee).pipe((0,$.q)(1)).subscribe(()=>ge())}},9468:(xt,Oe,V)=>{"use strict";V.d(Oe,{R:()=>$});var l=V(4482);function $(U,_e=0){return(0,l.e)((Ee,Me)=>{Me.add(U.schedule(()=>Ee.subscribe(Me),_e))})}},5698:(xt,Oe,V)=>{"use strict";V.d(Oe,{q:()=>_e});var l=V(515),$=V(4482),U=V(5403);function _e(Ee){return Ee<=0?()=>l.E:(0,$.e)((Me,Pe)=>{let ge=0;Me.subscribe((0,U.x)(Pe,Re=>{++ge<=Ee&&(Pe.next(Re),Ee<=ge&&Pe.complete())}))})}},8505:(xt,Oe,V)=>{"use strict";V.d(Oe,{b:()=>Ee});var l=V(576),$=V(4482),U=V(5403),_e=V(4671);function Ee(Me,Pe,ge){const Re=(0,l.m)(Me)||Pe||ge?{next:Me,error:Pe,complete:ge}:Me;return Re?(0,$.e)((ee,X)=>{var we;null===(we=Re.subscribe)||void 0===we||we.call(Re);let ut=!0;ee.subscribe((0,U.x)(X,Ge=>{var rt;null===(rt=Re.next)||void 0===rt||rt.call(Re,Ge),X.next(Ge)},()=>{var Ge;ut=!1,null===(Ge=Re.complete)||void 0===Ge||Ge.call(Re),X.complete()},Ge=>{var rt;ut=!1,null===(rt=Re.error)||void 0===rt||rt.call(Re,Ge),X.error(Ge)},()=>{var Ge,rt;ut&&(null===(Ge=Re.unsubscribe)||void 0===Ge||Ge.call(Re)),null===(rt=Re.finalize)||void 0===rt||rt.call(Re)}))}):_e.y}},4408:(xt,Oe,V)=>{"use strict";V.d(Oe,{o:()=>Ee});var l=V(727);class $ extends l.w0{constructor(Pe,ge){super()}schedule(Pe,ge=0){return this}}const U={setInterval(Me,Pe,...ge){const{delegate:Re}=U;return(null==Re?void 0:Re.setInterval)?Re.setInterval(Me,Pe,...ge):setInterval(Me,Pe,...ge)},clearInterval(Me){const{delegate:Pe}=U;return((null==Pe?void 0:Pe.clearInterval)||clearInterval)(Me)},delegate:void 0};var _e=V(8737);class Ee extends ${constructor(Pe,ge){super(Pe,ge),this.scheduler=Pe,this.work=ge,this.pending=!1}schedule(Pe,ge=0){if(this.closed)return this;this.state=Pe;const Re=this.id,ee=this.scheduler;return null!=Re&&(this.id=this.recycleAsyncId(ee,Re,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId(ee,this.id,ge),this}requestAsyncId(Pe,ge,Re=0){return U.setInterval(Pe.flush.bind(Pe,this),Re)}recycleAsyncId(Pe,ge,Re=0){if(null!=Re&&this.delay===Re&&!1===this.pending)return ge;U.clearInterval(ge)}execute(Pe,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Re=this._execute(Pe,ge);if(Re)return Re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,ge){let ee,Re=!1;try{this.work(Pe)}catch(X){Re=!0,ee=X||new Error("Scheduled action threw falsy error")}if(Re)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:ge}=this,{actions:Re}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.P)(Re,this),null!=Pe&&(this.id=this.recycleAsyncId(ge,Pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,Oe,V)=>{"use strict";V.d(Oe,{v:()=>U});var l=V(6063);class ${constructor(Ee,Me=$.now){this.schedulerActionCtor=Ee,this.now=Me}schedule(Ee,Me=0,Pe){return new this.schedulerActionCtor(this,Ee).schedule(Pe,Me)}}$.now=l.l.now;class U extends ${constructor(Ee,Me=$.now){super(Ee,Me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ee){const{actions:Me}=this;if(this._active)return void Me.push(Ee);let Pe;this._active=!0;do{if(Pe=Ee.execute(Ee.state,Ee.delay))break}while(Ee=Me.shift());if(this._active=!1,Pe){for(;Ee=Me.shift();)Ee.unsubscribe();throw Pe}}}},4986:(xt,Oe,V)=>{"use strict";V.d(Oe,{z:()=>U,P:()=>_e});var l=V(4408);const U=new(V(7565).v)(l.o),_e=U},6063:(xt,Oe,V)=>{"use strict";V.d(Oe,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(xt,Oe,V)=>{"use strict";V.d(Oe,{z:()=>l});const l={setTimeout($,U,..._e){const{delegate:Ee}=l;return(null==Ee?void 0:Ee.setTimeout)?Ee.setTimeout($,U,..._e):setTimeout($,U,..._e)},clearTimeout($){const{delegate:U}=l;return((null==U?void 0:U.clearTimeout)||clearTimeout)($)},delegate:void 0}},2202:(xt,Oe,V)=>{"use strict";V.d(Oe,{h:()=>$});const $=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,Oe,V)=>{"use strict";V.d(Oe,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(xt,Oe,V)=>{"use strict";V.d(Oe,{jO:()=>_e,yG:()=>Ee,_6:()=>Me});var l=V(576),$=V(3532);function U(Pe){return Pe[Pe.length-1]}function _e(Pe){return(0,l.m)(U(Pe))?Pe.pop():void 0}function Ee(Pe){return(0,$.K)(U(Pe))?Pe.pop():void 0}function Me(Pe,ge){return"number"==typeof U(Pe)?Pe.pop():ge}},8737:(xt,Oe,V)=>{"use strict";function l($,U){if($){const _e=$.indexOf(U);0<=_e&&$.splice(_e,1)}}V.d(Oe,{P:()=>l})},3888:(xt,Oe,V)=>{"use strict";function l($){const _e=$(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}V.d(Oe,{d:()=>l})},2806:(xt,Oe,V)=>{"use strict";V.d(Oe,{x:()=>U,O:()=>_e});var l=V(2416);let $=null;function U(Ee){if(l.v.useDeprecatedSynchronousErrorHandling){const Me=!$;if(Me&&($={errorThrown:!1,error:null}),Ee(),Me){const{errorThrown:Pe,error:ge}=$;if($=null,Pe)throw ge}}else Ee()}function _e(Ee){l.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=Ee)}},9672:(xt,Oe,V)=>{"use strict";function l($,U,_e,Ee=0,Me=!1){const Pe=U.schedule(function(){_e(),Me?$.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if($.add(Pe),!Me)return Pe}V.d(Oe,{f:()=>l})},4671:(xt,Oe,V)=>{"use strict";function l($){return $}V.d(Oe,{y:()=>l})},1144:(xt,Oe,V)=>{"use strict";V.d(Oe,{z:()=>l});const l=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(xt,Oe,V)=>{"use strict";V.d(Oe,{D:()=>$});var l=V(576);function $(U){return Symbol.asyncIterator&&(0,l.m)(null==U?void 0:U[Symbol.asyncIterator])}},576:(xt,Oe,V)=>{"use strict";function l($){return"function"==typeof $}V.d(Oe,{m:()=>l})},3670:(xt,Oe,V)=>{"use strict";V.d(Oe,{c:()=>U});var l=V(8822),$=V(576);function U(_e){return(0,$.m)(_e[l.L])}},6495:(xt,Oe,V)=>{"use strict";V.d(Oe,{T:()=>U});var l=V(2202),$=V(576);function U(_e){return(0,$.m)(null==_e?void 0:_e[l.h])}},8239:(xt,Oe,V)=>{"use strict";V.d(Oe,{t:()=>$});var l=V(576);function $(U){return(0,l.m)(null==U?void 0:U.then)}},3260:(xt,Oe,V)=>{"use strict";V.d(Oe,{Q:()=>U,L:()=>_e});var l=V(655),$=V(576);function U(Ee){return(0,l.FC)(this,arguments,function*(){const Pe=Ee.getReader();try{for(;;){const{value:ge,done:Re}=yield(0,l.qq)(Pe.read());if(Re)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ge)}}finally{Pe.releaseLock()}})}function _e(Ee){return(0,$.m)(null==Ee?void 0:Ee.getReader)}},3532:(xt,Oe,V)=>{"use strict";V.d(Oe,{K:()=>$});var l=V(576);function $(U){return U&&(0,l.m)(U.schedule)}},4482:(xt,Oe,V)=>{"use strict";V.d(Oe,{A:()=>$,e:()=>U});var l=V(576);function $(_e){return(0,l.m)(null==_e?void 0:_e.lift)}function U(_e){return Ee=>{if($(Ee))return Ee.lift(function(Me){try{return _e(Me,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(xt,Oe,V)=>{"use strict";function l(){}V.d(Oe,{Z:()=>l})},7849:(xt,Oe,V)=>{"use strict";V.d(Oe,{h:()=>U});var l=V(2416),$=V(3410);function U(_e){$.z.setTimeout(()=>{const{onUnhandledError:Ee}=l.v;if(!Ee)throw _e;Ee(_e)})}},4532:(xt,Oe,V)=>{"use strict";function l($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Oe,{z:()=>l})},5226:function(xt){xt.exports=function(){"use strict";const Oe="SweetAlert2:",l=E=>E.charAt(0).toUpperCase()+E.slice(1),$=E=>Array.prototype.slice.call(E),U=E=>{console.warn("".concat(Oe," ").concat("object"==typeof E?E.join(" "):E))},_e=E=>{console.error("".concat(Oe," ").concat(E))},Ee=[],Pe=(E,I)=>{(E=>{Ee.includes(E)||(Ee.push(E),U(E))})('"'.concat(E,'" is deprecated and will be removed in the next major release. Please use "').concat(I,'" instead.'))},ge=E=>"function"==typeof E?E():E,Re=E=>E&&"function"==typeof E.toPromise,ee=E=>Re(E)?E.toPromise():Promise.resolve(E),X=E=>E&&Promise.resolve(E)===E,ut={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ge=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],rt={},st=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ne=E=>Object.prototype.hasOwnProperty.call(ut,E),Ve=E=>-1!==Ge.indexOf(E),ht=E=>rt[E],ft=E=>{Ne(E)||U('Unknown parameter "'.concat(E,'"'))},He=E=>{st.includes(E)&&U('The parameter "'.concat(E,'" is incompatible with toasts'))},We=E=>{ht(E)&&Pe(E,ht(E))},me=E=>{const I={};for(const P in E)I[E[P]]="swal2-"+E[P];return I},H=me(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),Fe=me(["success","warning","info","question","error"]),se=()=>document.body.querySelector(".".concat(H.container)),ue=E=>{const I=se();return I?I.querySelector(E):null},pe=E=>ue(".".concat(E)),Ce=()=>pe(H.popup),Te=()=>pe(H.icon),nt=()=>pe(H.title),Ot=()=>pe(H["html-container"]),mn=()=>pe(H.image),ln=()=>pe(H["progress-steps"]),pt=()=>pe(H["validation-message"]),cn=()=>ue(".".concat(H.actions," .").concat(H.confirm)),Sn=()=>ue(".".concat(H.actions," .").concat(H.deny)),hn=()=>ue(".".concat(H.loader)),Qt=()=>ue(".".concat(H.actions," .").concat(H.cancel)),fn=()=>pe(H.actions),Bn=()=>pe(H.footer),z=()=>pe(H["timer-progress-bar"]),j=()=>pe(H.close),ne=()=>{const E=$(Ce().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((P,Y)=>{const Ue=parseInt(P.getAttribute("tabindex")),St=parseInt(Y.getAttribute("tabindex"));return Ue>St?1:Ue<St?-1:0}),I=$(Ce().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(P=>"-1"!==P.getAttribute("tabindex"));return(E=>{const I=[];for(let P=0;P<E.length;P++)-1===I.indexOf(E[P])&&I.push(E[P]);return I})(E.concat(I)).filter(P=>$t(P))},de=()=>Cn(document.body,H.shown)&&!Cn(document.body,H["toast-shown"])&&!Cn(document.body,H["no-backdrop"]),Ye=()=>Ce()&&Cn(Ce(),H.toast),At={previousBodyPadding:null},Xe=(E,I)=>{if(E.textContent="",I){const Y=(new DOMParser).parseFromString(I,"text/html");$(Y.querySelector("head").childNodes).forEach(Ue=>{E.appendChild(Ue)}),$(Y.querySelector("body").childNodes).forEach(Ue=>{E.appendChild(Ue)})}},Cn=(E,I)=>{if(!I)return!1;const P=I.split(/\s+/);for(let Y=0;Y<P.length;Y++)if(!E.classList.contains(P[Y]))return!1;return!0},zt=(E,I,P)=>{if(((E,I)=>{$(E.classList).forEach(P=>{!Object.values(H).includes(P)&&!Object.values(Fe).includes(P)&&!Object.values(I.showClass).includes(P)&&E.classList.remove(P)})})(E,I),I.customClass&&I.customClass[P]){if("string"!=typeof I.customClass[P]&&!I.customClass[P].forEach)return U("Invalid type of customClass.".concat(P,'! Expected string or iterable object, got "').concat(typeof I.customClass[P],'"'));Lt(E,I.customClass[P])}},Fr=(E,I)=>{if(!I)return null;switch(I){case"select":case"textarea":case"file":return E.querySelector(".".concat(H.popup," > .").concat(H[I]));case"checkbox":return E.querySelector(".".concat(H.popup," > .").concat(H.checkbox," input"));case"radio":return E.querySelector(".".concat(H.popup," > .").concat(H.radio," input:checked"))||E.querySelector(".".concat(H.popup," > .").concat(H.radio," input:first-child"));case"range":return E.querySelector(".".concat(H.popup," > .").concat(H.range," input"));default:return E.querySelector(".".concat(H.popup," > .").concat(H.input))}},Tr=E=>{if(E.focus(),"file"!==E.type){const I=E.value;E.value="",E.value=I}},Jr=(E,I,P)=>{!E||!I||("string"==typeof I&&(I=I.split(/\s+/).filter(Boolean)),I.forEach(Y=>{Array.isArray(E)?E.forEach(Ue=>{P?Ue.classList.add(Y):Ue.classList.remove(Y)}):P?E.classList.add(Y):E.classList.remove(Y)}))},Lt=(E,I)=>{Jr(E,I,!0)},Wn=(E,I)=>{Jr(E,I,!1)},Xr=(E,I)=>{const P=$(E.childNodes);for(let Y=0;Y<P.length;Y++)if(Cn(P[Y],I))return P[Y]},nn=(E,I,P)=>{P==="".concat(parseInt(P))&&(P=parseInt(P)),P||0===parseInt(P)?E.style[I]="number"==typeof P?"".concat(P,"px"):P:E.style.removeProperty(I)},bt=function(E){E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},mt=E=>{E.style.display="none"},pi=(E,I,P,Y)=>{const Ue=E.querySelector(I);Ue&&(Ue.style[P]=Y)},ei=function(E,I){I?bt(E,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):mt(E)},$t=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),ir=E=>E.scrollHeight>E.clientHeight,kn=E=>{const I=window.getComputedStyle(E),P=parseFloat(I.getPropertyValue("animation-duration")||"0"),Y=parseFloat(I.getPropertyValue("transition-duration")||"0");return P>0||Y>0},J=function(E){let I=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const P=z();$t(P)&&(I&&(P.style.transition="none",P.style.width="100%"),setTimeout(()=>{P.style.transition="width ".concat(E/1e3,"s linear"),P.style.width="0%"},10))},ae=()=>"undefined"==typeof window||"undefined"==typeof document,K={},Ke=E=>new Promise(I=>{if(!E)return I();const P=window.scrollX,Y=window.scrollY;K.restoreFocusTimeout=setTimeout(()=>{K.previousActiveElement instanceof HTMLElement?(K.previousActiveElement.focus(),K.previousActiveElement=null):document.body&&document.body.focus(),I()},100),window.scrollTo(P,Y)}),Ct='\n <div aria-labelledby="'.concat(H.title,'" aria-describedby="').concat(H["html-container"],'" class="').concat(H.popup,'" tabindex="-1">\n   <button type="button" class="').concat(H.close,'"></button>\n   <ul class="').concat(H["progress-steps"],'"></ul>\n   <div class="').concat(H.icon,'"></div>\n   <img class="').concat(H.image,'" />\n   <h2 class="').concat(H.title,'" id="').concat(H.title,'"></h2>\n   <div class="').concat(H["html-container"],'" id="').concat(H["html-container"],'"></div>\n   <input class="').concat(H.input,'" />\n   <input type="file" class="').concat(H.file,'" />\n   <div class="').concat(H.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(H.select,'"></select>\n   <div class="').concat(H.radio,'"></div>\n   <label for="').concat(H.checkbox,'" class="').concat(H.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(H.label,'"></span>\n   </label>\n   <textarea class="').concat(H.textarea,'"></textarea>\n   <div class="').concat(H["validation-message"],'" id="').concat(H["validation-message"],'"></div>\n   <div class="').concat(H.actions,'">\n     <div class="').concat(H.loader,'"></div>\n     <button type="button" class="').concat(H.confirm,'"></button>\n     <button type="button" class="').concat(H.deny,'"></button>\n     <button type="button" class="').concat(H.cancel,'"></button>\n   </div>\n   <div class="').concat(H.footer,'"></div>\n   <div class="').concat(H["timer-progress-bar-container"],'">\n     <div class="').concat(H["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Gt=()=>{K.currentInstance.resetValidationMessage()},le=E=>{const I=(()=>{const E=se();return!!E&&(E.remove(),Wn([document.documentElement,document.body],[H["no-backdrop"],H["toast-shown"],H["has-column"]]),!0)})();if(ae())return void _e("SweetAlert2 requires document to initialize");const P=document.createElement("div");P.className=H.container,I&&Lt(P,H["no-transition"]),Xe(P,Ct);const Y=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);Y.appendChild(P),(E=>{const I=Ce();I.setAttribute("role",E.toast?"alert":"dialog"),I.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||I.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&Lt(se(),H.rtl)})(Y),(()=>{const E=Ce(),I=Xr(E,H.input),P=Xr(E,H.file),Y=E.querySelector(".".concat(H.range," input")),Ue=E.querySelector(".".concat(H.range," output")),St=Xr(E,H.select),Zn=E.querySelector(".".concat(H.checkbox," input")),Sr=Xr(E,H.textarea);I.oninput=Gt,P.onchange=Gt,St.onchange=Gt,Zn.onchange=Gt,Sr.oninput=Gt,Y.oninput=()=>{Gt(),Ue.value=Y.value},Y.onchange=()=>{Gt(),Ue.value=Y.value}})(),oe(P,E)},oe=(E,I)=>{if(I.toast)return;const P=(E=>E[Math.floor(Math.random()*E.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"},{text:"\u042e\u0420\u0418\u0419 \u041f\u041e\u0414\u041e\u041b\u042f\u041a\u0410 \u0447\u0435\u0441\u0442\u043d\u043e <br> \u043e \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u0430\u0445 \u0420\u0423\u0421\u0421\u041a\u041e\u0419 \u0410\u0420\u041c\u0418\u0418",youtubeId:"w4-_8BJKfpk"},{text:"\u041f\u043e\u043b\u043a\u043e\u0432\u043d\u0438\u043a \u0424\u0421\u0411 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u043e\u0431 \u0443\u0441\u043f\u0435\u0445\u0430\u0445 \u0420\u041e\u0421\u0421\u0418\u0418 \u0432 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"saK5UTKroDA"}]);if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const Y=document.createElement("div");Y.className=H["no-war"],Xe(Y,'<a href="https://www.youtube.com/watch?v='.concat(P.youtubeId,'" target="_blank">').concat(P.text,"</a>")),E.appendChild(Y),E.style.paddingTop="4em"}},ze=(E,I)=>{E instanceof HTMLElement?I.appendChild(E):"object"==typeof E?_t(E,I):E&&Xe(I,E)},_t=(E,I)=>{E.jquery?Nt(I,E):Xe(I,E.toString())},Nt=(E,I)=>{if(E.textContent="",0 in I)for(let P=0;P in I;P++)E.appendChild(I[P].cloneNode(!0));else E.appendChild(I.cloneNode(!0))},Jt=(()=>{if(ae())return!1;const E=document.createElement("div"),I={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const P in I)if(Object.prototype.hasOwnProperty.call(I,P)&&void 0!==E.style[P])return I[P];return!1})(),pn=(E,I)=>{const P=fn(),Y=hn();I.showConfirmButton||I.showDenyButton||I.showCancelButton?bt(P):mt(P),zt(P,I,"actions"),function gr(E,I,P){const Y=cn(),Ue=Sn(),St=Qt();un(Y,"confirm",P),un(Ue,"deny",P),un(St,"cancel",P),function gi(E,I,P,Y){if(!Y.buttonsStyling)return Wn([E,I,P],H.styled);Lt([E,I,P],H.styled),Y.confirmButtonColor&&(E.style.backgroundColor=Y.confirmButtonColor,Lt(E,H["default-outline"])),Y.denyButtonColor&&(I.style.backgroundColor=Y.denyButtonColor,Lt(I,H["default-outline"])),Y.cancelButtonColor&&(P.style.backgroundColor=Y.cancelButtonColor,Lt(P,H["default-outline"]))}(Y,Ue,St,P),P.reverseButtons&&(P.toast?(E.insertBefore(St,Y),E.insertBefore(Ue,Y)):(E.insertBefore(St,I),E.insertBefore(Ue,I),E.insertBefore(Y,I)))}(P,Y,I),Xe(Y,I.loaderHtml),zt(Y,I,"loader")};function un(E,I,P){ei(E,P["show".concat(l(I),"Button")],"inline-block"),Xe(E,P["".concat(I,"ButtonText")]),E.setAttribute("aria-label",P["".concat(I,"ButtonAriaLabel")]),E.className=H[I],zt(E,P,"".concat(I,"Button")),Lt(E,P["".concat(I,"ButtonClass")])}const ti=(E,I)=>{const P=se();!P||(function cs(E,I){"string"==typeof I?E.style.background=I:I||Lt([document.documentElement,document.body],H["no-backdrop"])}(P,I.backdrop),function Ur(E,I){I in H?Lt(E,H[I]):(U('The "position" parameter is not valid, defaulting to "center"'),Lt(E,H.center))}(P,I.position),function ha(E,I){if(I&&"string"==typeof I){const P="grow-".concat(I);P in H&&Lt(E,H[P])}}(P,I.grow),zt(P,I,"container"))};var Zt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const at=["input","file","range","select","radio","checkbox","textarea"],Kn=E=>{if(!Ut[E.input])return _e('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(E.input,'"'));const I=Vs(E.input),P=Ut[E.input](I,E);bt(I),setTimeout(()=>{Tr(P)})},Es=(E,I)=>{const P=Fr(Ce(),E);if(P){(E=>{for(let I=0;I<E.attributes.length;I++){const P=E.attributes[I].name;["type","value","style"].includes(P)||E.removeAttribute(P)}})(P);for(const Y in I)P.setAttribute(Y,I[Y])}},mr=E=>{const I=Vs(E.input);"object"==typeof E.customClass&&Lt(I,E.customClass.input)},Zi=(E,I)=>{(!E.placeholder||I.inputPlaceholder)&&(E.placeholder=I.inputPlaceholder)},xn=(E,I,P)=>{if(P.inputLabel){E.id=H.input;const Y=document.createElement("label"),Ue=H["input-label"];Y.setAttribute("for",E.id),Y.className=Ue,"object"==typeof P.customClass&&Lt(Y,P.customClass.inputLabel),Y.innerText=P.inputLabel,I.insertAdjacentElement("beforebegin",Y)}},Vs=E=>Xr(Ce(),H[E]||H.input),Xn=(E,I)=>{["string","number"].includes(typeof I)?E.value="".concat(I):X(I)||U('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof I,'"'))},Ut={};Ut.text=Ut.email=Ut.password=Ut.number=Ut.tel=Ut.url=(E,I)=>(Xn(E,I.inputValue),xn(E,E,I),Zi(E,I),E.type=I.input,E),Ut.file=(E,I)=>(xn(E,E,I),Zi(E,I),E),Ut.range=(E,I)=>{const P=E.querySelector("input"),Y=E.querySelector("output");return Xn(P,I.inputValue),P.type=I.input,Xn(Y,I.inputValue),xn(P,E,I),E},Ut.select=(E,I)=>{if(E.textContent="",I.inputPlaceholder){const P=document.createElement("option");Xe(P,I.inputPlaceholder),P.value="",P.disabled=!0,P.selected=!0,E.appendChild(P)}return xn(E,E,I),E},Ut.radio=E=>(E.textContent="",E),Ut.checkbox=(E,I)=>{const P=Fr(Ce(),"checkbox");P.value="1",P.id=H.checkbox,P.checked=Boolean(I.inputValue);const Y=E.querySelector("span");return Xe(Y,I.inputPlaceholder),P},Ut.textarea=(E,I)=>{Xn(E,I.inputValue),Zi(E,I),xn(E,E,I);return setTimeout(()=>{if("MutationObserver"in window){const Y=parseInt(window.getComputedStyle(Ce()).width);new MutationObserver(()=>{const St=E.offsetWidth+(Y=>parseInt(window.getComputedStyle(Y).marginLeft)+parseInt(window.getComputedStyle(Y).marginRight))(E);Ce().style.width=St>Y?"".concat(St,"px"):null}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const co=(E,I)=>{const P=Ot();zt(P,I,"htmlContainer"),I.html?(ze(I.html,P),bt(P,"block")):I.text?(P.textContent=I.text,bt(P,"block")):mt(P),((E,I)=>{const P=Ce(),Y=Zt.innerParams.get(E),Ue=!Y||I.input!==Y.input;at.forEach(St=>{const Zn=Xr(P,H[St]);Es(St,I.inputAttributes),Zn.className=H[St],Ue&&mt(Zn)}),I.input&&(Ue&&Kn(I),mr(I))})(E,I)},Dn=(E,I)=>{for(const P in Fe)I.icon!==P&&Wn(E,Fe[P]);Lt(E,Fe[I.icon]),Kc(E,I),Bs(),zt(E,I,"icon")},Bs=()=>{const E=Ce(),I=window.getComputedStyle(E).getPropertyValue("background-color"),P=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Y=0;Y<P.length;Y++)P[Y].style.backgroundColor=I},Pn=(E,I)=>{let Y,P=E.innerHTML;I.iconHtml?Y=js(I.iconHtml):"success"===I.icon?(Y='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',P=P.replace(/ style=".*?"/g,"")):Y="error"===I.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':js({question:"?",warning:"!",info:"i"}[I.icon]),P.trim()!==Y.trim()&&Xe(E,Y)},Kc=(E,I)=>{if(I.iconColor){E.style.color=I.iconColor,E.style.borderColor=I.iconColor;for(const P of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])pi(E,P,"backgroundColor",I.iconColor);pi(E,".swal2-success-ring","borderColor",I.iconColor)}},js=E=>'<div class="'.concat(H["icon-content"],'">').concat(E,"</div>"),Yc=E=>{const I=document.createElement("li");return Lt(I,H["progress-step"]),Xe(I,E),I},ul=E=>{const I=document.createElement("li");return Lt(I,H["progress-step-line"]),E.progressStepsDistance&&nn(I,"width",E.progressStepsDistance),I},us=(E,I)=>{E.className="".concat(H.popup," ").concat($t(E)?I.showClass.popup:""),I.toast?(Lt([document.documentElement,document.body],H["toast-shown"]),Lt(E,H.toast)):Lt(E,H.modal),zt(E,I,"popup"),"string"==typeof I.customClass&&Lt(E,I.customClass),I.icon&&Lt(E,H["icon-".concat(I.icon)])},nc=(E,I)=>{((E,I)=>{const P=se(),Y=Ce();I.toast?(nn(P,"width",I.width),Y.style.width="100%",Y.insertBefore(hn(),Te())):nn(Y,"width",I.width),nn(Y,"padding",I.padding),I.color&&(Y.style.color=I.color),I.background&&(Y.style.background=I.background),mt(pt()),us(Y,I)})(0,I),ti(0,I),((E,I)=>{const P=ln();if(!I.progressSteps||0===I.progressSteps.length)return mt(P);bt(P),P.textContent="",I.currentProgressStep>=I.progressSteps.length&&U("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.progressSteps.forEach((Y,Ue)=>{const St=Yc(Y);if(P.appendChild(St),Ue===I.currentProgressStep&&Lt(St,H["active-progress-step"]),Ue!==I.progressSteps.length-1){const Zn=ul(I);P.appendChild(Zn)}})})(0,I),((E,I)=>{const P=Zt.innerParams.get(E),Y=Te();P&&I.icon===P.icon?(Pn(Y,I),Dn(Y,I)):I.icon||I.iconHtml?I.icon&&-1===Object.keys(Fe).indexOf(I.icon)?(_e('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(I.icon,'"')),mt(Y)):(bt(Y),Pn(Y,I),Dn(Y,I),Lt(Y,I.showClass.icon)):mt(Y)})(E,I),((E,I)=>{const P=mn();if(!I.imageUrl)return mt(P);bt(P,""),P.setAttribute("src",I.imageUrl),P.setAttribute("alt",I.imageAlt),nn(P,"width",I.imageWidth),nn(P,"height",I.imageHeight),P.className=H.image,zt(P,I,"image")})(0,I),((E,I)=>{const P=nt();ei(P,I.title||I.titleText,"block"),I.title&&ze(I.title,P),I.titleText&&(P.innerText=I.titleText),zt(P,I,"title")})(0,I),((E,I)=>{const P=j();Xe(P,I.closeButtonHtml),zt(P,I,"closeButton"),ei(P,I.showCloseButton),P.setAttribute("aria-label",I.closeButtonAriaLabel)})(0,I),co(E,I),pn(0,I),((E,I)=>{const P=Bn();ei(P,I.footer),I.footer&&ze(I.footer,P),zt(P,I,"footer")})(0,I),"function"==typeof I.didRender&&I.didRender(Ce())},Is=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),rc=()=>{$(document.body.children).forEach(I=>{I.hasAttribute("data-previous-aria-hidden")?(I.setAttribute("aria-hidden",I.getAttribute("data-previous-aria-hidden")),I.removeAttribute("data-previous-aria-hidden")):I.removeAttribute("aria-hidden")})},Ju=["swal-title","swal-html","swal-footer"],mh=E=>{const I={};return $(E.querySelectorAll("swal-param")).forEach(P=>{qo(P,["name","value"]);const Y=P.getAttribute("name"),Ue=P.getAttribute("value");"boolean"==typeof ut[Y]&&"false"===Ue&&(I[Y]=!1),"object"==typeof ut[Y]&&(I[Y]=JSON.parse(Ue))}),I},fa=E=>{const I={};return $(E.querySelectorAll("swal-button")).forEach(P=>{qo(P,["type","color","aria-label"]);const Y=P.getAttribute("type");I["".concat(Y,"ButtonText")]=P.innerHTML,I["show".concat(l(Y),"Button")]=!0,P.hasAttribute("color")&&(I["".concat(Y,"ButtonColor")]=P.getAttribute("color")),P.hasAttribute("aria-label")&&(I["".concat(Y,"ButtonAriaLabel")]=P.getAttribute("aria-label"))}),I},yh=E=>{const I={},P=E.querySelector("swal-image");return P&&(qo(P,["src","width","height","alt"]),P.hasAttribute("src")&&(I.imageUrl=P.getAttribute("src")),P.hasAttribute("width")&&(I.imageWidth=P.getAttribute("width")),P.hasAttribute("height")&&(I.imageHeight=P.getAttribute("height")),P.hasAttribute("alt")&&(I.imageAlt=P.getAttribute("alt"))),I},pa=E=>{const I={},P=E.querySelector("swal-icon");return P&&(qo(P,["type","color"]),P.hasAttribute("type")&&(I.icon=P.getAttribute("type")),P.hasAttribute("color")&&(I.iconColor=P.getAttribute("color")),I.iconHtml=P.innerHTML),I},Ho=E=>{const I={},P=E.querySelector("swal-input");P&&(qo(P,["type","label","placeholder","value"]),I.input=P.getAttribute("type")||"text",P.hasAttribute("label")&&(I.inputLabel=P.getAttribute("label")),P.hasAttribute("placeholder")&&(I.inputPlaceholder=P.getAttribute("placeholder")),P.hasAttribute("value")&&(I.inputValue=P.getAttribute("value")));const Y=E.querySelectorAll("swal-input-option");return Y.length&&(I.inputOptions={},$(Y).forEach(Ue=>{qo(Ue,["value"]);const St=Ue.getAttribute("value");I.inputOptions[St]=Ue.innerHTML})),I},Qc=(E,I)=>{const P={};for(const Y in I){const Ue=I[Y],St=E.querySelector(Ue);St&&(qo(St,[]),P[Ue.replace(/^swal-/,"")]=St.innerHTML.trim())}return P},_h=E=>{const I=Ju.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);$(E.children).forEach(P=>{const Y=P.tagName.toLowerCase();-1===I.indexOf(Y)&&U("Unrecognized element <".concat(Y,">"))})},qo=(E,I)=>{$(E.attributes).forEach(P=>{-1===I.indexOf(P.name)&&U(['Unrecognized attribute "'.concat(P.name,'" on <').concat(E.tagName.toLowerCase(),">."),"".concat(I.length?"Allowed attributes are: ".concat(I.join(", ")):"To set the value, use HTML within the element.")])})};var ic={email:(E,I)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(I||"Invalid email address"),url:(E,I)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(I||"Invalid URL")};function Xu(E){(function zo(E){E.inputValidator||Object.keys(ic).forEach(I=>{E.input===I&&(E.inputValidator=ic[I])})})(E),E.showLoaderOnConfirm&&!E.preConfirm&&U("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function vh(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(U('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),le(E)}class As{constructor(I,P){this.callback=I,this.remaining=P,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(I){const P=this.running;return P&&this.stop(),this.remaining+=I,P&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ff=()=>{null===At.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(At.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(At.previousBodyPadding+(()=>{const E=document.createElement("div");E.className=H["scrollbar-measure"],document.body.appendChild(E);const I=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),I})(),"px"))},mi=()=>{const E=navigator.userAgent,I=!!E.match(/iPad/i)||!!E.match(/iPhone/i),P=!!E.match(/WebKit/i);I&&P&&!E.match(/CriOS/i)&&Ce().scrollHeight>window.innerHeight-44&&(se().style.paddingBottom="".concat(44,"px"))},ho=()=>{const E=se();let I;E.ontouchstart=P=>{I=ma(P)},E.ontouchmove=P=>{I&&(P.preventDefault(),P.stopPropagation())}},ma=E=>{const I=E.target,P=se();return!(ya(E)||ed(E)||I!==P&&(ir(P)||"INPUT"===I.tagName||"TEXTAREA"===I.tagName||ir(Ot())&&Ot().contains(I)))},ya=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,ed=E=>E.touches&&E.touches.length>1,Jc=E=>{const I=se(),P=Ce();"function"==typeof E.willOpen&&E.willOpen(P);const Ue=window.getComputedStyle(document.body).overflowY;Vr(I,P,E),setTimeout(()=>{qi(I,P)},10),de()&&(Xc(I,E.scrollbarPadding,Ue),$(document.body.children).forEach(I=>{I===se()||I.contains(se())||(I.hasAttribute("aria-hidden")&&I.setAttribute("data-previous-aria-hidden",I.getAttribute("aria-hidden")),I.setAttribute("aria-hidden","true"))})),!Ye()&&!K.previousActiveElement&&(K.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(P)),Wn(I,H["no-transition"])},hs=E=>{const I=Ce();if(E.target!==I)return;const P=se();I.removeEventListener(Jt,hs),P.style.overflowY="auto"},qi=(E,I)=>{Jt&&kn(I)?(E.style.overflowY="hidden",I.addEventListener(Jt,hs)):E.style.overflowY="auto"},Xc=(E,I,P)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Cn(document.body,H.iosfix)){const I=document.body.scrollTop;document.body.style.top="".concat(-1*I,"px"),Lt(document.body,H.iosfix),ho(),mi()}})(),I&&"hidden"!==P&&Ff(),setTimeout(()=>{E.scrollTop=0})},Vr=(E,I,P)=>{Lt(E,P.showClass.backdrop),I.style.setProperty("opacity","0","important"),bt(I,"grid"),setTimeout(()=>{Lt(I,P.showClass.popup),I.style.removeProperty("opacity")},10),Lt([document.documentElement,document.body],H.shown),P.heightAuto&&P.backdrop&&!P.toast&&Lt([document.documentElement,document.body],H["height-auto"])},yr=E=>{let I=Ce();I||new wr,I=Ce();const P=hn();Ye()?mt(Te()):eu(I,E),bt(P),I.setAttribute("data-loading","true"),I.setAttribute("aria-busy","true"),I.focus()},eu=(E,I)=>{const P=fn(),Y=hn();!I&&$t(cn())&&(I=cn()),bt(P),I&&(mt(I),Y.setAttribute("data-button-to-replace",I.className)),Y.parentNode.insertBefore(Y,I),Lt([E,P],H.loading)},hl=E=>E.checked?1:0,fl=E=>E.checked?E.value:null,sc=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,Ss=(E,I)=>{const P=Ce(),Y=Ue=>jn[I.input](P,fo(Ue),I);Re(I.inputOptions)||X(I.inputOptions)?(yr(cn()),ee(I.inputOptions).then(Ue=>{E.hideLoading(),Y(Ue)})):"object"==typeof I.inputOptions?Y(I.inputOptions):_e("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof I.inputOptions))},oc=(E,I)=>{const P=E.getInput();mt(P),ee(I.inputValue).then(Y=>{P.value="number"===I.input?parseFloat(Y)||0:"".concat(Y),bt(P),P.focus(),E.hideLoading()}).catch(Y=>{_e("Error in inputValue promise: ".concat(Y)),P.value="",bt(P),P.focus(),E.hideLoading()})},jn={select:(E,I,P)=>{const Y=Xr(E,H.select),Ue=(St,Zn,Sr)=>{const Dt=document.createElement("option");Dt.value=Sr,Xe(Dt,Zn),Dt.selected=Ms(Sr,P.inputValue),St.appendChild(Dt)};I.forEach(St=>{const Zn=St[0],Sr=St[1];if(Array.isArray(Sr)){const Dt=document.createElement("optgroup");Dt.label=Zn,Dt.disabled=!1,Y.appendChild(Dt),Sr.forEach(yo=>Ue(Dt,yo[1],yo[0]))}else Ue(Y,Sr,Zn)}),Y.focus()},radio:(E,I,P)=>{const Y=Xr(E,H.radio);I.forEach(St=>{const Zn=St[0],Sr=St[1],Dt=document.createElement("input"),yo=document.createElement("label");Dt.type="radio",Dt.name=H.radio,Dt.value=Zn,Ms(Zn,P.inputValue)&&(Dt.checked=!0);const wl=document.createElement("span");Xe(wl,Sr),wl.className=H.label,yo.appendChild(Dt),yo.appendChild(wl),Y.appendChild(yo)});const Ue=Y.querySelectorAll("input");Ue.length&&Ue[0].focus()}},fo=E=>{const I=[];return"undefined"!=typeof Map&&E instanceof Map?E.forEach((P,Y)=>{let Ue=P;"object"==typeof Ue&&(Ue=fo(Ue)),I.push([Y,Ue])}):Object.keys(E).forEach(P=>{let Y=E[P];"object"==typeof Y&&(Y=fo(Y)),I.push([P,Y])}),I},Ms=(E,I)=>I&&I.toString()===E.toString();function Rn(){const E=Zt.innerParams.get(this);if(!E)return;const I=Zt.domCache.get(this);mt(I.loader),Ye()?E.icon&&bt(Te()):pl(I),Wn([I.popup,I.actions],H.loading),I.popup.removeAttribute("aria-busy"),I.popup.removeAttribute("data-loading"),I.confirmButton.disabled=!1,I.denyButton.disabled=!1,I.cancelButton.disabled=!1}const pl=E=>{const I=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));I.length?bt(I[0],"inline-block"):!$t(cn())&&!$t(Sn())&&!$t(Qt())&&mt(E.actions)};var zi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const va=()=>cn()&&cn().click(),Ir=E=>{E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},Si=(E,I,P)=>{const Y=ne();if(Y.length)return(I+=P)===Y.length?I=0:-1===I&&(I=Y.length-1),Y[I].focus();Ce().focus()},gl=["ArrowRight","ArrowDown"],yi=["ArrowLeft","ArrowUp"],Hs=(E,I,P)=>{const Y=Zt.innerParams.get(E);!Y||I.isComposing||229===I.keyCode||(Y.stopKeydownPropagation&&I.stopPropagation(),"Enter"===I.key?qs(E,I,Y):"Tab"===I.key?Vt(I,Y):[...gl,...yi].includes(I.key)?ba(I.key):"Escape"===I.key&&wa(I,Y,P))},qs=(E,I,P)=>{if(ge(P.allowEnterKey)&&I.target&&E.getInput()&&I.target instanceof HTMLElement&&I.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(P.input))return;va(),I.preventDefault()}},Vt=(E,I)=>{const P=E.target,Y=ne();let Ue=-1;for(let St=0;St<Y.length;St++)if(P===Y[St]){Ue=St;break}Si(0,Ue,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},ba=E=>{const I=cn(),P=Sn(),Y=Qt();if(document.activeElement instanceof HTMLElement&&![I,P,Y].includes(document.activeElement))return;const Ue=gl.includes(E)?"nextElementSibling":"previousElementSibling";let St=document.activeElement;for(let Zn=0;Zn<fn().children.length;Zn++){if(St=St[Ue],!St)return;if(St instanceof HTMLButtonElement&&$t(St))break}St instanceof HTMLButtonElement&&St.focus()},wa=(E,I,P)=>{ge(I.allowEscapeKey)&&(E.preventDefault(),P(Is.esc))};function ac(E,I,P,Y){Ye()?Wo(E,Y):(Ke(P).then(()=>Wo(E,Y)),Ir(K)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(I.setAttribute("style","display:none !important"),I.removeAttribute("class"),I.innerHTML=""):I.remove(),de()&&(null!==At.previousBodyPadding&&(document.body.style.paddingRight="".concat(At.previousBodyPadding,"px"),At.previousBodyPadding=null),(()=>{if(Cn(document.body,H.iosfix)){const E=parseInt(document.body.style.top,10);Wn(document.body,H.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}})(),rc()),function Ca(){Wn([document.documentElement,document.body],[H.shown,H["height-auto"],H["no-backdrop"],H["toast-shown"]])}()}function Go(E){E=Ea(E);const I=zi.swalPromiseResolve.get(this),P=td(this);this.isAwaitingPromise()?E.isDismissed||(rn(this),I(E)):P&&I(E)}const td=E=>{const I=Ce();if(!I)return!1;const P=Zt.innerParams.get(E);if(!P||Cn(I,P.hideClass.popup))return!1;Wn(I,P.showClass.popup),Lt(I,P.hideClass.popup);const Y=se();return Wn(Y,P.showClass.backdrop),Lt(Y,P.hideClass.backdrop),ar(E,I,P),!0};const rn=E=>{E.isAwaitingPromise()&&(Zt.awaitingPromise.delete(E),Zt.innerParams.get(E)||E._destroy())},Ea=E=>void 0===E?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),ar=(E,I,P)=>{const Y=se(),Ue=Jt&&kn(I);"function"==typeof P.willClose&&P.willClose(I),Ue?zs(E,I,Y,P.returnFocus,P.didClose):ac(E,Y,P.returnFocus,P.didClose)},zs=(E,I,P,Y,Ue)=>{K.swalCloseEventFinishedCallback=ac.bind(null,E,P,Y,Ue),I.addEventListener(Jt,function(St){St.target===I&&(K.swalCloseEventFinishedCallback(),delete K.swalCloseEventFinishedCallback)})},Wo=(E,I)=>{setTimeout(()=>{"function"==typeof I&&I.bind(E.params)(),E._destroy()})};function ni(E,I,P){const Y=Zt.domCache.get(E);I.forEach(Ue=>{Y[Ue].disabled=P})}function ml(E,I){if(!E)return!1;if("radio"===E.type){const Y=E.parentNode.parentNode.querySelectorAll("input");for(let Ue=0;Ue<Y.length;Ue++)Y[Ue].disabled=I}else E.disabled=I}const fs=E=>{const I={};return Object.keys(E).forEach(P=>{Ve(P)?I[P]=E[P]:U("Invalid parameter to update: ".concat(P))}),I};const Ia=E=>{uc(E),delete E.params,delete K.keydownHandler,delete K.keydownTarget,delete K.currentInstance},uc=E=>{E.isAwaitingPromise()?(po(Zt,E),Zt.awaitingPromise.set(E,!0)):(po(zi,E),po(Zt,E))},po=(E,I)=>{for(const P in E)E[P].delete(I)};var dc=Object.freeze({hideLoading:Rn,disableLoading:Rn,getInput:function _a(E){const I=Zt.innerParams.get(E||this),P=Zt.domCache.get(E||this);return P?Fr(P.popup,I.input):null},close:Go,isAwaitingPromise:function xa(){return!!Zt.awaitingPromise.get(this)},rejectPromise:function $e(E){const I=zi.swalPromiseReject.get(this);rn(this),I&&I(E)},handleAwaitingPromise:rn,closePopup:Go,closeModal:Go,closeToast:Go,enableButtons:function lc(){ni(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function nu(){ni(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function ru(){return ml(this.getInput(),!1)},disableInput:function Ta(){return ml(this.getInput(),!0)},showValidationMessage:function Ko(E){const I=Zt.domCache.get(this),P=Zt.innerParams.get(this);Xe(I.validationMessage,E),I.validationMessage.className=H["validation-message"],P.customClass&&P.customClass.validationMessage&&Lt(I.validationMessage,P.customClass.validationMessage),bt(I.validationMessage);const Y=this.getInput();Y&&(Y.setAttribute("aria-invalid",!0),Y.setAttribute("aria-describedby",H["validation-message"]),Tr(Y),Lt(Y,H.inputerror))},resetValidationMessage:function Dr(){const E=Zt.domCache.get(this);E.validationMessage&&mt(E.validationMessage);const I=this.getInput();I&&(I.removeAttribute("aria-invalid"),I.removeAttribute("aria-describedby"),Wn(I,H.inputerror))},getProgressSteps:function $i(){return Zt.domCache.get(this).progressSteps},update:function cc(E){const I=Ce(),P=Zt.innerParams.get(this);if(!I||Cn(I,P.hideClass.popup))return U("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Y=fs(E),Ue=Object.assign({},P,Y);nc(this,Ue),Zt.innerParams.set(this,Ue),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})},_destroy:function Os(){const E=Zt.domCache.get(this),I=Zt.innerParams.get(this);I?(E.popup&&K.swalCloseEventFinishedCallback&&(K.swalCloseEventFinishedCallback(),delete K.swalCloseEventFinishedCallback),"function"==typeof I.didDestroy&&I.didDestroy(),Ia(this)):uc(this)}});const yl=(E,I)=>{const P=Zt.innerParams.get(E);if(!P.input)return _e('The "input" parameter is needed to be set when using returnInputValueOn'.concat(l(I)));const Y=((E,I)=>{const P=E.getInput();if(!P)return null;switch(I.input){case"checkbox":return hl(P);case"radio":return fl(P);case"file":return sc(P);default:return I.inputAutoTrim?P.value.trim():P.value}})(E,P);P.inputValidator?wh(E,Y,I):E.getInput().checkValidity()?"deny"===I?Yo(E,Y):Ps(E,Y):(E.enableButtons(),E.showValidationMessage(P.validationMessage))},wh=(E,I,P)=>{const Y=Zt.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>ee(Y.inputValidator(I,Y.validationMessage))).then(St=>{E.enableButtons(),E.enableInput(),St?E.showValidationMessage(St):"deny"===P?Yo(E,I):Ps(E,I)})},Yo=(E,I)=>{const P=Zt.innerParams.get(E||void 0);P.showLoaderOnDeny&&yr(Sn()),P.preDeny?(Zt.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>ee(P.preDeny(I,P.validationMessage))).then(Ue=>{!1===Ue?(E.hideLoading(),rn(E)):E.closePopup({isDenied:!0,value:void 0===Ue?I:Ue})}).catch(Ue=>_l(E||void 0,Ue))):E.closePopup({isDenied:!0,value:I})},$s=(E,I)=>{E.closePopup({isConfirmed:!0,value:I})},_l=(E,I)=>{E.rejectPromise(I)},Ps=(E,I)=>{const P=Zt.innerParams.get(E||void 0);P.showLoaderOnConfirm&&yr(),P.preConfirm?(E.resetValidationMessage(),Zt.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>ee(P.preConfirm(I,P.validationMessage))).then(Ue=>{$t(pt())||!1===Ue?(E.hideLoading(),rn(E)):$s(E,void 0===Ue?I:Ue)}).catch(Ue=>_l(E||void 0,Ue))):$s(E,I)},nd=(E,I,P)=>{I.popup.onclick=()=>{const Y=Zt.innerParams.get(E);Y&&(Qo(Y)||Y.timer||Y.input)||P(Is.close)}},Qo=E=>E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton;let _i=!1;const rd=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(I){E.container.onmouseup=void 0,I.target===E.container&&(_i=!0)}}},jr=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(I){E.popup.onmouseup=void 0,(I.target===E.popup||E.popup.contains(I.target))&&(_i=!0)}}},Rs=(E,I,P)=>{I.container.onclick=Y=>{const Ue=Zt.innerParams.get(E);_i?_i=!1:Y.target===I.container&&ge(Ue.allowOutsideClick)&&P(Is.backdrop)}},Uf=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E);const sd=()=>{if(K.timeout)return(()=>{const E=z(),I=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const Y=I/parseInt(window.getComputedStyle(E).width)*100;E.style.removeProperty("transition"),E.style.width="".concat(Y,"%")})(),K.timeout.stop()},Jo=()=>{if(K.timeout){const E=K.timeout.start();return J(E),E}};let Ar=!1;const fc={};const Xo=E=>{for(let I=E.target;I&&I!==document;I=I.parentNode)for(const P in fc){const Y=I.getAttribute(P);if(Y)return void fc[P].fire({template:Y})}};var ou=Object.freeze({isValidParameter:Ne,isUpdatableParameter:Ve,isDeprecatedParameter:ht,argsToParams:E=>{const I={};return"object"!=typeof E[0]||Uf(E[0])?["title","html","icon"].forEach((P,Y)=>{const Ue=E[Y];"string"==typeof Ue||Uf(Ue)?I[P]=Ue:void 0!==Ue&&_e("Unexpected type of ".concat(P,'! Expected "string" or "Element", got ').concat(typeof Ue))}):Object.assign(I,E[0]),I},isVisible:()=>$t(Ce()),clickConfirm:va,clickDeny:()=>Sn()&&Sn().click(),clickCancel:()=>Qt()&&Qt().click(),getContainer:se,getPopup:Ce,getTitle:nt,getHtmlContainer:Ot,getImage:mn,getIcon:Te,getInputLabel:()=>pe(H["input-label"]),getCloseButton:j,getActions:fn,getConfirmButton:cn,getDenyButton:Sn,getCancelButton:Qt,getLoader:hn,getFooter:Bn,getTimerProgressBar:z,getFocusableElements:ne,getValidationMessage:pt,isLoading:()=>Ce().hasAttribute("data-loading"),fire:function Vg(){const E=this;for(var I=arguments.length,P=new Array(I),Y=0;Y<I;Y++)P[Y]=arguments[Y];return new E(...P)},mixin:function Vf(E){return class I extends(this){_main(Y,Ue){return super._main(Y,Object.assign({},E,Ue))}}},showLoading:yr,enableLoading:yr,getTimerLeft:()=>K.timeout&&K.timeout.getTimerLeft(),stopTimer:sd,resumeTimer:Jo,toggleTimer:()=>{const E=K.timeout;return E&&(E.running?sd():Jo())},increaseTimer:E=>{if(K.timeout){const I=K.timeout.increase(E);return J(I,!0),I}},isTimerRunning:()=>K.timeout&&K.timeout.isRunning(),bindClickHandler:function mo(){fc[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ar||(document.body.addEventListener("click",Xo),Ar=!0)}});let Gi;class Mi{constructor(){if("undefined"==typeof window)return;Gi=this;for(var I=arguments.length,P=new Array(I),Y=0;Y<I;Y++)P[Y]=arguments[Y];const Ue=Object.freeze(this.constructor.argsToParams(P));Object.defineProperties(this,{params:{value:Ue,writable:!1,enumerable:!0,configurable:!0}});const St=Gi._main(Gi.params);Zt.promise.set(this,St)}_main(I){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(E=>{!E.backdrop&&E.allowOutsideClick&&U('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const I in E)ft(I),E.toast&&He(I),We(I)})(Object.assign({},P,I)),K.currentInstance&&(K.currentInstance._destroy(),de()&&rc()),K.currentInstance=Gi;const Y=od(I,P);Xu(Y),Object.freeze(Y),K.timeout&&(K.timeout.stop(),delete K.timeout),clearTimeout(K.restoreFocusTimeout);const Ue=Ch(Gi);return nc(Gi,Y),Zt.innerParams.set(Gi,Y),Sa(Gi,Ue,Y)}then(I){return Zt.promise.get(this).then(I)}finally(I){return Zt.promise.get(this).finally(I)}}const Sa=(E,I,P)=>new Promise((Y,Ue)=>{const St=Zn=>{E.closePopup({isDismissed:!0,dismiss:Zn})};zi.swalPromiseResolve.set(E,Y),zi.swalPromiseReject.set(E,Ue),I.confirmButton.onclick=()=>(E=>{const I=Zt.innerParams.get(E);E.disableButtons(),I.input?yl(E,"confirm"):Ps(E,!0)})(E),I.denyButton.onclick=()=>(E=>{const I=Zt.innerParams.get(E);E.disableButtons(),I.returnInputValueOnDeny?yl(E,"deny"):Yo(E,!1)})(E),I.cancelButton.onclick=()=>((E,I)=>{E.disableButtons(),I(Is.cancel)})(E,St),I.closeButton.onclick=()=>St(Is.close),((E,I,P)=>{Zt.innerParams.get(E).toast?nd(E,I,P):(rd(I),jr(I),Rs(E,I,P))})(E,I,St),((E,I,P,Y)=>{Ir(I),P.toast||(I.keydownHandler=Ue=>Hs(E,Ue,Y),I.keydownTarget=P.keydownListenerCapture?window:Ce(),I.keydownListenerCapture=P.keydownListenerCapture,I.keydownTarget.addEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!0)})(E,K,P,St),((E,I)=>{"select"===I.input||"radio"===I.input?Ss(E,I):["text","email","number","tel","textarea"].includes(I.input)&&(Re(I.inputValue)||X(I.inputValue))&&(yr(cn()),oc(E,I))})(E,P),Jc(P),Yn(K,P,St),bl(I,P),setTimeout(()=>{I.container.scrollTop=0})}),od=(E,I)=>{const P=(E=>{const I="string"==typeof E.template?document.querySelector(E.template):E.template;if(!I)return{};const P=I.content;return _h(P),Object.assign(mh(P),fa(P),yh(P),pa(P),Ho(P),Qc(P,Ju))})(E),Y=Object.assign({},ut,I,P,E);return Y.showClass=Object.assign({},ut.showClass,Y.showClass),Y.hideClass=Object.assign({},ut.hideClass,Y.hideClass),Y},Ch=E=>{const I={popup:Ce(),container:se(),actions:fn(),confirmButton:cn(),denyButton:Sn(),cancelButton:Qt(),loader:hn(),closeButton:j(),validationMessage:pt(),progressSteps:ln()};return Zt.domCache.set(E,I),I},Yn=(E,I,P)=>{const Y=z();mt(Y),I.timer&&(E.timeout=new As(()=>{P("timer"),delete E.timeout},I.timer),I.timerProgressBar&&(bt(Y),zt(Y,I,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&J(I.timer)})))},bl=(E,I)=>{if(!I.toast){if(!ge(I.allowEnterKey))return Wi();Tt(E,I)||Si(0,-1,1)}},Tt=(E,I)=>I.focusDeny&&$t(E.denyButton)?(E.denyButton.focus(),!0):I.focusCancel&&$t(E.cancelButton)?(E.cancelButton.focus(),!0):!(!I.focusConfirm||!$t(E.confirmButton)||(E.confirmButton.focus(),0)),Wi=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(Mi.prototype,dc),Object.assign(Mi,ou),Object.keys(dc).forEach(E=>{Mi[E]=function(){if(Gi)return Gi[E](...arguments)}}),Mi.DismissReason=Is,Mi.version="11.4.17";const wr=Mi;return wr.default=wr,wr}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Oe,V){var l=Oe.createElement("style");if(Oe.getElementsByTagName("head")[0].appendChild(l),l.styleSheet)l.styleSheet.disabled||(l.styleSheet.cssText=V);else try{l.innerHTML=V}catch($){l.innerText=V}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(xt,Oe,V)=>{"use strict";function _e(se,ue){var pe={};for(var Ce in se)Object.prototype.hasOwnProperty.call(se,Ce)&&ue.indexOf(Ce)<0&&(pe[Ce]=se[Ce]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(Ce=Object.getOwnPropertySymbols(se);Te<Ce.length;Te++)ue.indexOf(Ce[Te])<0&&Object.prototype.propertyIsEnumerable.call(se,Ce[Te])&&(pe[Ce[Te]]=se[Ce[Te]])}return pe}function ge(se,ue,pe,Ce){return new(pe||(pe=Promise))(function(nt,Ot){function mn(cn){try{pt(Ce.next(cn))}catch(Sn){Ot(Sn)}}function ln(cn){try{pt(Ce.throw(cn))}catch(Sn){Ot(Sn)}}function pt(cn){cn.done?nt(cn.value):function Te(nt){return nt instanceof pe?nt:new pe(function(Ot){Ot(nt)})}(cn.value).then(mn,ln)}pt((Ce=Ce.apply(se,ue||[])).next())})}function Ne(se){return this instanceof Ne?(this.v=se,this):new Ne(se)}function Ve(se,ue,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,Ce=pe.apply(se,ue||[]),nt=[];return Te={},Ot("next"),Ot("throw"),Ot("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function Ot(Mn){Ce[Mn]&&(Te[Mn]=function(hn){return new Promise(function(Qt,fn){nt.push([Mn,hn,Qt,fn])>1||mn(Mn,hn)})})}function mn(Mn,hn){try{!function ln(Mn){Mn.value instanceof Ne?Promise.resolve(Mn.value.v).then(pt,cn):Sn(nt[0][2],Mn)}(Ce[Mn](hn))}catch(Qt){Sn(nt[0][3],Qt)}}function pt(Mn){mn("next",Mn)}function cn(Mn){mn("throw",Mn)}function Sn(Mn,hn){Mn(hn),nt.shift(),nt.length&&mn(nt[0][0],nt[0][1])}}function ft(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ue=se[Symbol.asyncIterator];return ue?ue.call(se):(se=function we(se){var ue="function"==typeof Symbol&&Symbol.iterator,pe=ue&&se[ue],Ce=0;if(pe)return pe.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Ce>=se.length&&(se=void 0),{value:se&&se[Ce++],done:!se}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),pe={},Ce("next"),Ce("throw"),Ce("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function Ce(nt){pe[nt]=se[nt]&&function(Ot){return new Promise(function(mn,ln){!function Te(nt,Ot,mn,ln){Promise.resolve(ln).then(function(pt){nt({value:pt,done:mn})},Ot)}(mn,ln,(Ot=se[nt](Ot)).done,Ot.value)})}}}V.d(Oe,{_T:()=>_e,mG:()=>ge,qq:()=>Ne,FC:()=>Ve,KL:()=>ft})},5e3:(xt,Oe,V)=>{"use strict";V.d(Oe,{deG:()=>Bg,tb:()=>AE,AFp:()=>ug,ip1:()=>sl,CZH:()=>Py,hGG:()=>zD,z2F:()=>fb,sBO:()=>fg,Sil:()=>kD,_Vd:()=>rl,EJc:()=>SD,SBq:()=>Fd,qLn:()=>rm,vpe:()=>ql,tBr:()=>Ri,XFs:()=>Xe,OlP:()=>Cr,zs3:()=>Vl,IIB:()=>TD,ZZ4:()=>Eb,aQg:()=>Tb,soG:()=>ob,YKP:()=>U0,h0i:()=>Vd,PXZ:()=>PD,R0b:()=>So,FiY:()=>ps,Lbi:()=>DE,g9A:()=>IE,Qsj:()=>Gx,FYo:()=>df,JOm:()=>Ol,tp0:()=>Ha,Rgc:()=>zl,dDg:()=>hg,q4F:()=>Kx,GfV:()=>N0,s_b:()=>Zc,ifc:()=>nn,eFA:()=>hb,G48:()=>gb,Gpc:()=>X,X6Q:()=>ND,_c5:()=>Zy,VLi:()=>Wd,c2e:()=>SE,zSh:()=>Dv,wAp:()=>Yt,vHH:()=>rt,cg1:()=>ry,kL8:()=>T0,dqk:()=>$t,sIi:()=>Ci,CqO:()=>Jv,QGY:()=>Ad,F4k:()=>xp,RDi:()=>sc,AaK:()=>ge,qOj:()=>qh,TTD:()=>ma,_Bn:()=>uf,xp6:()=>Y_,uIk:()=>Lv,ekj:()=>Od,Suo:()=>Ln,Xpm:()=>Ft,lG2:()=>ze,Yz7:()=>hn,cJS:()=>fn,oAB:()=>De,Yjl:()=>_t,Y36:()=>Du,_UZ:()=>Hm,qZA:()=>jl,TgZ:()=>Zm,EpF:()=>Qv,n5z:()=>Fa,LFG:()=>lt,$8M:()=>li,$Z:()=>lx,NdJ:()=>Ep,CRH:()=>G0,oxw:()=>$m,ALo:()=>Z0,lcZ:()=>by,xi3:()=>q0,Q6J:()=>Kv,s9C:()=>e0,DdM:()=>Bc,VKq:()=>Bd,WLB:()=>eE,iGM:()=>gE,MAs:()=>tx,CHM:()=>Ea,LSH:()=>kh,kYT:()=>le,YNc:()=>ex,W1O:()=>_f,_uU:()=>g0,Oqu:()=>Op,hij:()=>Jm,AsE:()=>m0,Gf:()=>si});var l=V(7579),$=V(727),U=V(8306),_e=V(6451),Ee=V(3099);function Me(o){for(let a in o)if(o[a]===Me)return a;throw Error("Could not find renamed property on target object.")}function Pe(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function ge(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ge).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function Re(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const ee=Me({__forward_ref__:Me});function X(o){return o.__forward_ref__=X,o.toString=function(){return ge(this())},o}function we(o){return ut(o)?o():o}function ut(o){return"function"==typeof o&&o.hasOwnProperty(ee)&&o.__forward_ref__===X}class rt extends Error{constructor(a,u){super(function st(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,u)),this.code=a}}function Ne(o){return"string"==typeof o?o:null==o?"":String(o)}function Ve(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ne(o)}function We(o,a){const u=a?` in ${a}`:"";throw new rt(-201,`No provider for ${Ve(o)} found${u}`)}function ln(o,a){null==o&&function pt(o,a,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${a} <=Actual]`))}(a,o,null,"!=")}function hn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function fn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Bn(o){return z(o,de)||z(o,it)}function z(o,a){return o.hasOwnProperty(a)?o[a]:null}function ne(o){return o&&(o.hasOwnProperty(Ye)||o.hasOwnProperty(At))?o[Ye]:null}const de=Me({\u0275prov:Me}),Ye=Me({\u0275inj:Me}),it=Me({ngInjectableDef:Me}),At=Me({ngInjectorDef:Me});var Xe=(()=>((Xe=Xe||{})[Xe.Default=0]="Default",Xe[Xe.Host=1]="Host",Xe[Xe.Self=2]="Self",Xe[Xe.SkipSelf=4]="SkipSelf",Xe[Xe.Optional=8]="Optional",Xe))();let Cn;function zt(o){const a=Cn;return Cn=o,a}function Fr(o,a,u){const h=Bn(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&Xe.Optional?null:void 0!==a?a:void We(ge(o),"Injector")}function Jr(o){return{toString:o}.toString()}var Lt=(()=>((Lt=Lt||{})[Lt.OnPush=0]="OnPush",Lt[Lt.Default=1]="Default",Lt))(),nn=(()=>{return(o=nn||(nn={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",nn;var o})();const bt="undefined"!=typeof globalThis&&globalThis,mt="undefined"!=typeof window&&window,pi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$t=bt||"undefined"!=typeof global&&global||mt||pi,kn={},J=[],ie=Me({\u0275cmp:Me}),ae=Me({\u0275dir:Me}),Ze=Me({\u0275pipe:Me}),K=Me({\u0275mod:Me}),he=Me({\u0275fac:Me}),Ke=Me({__NG_ELEMENT_ID__:Me});let Ct=0;function Ft(o){return Jr(()=>{const u={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Lt.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||J,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||nn.Emulated,id:"c",styles:o.styles||J,_:null,setInput:null,schemas:o.schemas||null,tView:null},p=o.directives,m=o.features,b=o.pipes;return h.id+=Ct++,h.inputs=oe(o.inputs,u),h.outputs=oe(o.outputs),m&&m.forEach(x=>x(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(On):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(Wt):null,h})}function On(o){return Nt(o)||function Jt(o){return o[ae]||null}(o)}function Wt(o){return function vn(o){return o[Ze]||null}(o)}const vr={};function De(o){return Jr(()=>{const a={type:o.type,bootstrap:o.bootstrap||J,declarations:o.declarations||J,imports:o.imports||J,exports:o.exports||J,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(vr[o.id]=o.type),a})}function le(o,a){return Jr(()=>{const u=pn(o,!0);u.declarations=a.declarations||J,u.imports=a.imports||J,u.exports=a.exports||J})}function oe(o,a){if(null==o)return kn;const u={};for(const h in o)if(o.hasOwnProperty(h)){let p=o[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),u[p]=h,a&&(a[p]=m)}return u}const ze=Ft;function _t(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Nt(o){return o[ie]||null}function pn(o,a){const u=o[K]||null;if(!u&&!0===a)throw new Error(`Type ${ge(o)} does not have '\u0275mod' property.`);return u}function Hi(o){return Array.isArray(o)&&"object"==typeof o[1]}function Di(o){return Array.isArray(o)&&!0===o[1]}function Yc(o){return 0!=(8&o.flags)}function ul(o){return 2==(2&o.flags)}function Zs(o){return 1==(1&o.flags)}function Ai(o){return null!==o.template}function us(o){return 0!=(512&o[2])}function mi(o,a){return o.hasOwnProperty(he)?o[he]:null}class ho{constructor(a,u,h){this.previousValue=a,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function ma(){return ya}function ya(o){return o.type.prototype.ngOnChanges&&(o.setInput=bh),ed}function ed(){const o=Jc(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===kn)o.previous=a;else for(let h in a)u[h]=a[h];o.current=null,this.ngOnChanges(a)}}function bh(o,a,u,h){const p=Jc(o)||function hs(o,a){return o[ds]=a}(o,{previous:kn,current:null}),m=p.current||(p.current={}),b=p.previous,x=this.declaredInputs[u],D=b[x];m[x]=new ho(D&&D.currentValue,a,b===kn),o[h]=a}ma.ngInherit=!0;const ds="__ngSimpleChanges__";function Jc(o){return o[ds]||null}let fl;function sc(o){fl=o}function jn(o){return!!o.listen}const fo={createRenderer:(o,a)=>function Ss(){return void 0!==fl?fl:"undefined"!=typeof document?document:void 0}()};function Rn(o){for(;Array.isArray(o);)o=o[0];return o}function zi(o,a){return Rn(a[o])}function Br(o,a){return Rn(a[o.index])}function or(o,a){return o.data[a]}function ks(o,a){return o[a]}function Ir(o,a){const u=a[o];return Hi(u)?u:u[0]}function $o(o){return 4==(4&o[2])}function Si(o){return 128==(128&o[2])}function yi(o,a){return null==a?null:o[a]}function Hs(o){o[18]=0}function qs(o,a){o[5]+=a;let u=o,h=o[3];for(;null!==h&&(1===a&&1===u[5]||-1===a&&0===u[5]);)h[5]+=a,u=h,h=h[3]}const Vt={lFrame:Ps(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Go(){return Vt.bindingsEnabled}function $e(){return Vt.lFrame.lView}function rn(){return Vt.lFrame.tView}function Ea(o){return Vt.lFrame.contextLView=o,o[8]}function ar(){let o=zs();for(;null!==o&&64===o.type;)o=o.parent;return o}function zs(){return Vt.lFrame.currentTNode}function ni(o,a){const u=Vt.lFrame;u.currentTNode=o,u.isParent=a}function ml(){return Vt.lFrame.isParent}function Ta(){return Vt.isInCheckNoChangesMode}function Ko(o){Vt.isInCheckNoChangesMode=o}function Dr(){const o=Vt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function fs(){return Vt.lFrame.bindingIndex++}function Os(o){const a=Vt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function po(o,a){const u=Vt.lFrame;u.bindingIndex=u.bindingRootIndex=o,go(a)}function go(o){Vt.lFrame.currentDirectiveIndex=o}function Da(){return Vt.lFrame.currentQueryIndex}function yl(o){Vt.lFrame.currentQueryIndex=o}function wh(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Yo(o,a,u){if(u&Xe.SkipSelf){let p=a,m=o;for(;!(p=p.parent,null!==p||u&Xe.Host||(p=wh(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;a=p,o=m}const h=Vt.lFrame=_l();return h.currentTNode=a,h.lView=o,!0}function $s(o){const a=_l(),u=o[1];Vt.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function _l(){const o=Vt.lFrame,a=null===o?null:o.child;return null===a?Ps(o):a}function Ps(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function iu(){const o=Vt.lFrame;return Vt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const nd=iu;function Qo(){const o=iu();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function jr(){return Vt.lFrame.selectedIndex}function Rs(o){Vt.lFrame.selectedIndex=o}function lr(){const o=Vt.lFrame;return or(o.tView,o.selectedIndex)}function Jo(o,a){for(let u=a.directiveStart,h=a.directiveEnd;u<h;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:x,ngAfterViewInit:D,ngAfterViewChecked:O,ngOnDestroy:N}=m;b&&(o.contentHooks||(o.contentHooks=[])).push(-u,b),x&&((o.contentHooks||(o.contentHooks=[])).push(u,x),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,x)),D&&(o.viewHooks||(o.viewHooks=[])).push(-u,D),O&&((o.viewHooks||(o.viewHooks=[])).push(u,O),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,O)),null!=N&&(o.destroyHooks||(o.destroyHooks=[])).push(u,N)}}function Ns(o,a,u){Ar(o,a,3,u)}function Aa(o,a,u,h){(3&o[2])===u&&Ar(o,a,u,h)}function vl(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function Ar(o,a,u,h){const m=null!=h?h:-1,b=a.length-1;let x=0;for(let D=void 0!==h?65535&o[18]:0;D<b;D++)if("number"==typeof a[D+1]){if(x=a[D],null!=h&&x>=h)break}else a[D]<0&&(o[18]+=65536),(x<m||-1==m)&&(fc(o,u,a,D),o[18]=(4294901760&o[18])+D+2),D++}function fc(o,a,u,h){const p=u[h]<0,m=u[h+1],x=o[p?-u[h]:u[h]];if(p){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(x)}finally{}}}else try{m.call(x)}finally{}}class Xo{constructor(a,u,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Tt(o,a,u){const h=jn(o);let p=0;for(;p<u.length;){const m=u[p];if("number"==typeof m){if(0!==m)break;p++;const b=u[p++],x=u[p++],D=u[p++];h?o.setAttribute(a,x,D,b):a.setAttributeNS(b,x,D)}else{const b=m,x=u[++p];wr(b)?h&&o.setProperty(a,b,x):h?o.setAttribute(a,b,x):a.setAttribute(b,x),p++}}return p}function Wi(o){return 3===o||4===o||6===o}function wr(o){return 64===o.charCodeAt(0)}function E(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let h=0;h<a.length;h++){const p=a[h];"number"==typeof p?u=p:0===u||I(o,u,p,null,-1===u||2===u?a[++h]:null)}}return o}function I(o,a,u,h,p){let m=0,b=o.length;if(-1===a)b=-1;else for(;m<o.length;){const x=o[m++];if("number"==typeof x){if(x===a){b=-1;break}if(x>a){b=m-1;break}}}for(;m<o.length;){const x=o[m];if("number"==typeof x)break;if(x===u){if(null===h)return void(null!==p&&(o[m+1]=p));if(h===o[m+1])return void(o[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==b&&(o.splice(b,0,a),m=b+1),o.splice(m++,0,u),null!==h&&o.splice(m++,0,h),null!==p&&o.splice(m++,0,p)}function P(o){return-1!==o}function Y(o){return 32767&o}function St(o,a){let u=function Ue(o){return o>>16}(o),h=a;for(;u>0;)h=h[15],u--;return h}let Zn=!0;function Sr(o){const a=Zn;return Zn=o,a}let au=0;function nr(o,a){const u=_o(o,a);if(-1!==u)return u;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,lu(h.data,o),lu(a,null),lu(h.blueprint,null));const p=Ma(o,a),m=o.injectorIndex;if(P(p)){const b=Y(p),x=St(p,a),D=x[1].data;for(let O=0;O<8;O++)a[m+O]=x[b+O]|D[b+O]}return a[m+8]=p,m}function lu(o,a){o.push(0,0,0,0,0,0,0,0,a)}function _o(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Ma(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,p=a;for(;null!==p;){const m=p[1],b=m.type;if(h=2===b?m.declTNode:1===b?p[6]:null,null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Ki(o,a,u){!function xh(o,a,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Ke)&&(h=u[Ke]),null==h&&(h=u[Ke]=au++);const p=255&h;a.data[o+(p>>5)]|=1<<p}(o,a,u)}function ea(o,a,u){if(u&Xe.Optional)return o;We(a,"NodeInjector")}function ka(o,a,u,h){if(u&Xe.Optional&&void 0===h&&(h=null),0==(u&(Xe.Self|Xe.Host))){const p=o[9],m=zt(void 0);try{return p?p.get(a,h,u&Xe.Optional):Fr(a,h,u&Xe.Optional)}finally{zt(m)}}return ea(h,a,u)}function Cl(o,a,u,h=Xe.Default,p){if(null!==o){const m=function Na(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Ke)?o[Ke]:void 0;return"number"==typeof a?a>=0?255&a:xl:a}(u);if("function"==typeof m){if(!Yo(a,o,h))return h&Xe.Host?ea(p,u,h):ka(a,u,h,p);try{const b=m(h);if(null!=b||h&Xe.Optional)return b;We(u)}finally{nd()}}else if("number"==typeof m){let b=null,x=_o(o,a),D=-1,O=h&Xe.Host?a[16][6]:null;for((-1===x||h&Xe.SkipSelf)&&(D=-1===x?Ma(o,a):a[x+8],-1!==D&&Zr(h,!1)?(b=a[1],x=Y(D),a=St(D,a)):x=-1);-1!==x;){const N=a[1];if(ad(m,x,N.data)){const q=Oa(x,a,u,b,h,O);if(q!==ta)return q}D=a[x+8],-1!==D&&Zr(h,a[1].data[x+8]===O)&&ad(m,x,a)?(b=N,x=Y(D),a=St(D,a)):x=-1}}}return ka(a,u,h,p)}const ta={};function xl(){return new La(ar(),$e())}function Oa(o,a,u,h,p,m){const b=a[1],x=b.data[o+8],N=Pa(x,b,u,null==h?ul(x)&&Zn:h!=b&&0!=(3&x.type),p&Xe.Host&&m===x);return null!==N?Ra(a,b,N,x):ta}function Pa(o,a,u,h,p){const m=o.providerIndexes,b=a.data,x=1048575&m,D=o.directiveStart,N=m>>20,re=p?x+N:o.directiveEnd;for(let fe=h?x:x+N;fe<re;fe++){const qe=b[fe];if(fe<D&&u===qe||fe>=D&&qe.type===u)return fe}if(p){const fe=b[D];if(fe&&Ai(fe)&&fe.type===u)return D}return null}function Ra(o,a,u,h){let p=o[u];const m=a.data;if(function ou(o){return o instanceof Xo}(p)){const b=p;b.resolving&&function ht(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new rt(-200,`Circular dependency in DI detected for ${o}${u}`)}(Ve(m[u]));const x=Sr(b.canSeeViewProviders);b.resolving=!0;const D=b.injectImpl?zt(b.injectImpl):null;Yo(o,h,Xe.Default);try{p=o[u]=b.factory(void 0,m,o,h),a.firstCreatePass&&u>=h.directiveStart&&function sd(o,a,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=a.type.prototype;if(h){const b=ya(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,b)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,p),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],a)}finally{null!==D&&zt(D),Sr(x),b.resolving=!1,nd()}}return p}function ad(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function Zr(o,a){return!(o&Xe.Self||o&Xe.Host&&a)}class La{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,h){return Cl(this._tNode,this._lView,a,h,u)}}function Fa(o){return Jr(()=>{const a=o.prototype.constructor,u=a[he]||cr(a),h=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==h;){const m=p[he]||cr(p);if(m&&m!==u)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function cr(o){return ut(o)?()=>{const a=cr(we(o));return a&&a()}:mi(o)}function li(o){return function vi(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const m=u[p];if(Wi(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(m===a)return u[p+1];p+=2}}}return null}(ar(),o)}const na="__parameters__",Ws="__prop__metadata__";function vo(o){return function(...u){if(o){const h=o(...u);for(const p in h)this[p]=h[p]}}}function ur(o,a,u){return Jr(()=>{const h=vo(a);function p(...m){if(this instanceof p)return h.apply(this,m),this;const b=new p(...m);return x.annotation=b,x;function x(D,O,N){const q=D.hasOwnProperty(na)?D[na]:Object.defineProperty(D,na,{value:[]})[na];for(;q.length<=N;)q.push(null);return(q[N]=q[N]||[]).push(b),D}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}function El(o,a,u,h){return Jr(()=>{const p=vo(a);function m(...b){if(this instanceof m)return p.apply(this,b),this;const x=new m(...b);return function D(O,N){const q=O.constructor,re=q.hasOwnProperty(Ws)?q[Ws]:Object.defineProperty(q,Ws,{value:{}})[Ws];re[N]=re.hasOwnProperty(N)&&re[N]||[],re[N].unshift(x),h&&h(O,N,...b)}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=o,m.annotationCls=m,m})}class Cr{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=hn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Bg=new Cr("AnalyzeForEntryComponents");function ki(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(a===o&&(a=o.slice(0,u)),ki(h,a)):a!==o&&a.push(h)}return a}function Oi(o,a){o.forEach(u=>Array.isArray(u)?Oi(u,a):a(u))}function mc(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function yc(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Hr(o,a,u){let h=Ba(o,a);return h>=0?o[1|h]=u:(h=~h,function _c(o,a,u,h){let p=o.length;if(p==a)o.push(u,h);else if(1===p)o.push(h,o[0]),o[0]=u;else{for(p--,o.push(o[p-1],o[p]);p>a;)o[p]=o[p-2],p--;o[a]=u,o[a+1]=h}}(o,h,a,u)),h}function hu(o,a){const u=Ba(o,a);if(u>=0)return o[1|u]}function Ba(o,a){return function fu(o,a,u){let h=0,p=o.length>>u;for(;p!==h;){const m=h+(p-h>>1),b=o[m<<u];if(a===b)return m<<u;b>a?p=m:h=m+1}return~(p<<u)}(o,a,1)}const ia={},Al="__NG_DI_FLAG__",ja="ngTempTokenPath",A=/\n/gm,F="__source",W=Me({provide:String,useValue:Me});let ce;function be(o){const a=ce;return ce=o,a}function ke(o,a=Xe.Default){if(void 0===ce)throw new rt(203,"");return null===ce?Fr(o,void 0,a):ce.get(o,a&Xe.Optional?null:void 0,a)}function lt(o,a=Xe.Default){return(function Un(){return Cn}()||ke)(we(o),a)}const sn=lt;function An(o){const a=[];for(let u=0;u<o.length;u++){const h=we(o[u]);if(Array.isArray(h)){if(0===h.length)throw new rt(900,"");let p,m=Xe.Default;for(let b=0;b<h.length;b++){const x=h[b],D=Pi(x);"number"==typeof D?-1===D?p=x.token:m|=D:p=x}a.push(lt(p,m))}else a.push(lt(h))}return a}function Bt(o,a){return o[Al]=a,o.prototype[Al]=a,o}function Pi(o){return o[Al]}const Ri=Bt(ur("Inject",o=>({token:o})),-1),ps=Bt(ur("Optional"),8),Ha=Bt(ur("SkipSelf"),4);class Dh{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function oa(o){return o instanceof Dh?o.changingThisBreaksApplicationSecurity:o}const Sh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,C=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var qn=(()=>((qn=qn||{})[qn.NONE=0]="NONE",qn[qn.HTML=1]="HTML",qn[qn.STYLE=2]="STYLE",qn[qn.SCRIPT=3]="SCRIPT",qn[qn.URL=4]="URL",qn[qn.RESOURCE_URL=5]="RESOURCE_URL",qn))();function kh(o){const a=function vu(){const o=$e();return o&&o[12]}();return a?a.sanitize(qn.URL,o)||"":function Ml(o,a){const u=function bc(o){return o instanceof Dh&&o.getTypeName()||null}(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}(o,"URL")?oa(o):function y(o){return(o=String(o)).match(Sh)||o.match(C)?o:"unsafe:"+o}(Ne(o))}const Vw="__ngContext__";function ys(o,a){o[Vw]=a}function O_(o){const a=function Xf(o){return o[Vw]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function md(o){return o.ngOriginalError}function LT(o,...a){o.error(...a)}class rm{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),h=function NT(o){return o&&o.ngErrorLogger||LT}(a);h(this._console,"ERROR",a),u&&h(this._console,"ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&md(a);for(;u&&md(u);)u=md(u);return u||null}}const zT=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($t))();function Wa(o){return o instanceof Function?o():o}var Ol=(()=>((Ol=Ol||{})[Ol.Important=1]="Important",Ol[Ol.DashCase=2]="DashCase",Ol))();function im(o,a){return undefined(o,a)}function tp(o){const a=o[3];return Di(a)?a[3]:a}function np(o){return Kw(o[13])}function om(o){return Kw(o[4])}function Kw(o){for(;null!==o&&!Di(o);)o=o[4];return o}function Oh(o,a,u,h,p){if(null!=h){let m,b=!1;Di(h)?m=h:Hi(h)&&(b=!0,h=h[0]);const x=Rn(h);0===o&&null!==u?null==p?Z_(a,u,x):xo(a,u,x,p||null,!0):1===o&&null!==u?xo(a,u,x,p||null,!0):2===o?function $_(o,a,u){const h=ip(o,a);h&&function XT(o,a,u,h){jn(o)?o.removeChild(a,u,h):a.removeChild(u)}(o,h,a,u)}(a,x,b):3===o&&a.destroyNode(x),null!=m&&function _d(o,a,u,h,p){const m=u[7];m!==Rn(u)&&Oh(a,o,h,m,p);for(let x=10;x<u.length;x++){const D=u[x];cm(D[1],D,o,a,h,m)}}(a,o,m,u,p)}}function F_(o,a,u){if(jn(o))return o.createElement(a,u);{const h=null!==u?function hl(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(u):null;return null===h?o.createElement(a):o.createElementNS(h,a)}}function rp(o,a){const u=o[9],h=u.indexOf(a),p=a[3];1024&a[2]&&(a[2]&=-1025,qs(p,-1)),u.splice(h,1)}function V_(o,a){if(o.length<=10)return;const u=10+a,h=o[u];if(h){const p=h[17];null!==p&&p!==o&&rp(p,h),a>0&&(o[u-1][4]=h[4]);const m=yc(o,10+a);!function Gr(o,a){cm(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const b=m[19];null!==b&&b.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function B_(o,a){if(!(256&a[2])){const u=a[11];jn(u)&&u.destroyNode&&cm(o,a,u,3,null,null),function U_(o){let a=o[13];if(!a)return j_(o[1],o);for(;a;){let u=null;if(Hi(a))u=a[13];else{const h=a[10];h&&(u=h)}if(!u){for(;a&&!a[4]&&a!==o;)Hi(a)&&j_(a[1],a),a=a[3];null===a&&(a=o),Hi(a)&&j_(a[1],a),u=a&&a[4]}a=u}}(a)}}function j_(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function Jw(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const p=a[u[h]];if(!(p instanceof Xo)){const m=u[h+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const x=p[m[b]],D=m[b+1];try{D.call(x)}finally{}}else try{m.call(p)}finally{}}}}(o,a),function Qw(o,a){const u=o.cleanup,h=a[7];let p=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const b=u[m+1],x="function"==typeof b?b(a):Rn(a[b]),D=h[p=u[m+2]],O=u[m+3];"boolean"==typeof O?x.removeEventListener(u[m],D,O):O>=0?h[p=O]():h[p=-O].unsubscribe(),m+=2}else{const b=h[p=u[m+1]];u[m].call(b)}if(null!==h){for(let m=p+1;m<h.length;m++)h[m]();a[7]=null}}(o,a),1===a[1].type&&jn(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&Di(a[3])){u!==a[3]&&rp(u,a);const h=a[19];null!==h&&h.detachView(o)}}}function am(o,a,u){return function JT(o,a,u){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return u[0];if(2&h.flags){const p=o.data[h.directiveStart].encapsulation;if(p===nn.None||p===nn.Emulated)return null}return Br(h,u)}(o,a.parent,u)}function xo(o,a,u,h,p){jn(o)?o.insertBefore(a,u,h,p):a.insertBefore(u,h,p)}function Z_(o,a,u){jn(o)?o.appendChild(a,u):a.appendChild(u)}function Xw(o,a,u,h,p){null!==h?xo(o,a,u,h,p):Z_(o,a,u)}function ip(o,a){return jn(o)?o.parentNode(a):a.parentNode}let H_=function tC(o,a,u){return 40&o.type?Br(o,u):null};function lm(o,a,u,h){const p=am(o,h,a),m=a[11],x=function eC(o,a,u){return H_(o,a,u)}(h.parent||a[6],h,a);if(null!=p)if(Array.isArray(u))for(let D=0;D<u.length;D++)Xw(m,p,u[D],x,!1);else Xw(m,p,u,x,!1)}function Rh(o,a){if(null!==a){const u=a.type;if(3&u)return Br(a,o);if(4&u)return z_(-1,o[a.index]);if(8&u){const h=a.child;if(null!==h)return Rh(o,h);{const p=o[a.index];return Di(p)?z_(-1,p):Rn(p)}}if(32&u)return im(a,o)()||Rn(o[a.index]);{const h=rC(o,a);return null!==h?Array.isArray(h)?h[0]:Rh(tp(o[16]),h):Rh(o,a.next)}}return null}function rC(o,a){return null!==a?o[16][6].projection[a.projection]:null}function z_(o,a){const u=10+o+1;if(u<a.length){const h=a[u],p=h[1].firstChild;if(null!==p)return Rh(h,p)}return a[7]}function G_(o,a,u,h,p,m,b){for(;null!=u;){const x=h[u.index],D=u.type;if(b&&0===a&&(x&&ys(Rn(x),h),u.flags|=4),64!=(64&u.flags))if(8&D)G_(o,a,u.child,h,p,m,!1),Oh(a,o,p,x,m);else if(32&D){const O=im(u,h);let N;for(;N=O();)Oh(a,o,p,N,m);Oh(a,o,p,x,m)}else 16&D?W_(o,a,h,u,p,m):Oh(a,o,p,x,m);u=b?u.projectionNext:u.next}}function cm(o,a,u,h,p,m){G_(u,h,o.firstChild,a,p,m,!1)}function W_(o,a,u,h,p,m){const b=u[16],D=b[6].projection[h.projection];if(Array.isArray(D))for(let O=0;O<D.length;O++)Oh(a,o,p,D[O],m);else G_(o,a,D,b[3],p,m,!0)}function iC(o,a,u){jn(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function sp(o,a,u){jn(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function sC(o,a,u){let h=o.length;for(;;){const p=o.indexOf(a,u);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const m=a.length;if(p+m===h||o.charCodeAt(p+m)<=32)return p}u=p+1}}const oC="ng-template";function Rl(o,a,u){let h=0;for(;h<o.length;){let p=o[h++];if(u&&"class"===p){if(p=o[h],-1!==sC(p.toLowerCase(),a,0))return!0}else if(1===p){for(;h<o.length&&"string"==typeof(p=o[h++]);)if(p.toLowerCase()===a)return!0;return!1}}return!1}function xc(o){return 4===o.type&&o.value!==oC}function aC(o,a,u){return a===(4!==o.type||u?o.value:oC)}function _s(o,a,u){let h=4;const p=o.attrs||[],m=function cC(o){for(let a=0;a<o.length;a++)if(Wi(o[a]))return a;return o.length}(p);let b=!1;for(let x=0;x<a.length;x++){const D=a[x];if("number"!=typeof D){if(!b)if(4&h){if(h=2|1&h,""!==D&&!aC(o,D,u)||""===D&&1===a.length){if(Ni(h))return!1;b=!0}}else{const O=8&h?D:a[++x];if(8&h&&null!==o.attrs){if(!Rl(o.attrs,O,u)){if(Ni(h))return!1;b=!0}continue}const q=nI(8&h?"class":D,p,xc(o),u);if(-1===q){if(Ni(h))return!1;b=!0;continue}if(""!==O){let re;re=q>m?"":p[q+1].toLowerCase();const fe=8&h?re:null;if(fe&&-1!==sC(fe,O,0)||2&h&&O!==re){if(Ni(h))return!1;b=!0}}}}else{if(!b&&!Ni(h)&&!Ni(D))return!1;if(b&&Ni(D))continue;b=!1,h=D|1&h}}return Ni(h)||b}function Ni(o){return 0==(1&o)}function nI(o,a,u,h){if(null===a)return-1;let p=0;if(h||!u){let m=!1;for(;p<a.length;){const b=a[p];if(b===o)return p;if(3===b||6===b)m=!0;else{if(1===b||2===b){let x=a[++p];for(;"string"==typeof x;)x=a[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=m?1:2}return-1}return function uC(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===a)return u;u++}return-1}(a,o)}function _n(o,a,u=!1){for(let h=0;h<a.length;h++)if(_s(o,a[h],u))return!0;return!1}function K_(o,a){return o?":not("+a.trim()+")":a}function hC(o){let a=o[0],u=1,h=2,p="",m=!1;for(;u<o.length;){let b=o[u];if("string"==typeof b)if(2&h){const x=o[++u];p+="["+b+(x.length>0?'="'+x+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!Ni(b)&&(a+=K_(m,p),p=""),h=b,m=m||!Ni(h);u++}return""!==p&&(a+=K_(m,p)),a}const an={};function Y_(o){Q_(rn(),$e(),jr()+o,Ta())}function Q_(o,a,u,h){if(!h)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Ns(a,m,u)}else{const m=o.preOrderHooks;null!==m&&Aa(a,m,0,u)}Rs(u)}function op(o,a){return o<<17|a<<2}function Ka(o){return o>>17&32767}function ap(o){return 2|o}function Nl(o){return(131068&o)>>2}function lp(o,a){return-131069&o|a<<2}function um(o){return 1|o}function ov(o,a){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const p=u[h],m=u[h+1];if(-1!==m){const b=o.data[m];yl(p),b.contentQueries(2,a[m],m)}}}function dp(o,a,u,h,p,m,b,x,D,O){const N=a.blueprint.slice();return N[0]=p,N[2]=140|h,Hs(N),N[3]=N[15]=o,N[8]=u,N[10]=b||o&&o[10],N[11]=x||o&&o[11],N[12]=D||o&&o[12]||null,N[9]=O||o&&o[9]||null,N[6]=m,N[16]=2==a.type?o[16]:N,N}function vd(o,a,u,h,p){let m=o.data[a];if(null===m)m=function hp(o,a,u,h,p){const m=zs(),b=ml(),D=o.data[a]=function dI(o,a,u,h,p,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,u,a,h,p);return null===o.firstChild&&(o.firstChild=D),null!==m&&(b?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}(o,a,u,h,p),function Ia(){return Vt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=h,m.attrs=p;const b=function Wo(){const o=Vt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return ni(m,!0),m}function Cu(o,a,u,h){if(0===u)return-1;const p=a.length;for(let m=0;m<u;m++)a.push(h),o.blueprint.push(h),o.data.push(null);return p}function mm(o,a,u){$s(a);try{const h=o.viewQuery;null!==h&&xv(1,h,u);const p=o.template;null!==p&&pp(o,a,p,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&ov(o,a),o.staticViewQueries&&xv(2,o.viewQuery,u);const m=o.components;null!==m&&function av(o,a){for(let u=0;u<a.length;u++)Fl(o,a[u])}(a,m)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,Qo()}}function xu(o,a,u,h){const p=a[2];if(256==(256&p))return;$s(a);const m=Ta();try{Hs(a),function cc(o){return Vt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&pp(o,a,u,2,h);const b=3==(3&p);if(!m)if(b){const O=o.preOrderCheckHooks;null!==O&&Ns(a,O,null)}else{const O=o.preOrderHooks;null!==O&&Aa(a,O,0,null),vl(a,0)}if(function yI(o){for(let a=np(o);null!==a;a=om(a)){if(!a[2])continue;const u=a[9];for(let h=0;h<u.length;h++){const p=u[h],m=p[3];0==(1024&p[2])&&qs(m,1),p[2]|=1024}}}(a),function _v(o){for(let a=np(o);null!==a;a=om(a))for(let u=10;u<a.length;u++){const h=a[u],p=h[1];Si(h)&&xu(p,h,p.template,h[8])}}(a),null!==o.contentQueries&&ov(o,a),!m)if(b){const O=o.contentCheckHooks;null!==O&&Ns(a,O)}else{const O=o.contentHooks;null!==O&&Aa(a,O,1),vl(a,1)}!function uI(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)Rs(~p);else{const m=p,b=u[++h],x=u[++h];po(b,m),x(2,a[m])}}}finally{Rs(-1)}}(o,a);const x=o.components;null!==x&&function mk(o,a){for(let u=0;u<a.length;u++)SC(o,a[u])}(a,x);const D=o.viewQuery;if(null!==D&&xv(2,D,h),!m)if(b){const O=o.viewCheckHooks;null!==O&&Ns(a,O)}else{const O=o.viewHooks;null!==O&&Aa(a,O,2),vl(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),m||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,qs(a[3],-1))}finally{Qo()}}function fp(o,a,u,h){const p=a[10],m=!Ta(),b=$o(a);try{m&&!b&&p.begin&&p.begin(),b&&mm(o,a,h),xu(o,a,u,h)}finally{m&&!b&&p.end&&p.end()}}function pp(o,a,u,h,p){const m=jr(),b=2&h;try{Rs(-1),b&&a.length>20&&Q_(o,a,20,Ta()),u(h,p)}finally{Rs(m)}}function wd(o,a,u){!Go()||(function bk(o,a,u,h){const p=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||nr(u,a),ys(h,a);const b=u.initialInputs;for(let x=p;x<m;x++){const D=o.data[x],O=Ai(D);O&&gI(a,u,D);const N=Ra(a,o,x,u);ys(N,a),null!==b&&mI(0,x-p,N,D,0,b),O&&(Ir(u.index,a)[8]=N)}}(o,a,u,Br(u,a)),128==(128&u.flags)&&function fI(o,a,u){const h=u.directiveStart,p=u.directiveEnd,b=u.index,x=function dc(){return Vt.lFrame.currentDirectiveIndex}();try{Rs(b);for(let D=h;D<p;D++){const O=o.data[D],N=a[D];go(D),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&gv(O,N)}}finally{Rs(-1),go(x)}}(o,a,u))}function lv(o,a,u=Br){const h=a.localNames;if(null!==h){let p=a.index+1;for(let m=0;m<h.length;m+=2){const b=h[m+1],x=-1===b?u(a,o):o[b];o[p++]=x}}}function ym(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=gp(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function gp(o,a,u,h,p,m,b,x,D,O){const N=20+h,q=N+p,re=function cv(o,a){const u=[];for(let h=0;h<a;h++)u.push(h<o?null:an);return u}(N,q),fe="function"==typeof O?O():O;return re[1]={type:o,blueprint:re,template:u,queries:null,viewQuery:x,declTNode:a,data:re.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:D,consts:fe,incompleteFirstPass:!1}}function _m(o,a,u,h){const p=OC(a);null===u?p.push(h):(p.push(u),o.firstCreatePass&&Ev(o).push(h,p.length-1))}function fv(o,a,u){for(let h in o)if(o.hasOwnProperty(h)){const p=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(a,p):u[h]=[a,p]}return u}function Ls(o,a,u,h,p,m,b,x){const D=Br(a,u);let N,O=a.inputs;!x&&null!=O&&(N=O[h])?(wm(o,u,N,h,p),ul(a)&&function In(o,a){const u=Ir(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(h=function xC(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),p=null!=b?b(p,a.value||"",h):p,jn(m)?m.setProperty(D,h,p):wr(h)||(D.setProperty?D.setProperty(h,p):D[h]=p))}function TC(o,a,u,h){let p=!1;if(Go()){const m=function pI(o,a,u){const h=o.directiveRegistry;let p=null;if(h)for(let m=0;m<h.length;m++){const b=h[m];_n(u,b.selectors,!1)&&(p||(p=[]),Ki(nr(u,a),o,b.type),Ai(b)?(mv(o,u),p.unshift(b)):p.push(b))}return p}(o,a,u),b=null===h?null:{"":-1};if(null!==m){p=!0,DC(u,o.data.length,m.length);for(let N=0;N<m.length;N++){const q=m[N];q.providersResolver&&q.providersResolver(q)}let x=!1,D=!1,O=Cu(o,a,m.length,null);for(let N=0;N<m.length;N++){const q=m[N];u.mergedAttrs=E(u.mergedAttrs,q.hostAttrs),Uh(o,u,a,O,q),Tc(O,q,b),null!==q.contentQueries&&(u.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(u.flags|=128);const re=q.type.prototype;!x&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),x=!0),!D&&(re.ngOnChanges||re.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),D=!0),O++}!function CC(o,a){const h=a.directiveEnd,p=o.data,m=a.attrs,b=[];let x=null,D=null;for(let O=a.directiveStart;O<h;O++){const N=p[O],q=N.inputs,re=null===m||xc(a)?null:AC(q,m);b.push(re),x=fv(q,O,x),D=fv(N.outputs,O,D)}null!==x&&(x.hasOwnProperty("class")&&(a.flags|=16),x.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=x,a.outputs=D}(o,u)}b&&function IC(o,a,u){if(a){const h=o.localNames=[];for(let p=0;p<a.length;p+=2){const m=u[a[p+1]];if(null==m)throw new rt(-301,!1);h.push(a[p],m)}}}(u,h,b)}return u.mergedAttrs=E(u.mergedAttrs,u.attrs),p}function hI(o,a,u,h,p,m){const b=m.hostBindings;if(b){let x=o.hostBindingOpCodes;null===x&&(x=o.hostBindingOpCodes=[]);const D=~a.index;(function vk(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(x)!=D&&x.push(D),x.push(h,p,b)}}function gv(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function mv(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function Tc(o,a,u){if(u){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)u[a.exportAs[h]]=o;Ai(a)&&(u[""]=o)}}function DC(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function Uh(o,a,u,h,p){o.data[h]=p;const m=p.factory||(p.factory=mi(p.type)),b=new Xo(m,Ai(p),null);o.blueprint[h]=b,u[h]=b,hI(o,a,0,h,Cu(o,u,p.hostVars,an),p)}function gI(o,a,u){const h=Br(a,o),p=ym(u),m=o[10],b=Vh(o,dp(o,p,null,u.onPush?64:16,h,a,m,m.createRenderer(h,u),null,null));o[a.index]=b}function Ic(o,a,u,h,p,m){const b=Br(o,a);!function vm(o,a,u,h,p,m,b){if(null==m)jn(o)?o.removeAttribute(a,p,u):a.removeAttribute(p);else{const x=null==b?Ne(m):b(m,h||"",p);jn(o)?o.setAttribute(a,p,x,u):u?a.setAttributeNS(u,p,x):a.setAttribute(p,x)}}(a[11],b,m,o.value,u,h,p)}function mI(o,a,u,h,p,m){const b=m[a];if(null!==b){const x=h.setInput;for(let D=0;D<b.length;){const O=b[D++],N=b[D++],q=b[D++];null!==x?h.setInput(u,q,O,N):u[N]=q}}}function AC(o,a){let u=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;o.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,o[p],a[h+1])),h+=2}else h+=2;else h+=4}return u}function yv(o,a,u,h){return new Array(o,!0,!1,a,null,0,h,u,null,null)}function SC(o,a){const u=Ir(a,o);if(Si(u)){const h=u[1];80&u[2]?xu(h,u,h.template,u[8]):u[5]>0&&vv(u)}}function vv(o){for(let h=np(o);null!==h;h=om(h))for(let p=10;p<h.length;p++){const m=h[p];if(1024&m[2]){const b=m[1];xu(b,m,b.template,m[8])}else m[5]>0&&vv(m)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=Ir(u[h],o);Si(p)&&p[5]>0&&vv(p)}}function Fl(o,a){const u=Ir(a,o),h=u[1];(function _I(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(h,u),mm(h,u,u[8])}function Vh(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function bv(o){for(;o;){o[2]|=64;const a=tp(o);if(us(o)&&!a)return o;o=a}return null}function Cv(o,a,u){const h=a[10];h.begin&&h.begin();try{xu(o,a,o.template,u)}catch(p){throw wI(a,p),p}finally{h.end&&h.end()}}function Ul(o){!function bm(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],h=O_(u),p=h[1];fp(p,h,p.template,u)}}(o[8])}function xv(o,a,u){yl(0),a(o,u)}const bI=(()=>Promise.resolve(null))();function OC(o){return o[7]||(o[7]=[])}function Ev(o){return o.cleanup||(o.cleanup=[])}function wI(o,a){const u=o[9],h=u?u.get(rm,null):null;h&&h.handleError(a)}function wm(o,a,u,h,p){for(let m=0;m<u.length;){const b=u[m++],x=u[m++],D=a[b],O=o.data[b];null!==O.setInput?O.setInput(D,p,h,x):D[x]=p}}function Dc(o,a,u){const h=zi(a,o);!function L_(o,a,u){jn(o)?o.setValue(a,u):a.textContent=u}(o[11],h,u)}function mp(o,a,u){let h=u?o.styles:null,p=u?o.classes:null,m=0;if(null!==a)for(let b=0;b<a.length;b++){const x=a[b];"number"==typeof x?m=x:1==m?p=Re(p,x):2==m&&(h=Re(h,x+": "+a[++b]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=p:o.classesWithoutHost=p}const Tv=new Cr("INJECTOR",-1);class Iv{get(a,u=ia){if(u===ia){const h=new Error(`NullInjectorError: No provider for ${ge(a)}!`);throw h.name="NullInjectorError",h}return u}}const Dv=new Cr("Set Injector scope."),jh={},xI={};let Av;function Cm(){return void 0===Av&&(Av=new Iv),Av}function Sv(o,a=null,u=null,h){const p=NC(o,a,u,h);return p._resolveInjectorDefTypes(),p}function NC(o,a=null,u=null,h){return new LC(o,u,a||Cm(),h)}class LC{constructor(a,u,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&Oi(u,x=>this.processProvider(x,a,u)),Oi([a],x=>this.processInjectorType(x,[],m)),this.records.set(Tv,Zh(void 0,this));const b=this.records.get(Dv);this.scope=null!=b?b.value:null,this.source=p||("object"==typeof a?null:ge(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=ia,h=Xe.Default){this.assertNotDestroyed();const p=be(this),m=zt(void 0);try{if(!(h&Xe.SkipSelf)){let x=this.records.get(a);if(void 0===x){const D=function Ek(o){return"function"==typeof o||"object"==typeof o&&o instanceof Cr}(a)&&Bn(a);x=D&&this.injectableDefInScope(D)?Zh(Mv(a),jh):null,this.records.set(a,x)}if(null!=x)return this.hydrate(a,x)}return(h&Xe.Self?Cm():this.parent).get(a,u=h&Xe.Optional&&u===ia?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[ja]=b[ja]||[]).unshift(ge(a)),p)throw b;return function wi(o,a,u,h){const p=o[ja];throw a[F]&&p.unshift(a[F]),o.message=function Co(o,a,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let p=ge(a);if(Array.isArray(a))p=a.map(ge).join(" -> ");else if("object"==typeof a){let m=[];for(let b in a)if(a.hasOwnProperty(b)){let x=a[b];m.push(b+":"+("string"==typeof x?JSON.stringify(x):ge(x)))}p=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${o.replace(A,"\n  ")}`}("\n"+o.message,p,u,h),o.ngTokenPath=p,o[ja]=null,o}(b,a,"R3InjectorError",this.source)}throw b}finally{zt(m),be(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((h,p)=>a.push(ge(p))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new rt(205,!1)}processInjectorType(a,u,h){if(!(a=we(a)))return!1;let p=ne(a);const m=null==p&&a.ngModule||void 0,b=void 0===m?a:m,x=-1!==h.indexOf(b);if(void 0!==m&&(p=ne(m)),null==p)return!1;if(null!=p.imports&&!x){let N;h.push(b);try{Oi(p.imports,q=>{this.processInjectorType(q,u,h)&&(void 0===N&&(N=[]),N.push(q))})}finally{}if(void 0!==N)for(let q=0;q<N.length;q++){const{ngModule:re,providers:fe}=N[q];Oi(fe,qe=>this.processProvider(qe,re,fe||J))}}this.injectorDefTypes.add(b);const D=mi(b)||(()=>new b);this.records.set(b,Zh(D,jh));const O=p.providers;if(null!=O&&!x){const N=a;Oi(O,q=>this.processProvider(q,N,O))}return void 0!==m&&void 0!==a.providers}processProvider(a,u,h){let p=yp(a=we(a))?a:we(a&&a.provide);const m=function EI(o,a,u){return Ov(o)?Zh(void 0,o.useValue):Zh(kv(o),jh)}(a);if(yp(a)||!0!==a.multi)this.records.get(p);else{let b=this.records.get(p);b||(b=Zh(void 0,jh,!0),b.factory=()=>An(b.multi),this.records.set(p,b)),p=a,b.multi.push(a)}this.records.set(p,m)}hydrate(a,u){return u.value===jh&&(u.value=xI,u.value=u.factory()),"object"==typeof u.value&&u.value&&function VC(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=we(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Mv(o){const a=Bn(o),u=null!==a?a.factory:mi(o);if(null!==u)return u;if(o instanceof Cr)throw new rt(204,!1);if(o instanceof Function)return function FC(o){const a=o.length;if(a>0)throw function bo(o,a){const u=[];for(let h=0;h<o;h++)u.push(a);return u}(a,"?"),new rt(204,!1);const u=function j(o){const a=o&&(o[de]||o[it]);if(a){const u=function Q(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new rt(204,!1)}function kv(o,a,u){let h;if(yp(o)){const p=we(o);return mi(p)||Mv(p)}if(Ov(o))h=()=>we(o.useValue);else if(function xk(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...An(o.deps||[]));else if(function Ck(o){return!(!o||!o.useExisting)}(o))h=()=>lt(we(o.useExisting));else{const p=we(o&&(o.useClass||o.provide));if(!function TI(o){return!!o.deps}(o))return mi(p)||Mv(p);h=()=>new p(...An(o.deps))}return h}function Zh(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function Ov(o){return null!==o&&"object"==typeof o&&W in o}function yp(o){return"function"==typeof o}let Vl=(()=>{class o{static create(u,h){var p;if(Array.isArray(u))return Sv({name:""},h,u,"");{const m=null!==(p=u.name)&&void 0!==p?p:"";return Sv({name:m},u.parent,u.providers,m)}}}return o.THROW_IF_NOT_FOUND=ia,o.NULL=new Iv,o.\u0275prov=hn({token:o,providedIn:"any",factory:()=>lt(Tv)}),o.__NG_ELEMENT_ID__=-1,o})();function SI(o,a){Jo(O_(o)[1],ar())}function qh(o){let a=function Li(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;a;){let p;if(Ai(o))p=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new rt(903,"");p=a.\u0275dir}if(p){if(u){h.push(p);const b=o;b.inputs=Bl(o.inputs),b.declaredInputs=Bl(o.declaredInputs),b.outputs=Bl(o.outputs);const x=p.hostBindings;x&&$C(o,x);const D=p.viewQuery,O=p.contentQueries;if(D&&MI(o,D),O&&kI(o,O),Pe(o.inputs,p.inputs),Pe(o.declaredInputs,p.declaredInputs),Pe(o.outputs,p.outputs),Ai(p)&&p.data.animation){const N=o.data;N.animation=(N.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let b=0;b<m.length;b++){const x=m[b];x&&x.ngInherit&&x(o),x===qh&&(u=!1)}}a=Object.getPrototypeOf(a)}!function Xi(o){let a=0,u=null;for(let h=o.length-1;h>=0;h--){const p=o[h];p.hostVars=a+=p.hostVars,p.hostAttrs=E(p.hostAttrs,u=E(u,p.hostAttrs))}}(h)}function Bl(o){return o===kn?{}:o===J?[]:o}function MI(o,a){const u=o.viewQuery;o.viewQuery=u?(h,p)=>{a(h,p),u(h,p)}:a}function kI(o,a){const u=o.contentQueries;o.contentQueries=u?(h,p,m)=>{a(h,p,m),u(h,p,m)}:a}function $C(o,a){const u=o.hostBindings;o.hostBindings=u?(h,p)=>{a(h,p),u(h,p)}:a}let zh=null;function Sc(){if(!zh){const o=$t.Symbol;if(o&&o.iterator)zh=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const h=a[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(zh=h)}}}return zh}function Ci(o){return!!Im(o)&&(Array.isArray(o)||!(o instanceof Map)&&Sc()in o)}function Im(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Qa(o,a,u){return o[a]=u}function es(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function Eu(o,a,u,h){const p=es(o,a,u);return es(o,a+1,h)||p}function Lv(o,a,u,h){const p=$e();return es(p,fs(),a)&&(rn(),Ic(lr(),p,o,a,u,h)),Lv}function Ja(o,a,u,h){return es(o,fs(),u)?a+Ne(u)+h:an}function Ed(o,a,u,h,p,m){const x=Eu(o,function $i(){return Vt.lFrame.bindingIndex}(),u,p);return Os(2),x?a+Ne(u)+h+Ne(p)+m:an}function ex(o,a,u,h,p,m,b,x){const D=$e(),O=rn(),N=o+20,q=O.firstCreatePass?function bp(o,a,u,h,p,m,b,x,D){const O=a.consts,N=vd(a,o,4,b||null,yi(O,x));TC(a,u,N,yi(O,D)),Jo(a,N);const q=N.tViews=gp(2,N,h,p,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,O);return null!==a.queries&&(a.queries.template(a,N),q.queries=a.queries.embeddedTView(N)),N}(N,O,D,a,u,h,p,m,b):O.data[N];ni(q,!1);const re=D[11].createComment("");lm(O,D,re,q),ys(re,D),Vh(D,D[N]=yv(re,D,re,q)),Zs(q)&&wd(O,D,q),null!=b&&lv(D,q,x)}function tx(o){return ks(function ru(){return Vt.lFrame.contextLView}(),20+o)}function Du(o,a=Xe.Default){const u=$e();return null===u?lt(o,a):Cl(ar(),u,we(o),a)}function lx(){throw new Error("invalid")}function Kv(o,a,u){const h=$e();return es(h,fs(),a)&&Ls(rn(),lr(),h,o,a,h[11],u,!1),Kv}function Au(o,a,u,h,p){const b=p?"class":"style";wm(o,u,a.inputs[b],b,h)}function Zm(o,a,u,h){const p=$e(),m=rn(),b=20+o,x=p[11],D=p[b]=F_(x,a,function su(){return Vt.lFrame.currentNamespace}()),O=m.firstCreatePass?function jI(o,a,u,h,p,m,b){const x=a.consts,O=vd(a,o,2,p,yi(x,m));return TC(a,u,O,yi(x,b)),null!==O.attrs&&mp(O,O.attrs,!1),null!==O.mergedAttrs&&mp(O,O.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,O),O}(b,m,p,0,a,u,h):m.data[b];ni(O,!0);const N=O.mergedAttrs;null!==N&&Tt(x,D,N);const q=O.classes;null!==q&&sp(x,D,q);const re=O.styles;return null!==re&&iC(x,D,re),64!=(64&O.flags)&&lm(m,p,D,O),0===function wa(){return Vt.lFrame.elementDepthCount}()&&ys(D,p),function ac(){Vt.lFrame.elementDepthCount++}(),Zs(O)&&(wd(m,p,O),function bd(o,a,u){if(Yc(a)){const p=a.directiveEnd;for(let m=a.directiveStart;m<p;m++){const b=o.data[m];b.contentQueries&&b.contentQueries(1,u[m],m)}}}(m,O,p)),null!==h&&lv(p,O),Zm}function jl(){let o=ar();ml()?function lc(){Vt.lFrame.isParent=!1}():(o=o.parent,ni(o,!1));const a=o;!function Ca(){Vt.lFrame.elementDepthCount--}();const u=rn();return u.firstCreatePass&&(Jo(u,o),Yc(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function od(o){return 0!=(16&o.flags)}(a)&&Au(u,a,$e(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Ch(o){return 0!=(32&o.flags)}(a)&&Au(u,a,$e(),a.stylesWithoutHost,!1),jl}function Hm(o,a,u,h){return Zm(o,a,u,h),jl(),Hm}function Qv(){return $e()}function Ad(o){return!!o&&"function"==typeof o.then}function xp(o){return!!o&&"function"==typeof o.subscribe}const Jv=xp;function Ep(o,a,u,h){const p=$e(),m=rn(),b=ar();return function Wh(o,a,u,h,p,m,b,x){const D=Zs(h),N=o.firstCreatePass&&Ev(o),q=a[8],re=OC(a);let fe=!0;if(3&h.type||x){const vt=Br(h,a),kt=x?x(vt):vt,Je=re.length,qt=x?En=>x(Rn(En[h.index])):h.index;if(jn(u)){let En=null;if(!x&&D&&(En=function ux(o,a,u,h){const p=o.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const b=p[m];if(b===u&&p[m+1]===h){const x=a[7],D=p[m+2];return x.length>D?x[D]:null}"string"==typeof b&&(m+=2)}return null}(o,a,p,h.index)),null!==En)(En.__ngLastListenerFn__||En).__ngNextListenerFn__=m,En.__ngLastListenerFn__=m,fe=!1;else{m=Tp(h,a,q,m,!1);const zn=u.listen(kt,p,m);re.push(m,zn),N&&N.push(p,qt,Je,Je+1)}}else m=Tp(h,a,q,m,!0),kt.addEventListener(p,m,b),re.push(m),N&&N.push(p,qt,Je,b)}else m=Tp(h,a,q,m,!1);const qe=h.outputs;let ct;if(fe&&null!==qe&&(ct=qe[p])){const vt=ct.length;if(vt)for(let kt=0;kt<vt;kt+=2){const os=a[ct[kt]][ct[kt+1]].subscribe(m),Wl=re.length;re.push(m,os),N&&N.push(p,h.index,Wl,-(Wl+1))}}}(m,p,p[11],b,o,a,!!u,h),Ep}function zm(o,a,u,h){try{return!1!==u(h)}catch(p){return wI(o,p),!1}}function Tp(o,a,u,h,p){return function m(b){if(b===Function)return h;const x=2&o.flags?Ir(o.index,a):a;0==(32&a[2])&&bv(x);let D=zm(a,0,h,b),O=m.__ngNextListenerFn__;for(;O;)D=zm(a,0,O,b)&&D,O=O.__ngNextListenerFn__;return p&&!1===D&&(b.preventDefault(),b.returnValue=!1),D}}function $m(o=1){return function _i(o){return(Vt.lFrame.contextLView=function rd(o,a){for(;o>0;)a=a[15],o--;return a}(o,Vt.lFrame.contextLView))[8]}(o)}function e0(o,a,u){return Dp(o,"",a,"",u),e0}function Dp(o,a,u,h,p){const m=$e(),b=Ja(m,a,u,h);return b!==an&&Ls(rn(),lr(),m,o,b,m[11],p,!1),Dp}function Km(o,a,u,h,p){const m=o[u+1],b=null===a;let x=h?Ka(m):Nl(m),D=!1;for(;0!==x&&(!1===D||b);){const N=o[x+1];ZI(o[x],a)&&(D=!0,o[x+1]=h?um(N):ap(N)),x=h?Ka(N):Nl(N)}D&&(o[u+1]=h?ap(m):um(m))}function ZI(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Ba(o,a)>=0}function Od(o,a){return function Xa(o,a,u,h){const p=$e(),m=rn(),b=Os(2);m.firstUpdatePass&&function Yh(o,a,u,h){const p=o.data;if(null===p[u+1]){const m=p[jr()],b=function gx(o,a){return a>=o.expandoStartIndex}(o,u);(function p0(o,a){return 0!=(o.flags&(a?16:32))})(m,h)&&null===a&&!b&&(a=!1),a=function Mu(o,a,u,h){const p=function hc(o){const a=Vt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=h?a.residualClasses:a.residualStyles;if(null===p)0===(h?a.classBindings:a.styleBindings)&&(u=kp(u=ku(null,o,a,u,h),a.attrs,h),m=null);else{const b=a.directiveStylingLast;if(-1===b||o[b]!==p)if(u=ku(p,o,a,u,h),null===m){let D=function mx(o,a,u){const h=u?a.classBindings:a.styleBindings;if(0!==Nl(h))return o[Ka(h)]}(o,a,h);void 0!==D&&Array.isArray(D)&&(D=ku(null,o,a,D[1],h),D=kp(D,a.attrs,h),function yx(o,a,u,h){o[Ka(u?a.classBindings:a.styleBindings)]=h}(o,a,h,D))}else m=function _x(o,a,u){let h;const p=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<p;m++)h=kp(h,o[m].hostAttrs,u);return kp(h,a.attrs,u)}(o,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),u}(p,m,a,h),function Sp(o,a,u,h,p,m){let b=m?a.classBindings:a.styleBindings,x=Ka(b),D=Nl(b);o[h]=u;let N,O=!1;if(Array.isArray(u)){const q=u;N=q[1],(null===N||Ba(q,N)>0)&&(O=!0)}else N=u;if(p)if(0!==D){const re=Ka(o[x+1]);o[h+1]=op(re,x),0!==re&&(o[re+1]=lp(o[re+1],h)),o[x+1]=function gC(o,a){return 131071&o|a<<17}(o[x+1],h)}else o[h+1]=op(x,0),0!==x&&(o[x+1]=lp(o[x+1],h)),x=h;else o[h+1]=op(D,0),0===x?x=h:o[D+1]=lp(o[D+1],h),D=h;O&&(o[h+1]=ap(o[h+1])),Km(o,N,h,!0),Km(o,N,h,!1),function Sd(o,a,u,h,p){const m=p?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&Ba(m,a)>=0&&(u[h+1]=um(u[h+1]))}(a,N,o,h,m),b=op(x,D),m?a.classBindings=b:a.styleBindings=b}(p,m,a,u,b,h)}}(m,o,b,h),a!==an&&es(p,b,a)&&function d0(o,a,u,h,p,m,b,x){if(!(3&a.type))return;const D=o.data,O=D[x+1];Qh(function ev(o){return 1==(1&o)}(O)?h0(D,a,u,p,Nl(O),b):void 0)||(Qh(m)||function X_(o){return 2==(2&o)}(O)&&(m=h0(D,null,u,p,x,b)),function Pl(o,a,u,h,p){const m=jn(o);if(a)p?m?o.addClass(u,h):u.classList.add(h):m?o.removeClass(u,h):u.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:Ol.DashCase;if(null==p)m?o.removeStyle(u,h,b):u.style.removeProperty(h);else{const x="string"==typeof p&&p.endsWith("!important");x&&(p=p.slice(0,-10),b|=Ol.Important),m?o.setStyle(u,h,p,b):u.style.setProperty(h,p,x?"important":"")}}}(h,b,zi(jr(),u),p,m))}(m,m.data[jr()],p,p[11],o,p[b+1]=function f0(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ge(oa(o)))),o}(a,u),h,b)}(o,a,null,!0),Od}function ku(o,a,u,h,p){let m=null;const b=u.directiveEnd;let x=u.directiveStylingLast;for(-1===x?x=u.directiveStart:x++;x<b&&(m=a[x],h=kp(h,m.hostAttrs,p),m!==o);)x++;return null!==o&&(u.directiveStylingLast=x),h}function kp(o,a,u){const h=u?1:2;let p=-1;if(null!==a)for(let m=0;m<a.length;m++){const b=a[m];"number"==typeof b?p=b:p===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Hr(o,b,!!u||a[++m]))}return void 0===o?null:o}function h0(o,a,u,h,p,m){const b=null===a;let x;for(;p>0;){const D=o[p],O=Array.isArray(D),N=O?D[1]:D,q=null===N;let re=u[p+1];re===an&&(re=q?J:void 0);let fe=q?hu(re,h):N===h?re:void 0;if(O&&!Qh(fe)&&(fe=hu(D,h)),Qh(fe)&&(x=fe,b))return x;const qe=o[p+1];p=b?Ka(qe):Nl(qe)}if(null!==a){let D=m?a.residualClasses:a.residualStyles;null!=D&&(x=hu(D,h))}return x}function Qh(o){return void 0!==o}function g0(o,a=""){const u=$e(),h=rn(),p=o+20,m=h.firstCreatePass?vd(h,p,1,a,null):h.data[p],b=u[p]=function N_(o,a){return jn(o)?o.createText(a):o.createTextNode(a)}(u[11],a);lm(h,u,b,m),ni(m,!1)}function Op(o){return Jm("",o,""),Op}function Jm(o,a,u){const h=$e(),p=Ja(h,o,a,u);return p!==an&&Dc(h,jr(),p),Jm}function m0(o,a,u,h,p){const m=$e(),b=Ed(m,o,a,u,h,p);return b!==an&&Dc(m,jr(),b),m0}const Rc=void 0;var Dx=["en",[["a","p"],["AM","PM"],Rc],[["AM","PM"],Rc,Rc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rc,"{1} 'at' {0}",Rc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function E0(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Nc={};function ry(o){const a=function iy(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=I0(a);if(u)return u;const h=a.split("-")[0];if(u=I0(h),u)return u;if("en"===h)return Dx;throw new Error(`Missing locale data for the locale "${o}".`)}function T0(o){return ry(o)[Yt.PluralCase]}function I0(o){return o in Nc||(Nc[o]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[o]),Nc[o]}var Yt=(()=>((Yt=Yt||{})[Yt.LocaleId=0]="LocaleId",Yt[Yt.DayPeriodsFormat=1]="DayPeriodsFormat",Yt[Yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Yt[Yt.DaysFormat=3]="DaysFormat",Yt[Yt.DaysStandalone=4]="DaysStandalone",Yt[Yt.MonthsFormat=5]="MonthsFormat",Yt[Yt.MonthsStandalone=6]="MonthsStandalone",Yt[Yt.Eras=7]="Eras",Yt[Yt.FirstDayOfWeek=8]="FirstDayOfWeek",Yt[Yt.WeekendRange=9]="WeekendRange",Yt[Yt.DateFormat=10]="DateFormat",Yt[Yt.TimeFormat=11]="TimeFormat",Yt[Yt.DateTimeFormat=12]="DateTimeFormat",Yt[Yt.NumberSymbols=13]="NumberSymbols",Yt[Yt.NumberFormats=14]="NumberFormats",Yt[Yt.CurrencyCode=15]="CurrencyCode",Yt[Yt.CurrencySymbol=16]="CurrencySymbol",Yt[Yt.CurrencyName=17]="CurrencyName",Yt[Yt.Currencies=18]="Currencies",Yt[Yt.Directionality=19]="Directionality",Yt[Yt.PluralCase=20]="PluralCase",Yt[Yt.ExtraData=21]="ExtraData",Yt))();const Vp="en-US";let Sx=Vp;function Pr(o,a,u,h,p){if(o=we(o),Array.isArray(o))for(let m=0;m<o.length;m++)Pr(o[m],a,u,h,p);else{const m=rn(),b=$e();let x=yp(o)?o:we(o.provide),D=kv(o);const O=ar(),N=1048575&O.providerIndexes,q=O.directiveStart,re=O.providerIndexes>>20;if(yp(o)||!o.multi){const fe=new Xo(D,p,Du),qe=fy(x,a,p?N:N+re,q);-1===qe?(Ki(nr(O,b),m,x),Lc(m,o,a.length),a.push(x),O.directiveStart++,O.directiveEnd++,p&&(O.providerIndexes+=1048576),u.push(fe),b.push(fe)):(u[qe]=fe,b[qe]=fe)}else{const fe=fy(x,a,N+re,q),qe=fy(x,a,N,N+re),ct=fe>=0&&u[fe],vt=qe>=0&&u[qe];if(p&&!vt||!p&&!ct){Ki(nr(O,b),m,x);const kt=function Kp(o,a,u,h,p){const m=new Xo(o,u,Du);return m.multi=[],m.index=a,m.componentProviders=0,hy(m,p,h&&!u),m}(p?cD:Wp,u.length,p,h,D);!p&&vt&&(u[qe].providerFactory=kt),Lc(m,o,a.length,0),a.push(x),O.directiveStart++,O.directiveEnd++,p&&(O.providerIndexes+=1048576),u.push(kt),b.push(kt)}else Lc(m,o,fe>-1?fe:qe,hy(u[p?qe:fe],D,!p&&h));!p&&h&&vt&&u[qe].componentProviders++}}}function Lc(o,a,u,h){const p=yp(a),m=function UC(o){return!!o.useClass}(a);if(p||m){const D=(m?we(a.useClass):a).prototype.ngOnDestroy;if(D){const O=o.destroyHooks||(o.destroyHooks=[]);if(!p&&a.multi){const N=O.indexOf(u);-1===N?O.push(u,[h,D]):O[N+1].push(h,D)}else O.push(u,D)}}}function hy(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function fy(o,a,u,h){for(let p=u;p<h;p++)if(a[p]===o)return p;return-1}function Wp(o,a,u,h){return nl(this.multi,[])}function cD(o,a,u,h){const p=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,x=Ra(u,u[1],this.providerFactory.index,h);m=x.slice(0,b),nl(p,m);for(let D=b;D<x.length;D++)m.push(x[D])}else m=[],nl(p,m);return m}function nl(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function uf(o,a=[]){return u=>{u.providersResolver=(h,p)=>function Nu(o,a,u){const h=rn();if(h.firstCreatePass){const p=Ai(o);Pr(u,h.data,h.blueprint,p,!0),Pr(a,h.data,h.blueprint,p,!1)}}(h,p?p(o):o,a)}}class Fc{}class Yp{resolveComponentFactory(a){throw function py(o){const a=Error(`No component factory found for ${ge(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let rl=(()=>{class o{}return o.NULL=new Yp,o})();function zx(){return il(ar(),$e())}function il(o,a){return new Fd(Br(o,a))}let Fd=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=zx,o})();function Ud(o){return o instanceof Fd?o.nativeElement:o}class df{}let Gx=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function gy(){const o=$e(),u=Ir(ar().index,o);return function Wx(o){return o[11]}(Hi(u)?u:o)}(),o})(),Qp=(()=>{class o{}return o.\u0275prov=hn({token:o,providedIn:"root",factory:()=>null}),o})();class N0{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Kx=new N0("13.2.7"),L0={};function Jp(o,a,u,h,p=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&h.push(Rn(m)),Di(m))for(let x=10;x<m.length;x++){const D=m[x],O=D[1].firstChild;null!==O&&Jp(D[1],D,O,h)}const b=u.type;if(8&b)Jp(o,a,u.child,h);else if(32&b){const x=im(u,a);let D;for(;D=x();)h.push(D)}else if(16&b){const x=rC(a,u);if(Array.isArray(x))h.push(...x);else{const D=tp(a[16]);Jp(D[1],D,x,h,!0)}}u=p?u.projectionNext:u.next}return h}class hf{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return Jp(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Di(a)){const u=a[8],h=u?u.indexOf(this):-1;h>-1&&(V_(a,h),yc(u,h))}this._attachedToViewContainer=!1}B_(this._lView[1],this._lView)}onDestroy(a){_m(this._lView[1],this._lView,null,a)}markForCheck(){bv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Cv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function vI(o,a,u){Ko(!0);try{Cv(o,a,u)}finally{Ko(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new rt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yw(o,a){cm(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new rt(902,"");this._appRef=a}}class ss extends hf{constructor(a){super(a),this._view=a}detectChanges(){Ul(this._view)}checkNoChanges(){!function MC(o){Ko(!0);try{Ul(o)}finally{Ko(!1)}}(this._view)}get context(){return null}}class F0 extends rl{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Nt(a);return new Vc(u,this.ngModule)}}function hr(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class Vc extends Fc{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function fC(o){return o.map(hC).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return hr(this.componentDef.inputs)}get outputs(){return hr(this.componentDef.outputs)}create(a,u,h,p){const m=(p=p||this.ngModule)?function Yx(o,a){return{get:(u,h,p)=>{const m=o.get(u,L0,p);return m!==L0||h===L0?m:a.get(u,h,p)}}}(a,p.injector):a,b=m.get(df,fo),x=m.get(Qp,null),D=b.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",N=h?function hv(o,a,u){if(jn(o))return o.selectRootElement(a,u===nn.ShadowDom);let h="string"==typeof a?o.querySelector(a):a;return h.textContent="",h}(D,h,this.componentDef.encapsulation):F_(b.createRenderer(null,this.componentDef),O,function uD(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(O)),q=this.componentDef.onPush?576:528,re=function zC(o,a){return{components:[],scheduler:o||zT,clean:bI,playerHandler:a||null,flags:0}}(),fe=gp(0,null,null,1,0,null,null,null,null,null),qe=dp(null,fe,re,q,null,null,b,D,x,m);let ct,vt;$s(qe);try{const kt=function qC(o,a,u,h,p,m){const b=u[1];u[20]=o;const D=vd(b,20,2,"#host",null),O=D.mergedAttrs=a.hostAttrs;null!==O&&(mp(D,O,!0),null!==o&&(Tt(p,o,O),null!==D.classes&&sp(p,o,D.classes),null!==D.styles&&iC(p,o,D.styles)));const N=h.createRenderer(o,a),q=dp(u,ym(a),null,a.onPush?64:16,u[20],D,h,N,m||null,null);return b.firstCreatePass&&(Ki(nr(D,u),b,a.type),mv(b,D),DC(D,u.length,1)),Vh(u,q),u[20]=q}(N,this.componentDef,qe,b,D);if(N)if(h)Tt(D,N,["ng-version",Kx.full]);else{const{attrs:Je,classes:qt}=function pC(o){const a=[],u=[];let h=1,p=2;for(;h<o.length;){let m=o[h];if("string"==typeof m)2===p?""!==m&&a.push(m,o[++h]):8===p&&u.push(m);else{if(!Ni(p))break;p=m}h++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);Je&&Tt(D,N,Je),qt&&qt.length>0&&sp(D,N,qt.join(" "))}if(vt=or(fe,20),void 0!==u){const Je=vt.projection=[];for(let qt=0;qt<this.ngContentSelectors.length;qt++){const En=u[qt];Je.push(null!=En?Array.from(En):null)}}ct=function Tm(o,a,u,h,p){const m=u[1],b=function EC(o,a,u){const h=ar();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Uh(o,h,a,Cu(o,a,1,null),u));const p=Ra(a,o,h.directiveStart,h);ys(p,a);const m=Br(h,a);return m&&ys(m,a),p}(m,u,a);if(h.components.push(b),o[8]=b,p&&p.forEach(D=>D(b,a)),a.contentQueries){const D=ar();a.contentQueries(1,b,D.directiveStart)}const x=ar();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Rs(x.index),hI(u[1],x,0,x.directiveStart,x.directiveEnd,a),gv(a,b)),b}(kt,this.componentDef,qe,re,[SI]),mm(fe,qe,null)}finally{Qo()}return new yy(this.componentType,ct,il(vt,qe),qe,vt)}}class yy extends class qx{}{constructor(a,u,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new ss(p),this.componentType=a}get injector(){return new La(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class Vd{}class U0{}const Kr=new Map;class Xx extends Vd{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new F0(this);const h=pn(a);this._bootstrapComponents=Wa(h.bootstrap),this._r3Injector=NC(a,u,[{provide:Vd,useValue:this},{provide:rl,useValue:this.componentFactoryResolver}],ge(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=Vl.THROW_IF_NOT_FOUND,h=Xe.Default){return a===Vl||a===Vd||a===Tv?this:this._r3Injector.get(a,u,h)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class V0 extends U0{constructor(a){super(),this.moduleType=a,null!==pn(a)&&function hD(o){const a=new Set;!function u(h){const p=pn(h,!0),m=p.id;null!==m&&(function Qx(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${ge(a)} vs ${ge(a.name)}`)}(m,Kr.get(m),h),Kr.set(m,h));const b=Wa(p.imports);for(const x of b)a.has(x)||(a.add(x),u(x))}(o)}(a)}create(a){return new Xx(this.moduleType,a)}}function Bc(o,a,u){const h=Dr()+o,p=$e();return p[h]===an?Qa(p,h,u?a.call(u):a()):function xd(o,a){return o[a]}(p,h)}function Bd(o,a,u,h){return vy($e(),Dr(),o,a,u,h)}function eE(o,a,u,h,p){return Zd($e(),Dr(),o,a,u,h,p)}function jd(o,a){const u=o[a];return u===an?void 0:u}function vy(o,a,u,h,p,m){const b=a+u;return es(o,b,p)?Qa(o,b+1,m?h.call(m,p):h(p)):jd(o,b+1)}function Zd(o,a,u,h,p,m,b){const x=a+u;return Eu(o,x,p,m)?Qa(o,x+2,b?h.call(b,p,m):h(p,m)):jd(o,x+2)}function Z0(o,a){const u=rn();let h;const p=o+20;u.firstCreatePass?(h=function H0(o,a){if(a)for(let u=a.length-1;u>=0;u--){const h=a[u];if(o===h.name)return h}}(a,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const m=h.factory||(h.factory=mi(h.type)),b=zt(Du);try{const x=Sr(!1),D=m();return Sr(x),function wp(o,a,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=h}(u,$e(),p,D),D}finally{zt(b)}}function by(o,a,u){const h=o+20,p=$e(),m=ks(p,h);return gf(p,h)?vy(p,Dr(),a,m.transform,u,m):m.transform(u)}function q0(o,a,u,h){const p=o+20,m=$e(),b=ks(m,p);return gf(m,p)?Zd(m,Dr(),a,b.transform,u,h,b):b.transform(u,h)}function gf(o,a){return o[1].data[a].pure}function mf(o){return a=>{setTimeout(o,void 0,a)}}const ql=class oE extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,h){var p,m,b;let x=a,D=u||(()=>null),O=h;if(a&&"object"==typeof a){const q=a;x=null===(p=q.next)||void 0===p?void 0:p.bind(q),D=null===(m=q.error)||void 0===m?void 0:m.bind(q),O=null===(b=q.complete)||void 0===b?void 0:b.bind(q)}this.__isAsync&&(D=mf(D),x&&(x=mf(x)),O&&(O=mf(O)));const N=super.subscribe({next:x,error:D,complete:O});return a instanceof $.w0&&a.add(N),N}};function mD(){return this._results[Sc()]()}class wy{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Sc(),h=wy.prototype;h[u]||(h[u]=mD)}get changes(){return this._changes||(this._changes=new ql)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const h=this;h.dirty=!1;const p=ki(a);(this._changesDetected=!function jf(o,a,u){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let p=o[h],m=a[h];if(u&&(p=u(p),m=u(m)),m!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let zl=(()=>{class o{}return o.__NG_ELEMENT_ID__=qd,o})();const Hd=zl,aE=class extends Hd{constructor(a,u,h){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(a){const u=this._declarationTContainer.tViews,h=dp(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(u)),mm(u,h,a),new hf(h)}};function qd(){return Xp(ar(),$e())}function Xp(o,a){return 4&o.type?new aE(a,o,il(o,a)):null}let Zc=(()=>{class o{}return o.__NG_ELEMENT_ID__=lE,o})();function lE(){return Rr(ar(),$e())}const cE=Zc,yf=class extends cE{constructor(a,u,h){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=h}get element(){return il(this._hostTNode,this._hostLView)}get injector(){return new La(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ma(this._hostTNode,this._hostLView);if(P(a)){const u=St(a,this._hostLView),h=Y(a);return new La(u[1].data[h+8],u)}return new La(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=uE(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,h){const p=a.createEmbeddedView(u||{});return this.insert(p,h),p}createComponent(a,u,h,p,m){const b=a&&!function gc(o){return"function"==typeof o}(a);let x;if(b)x=u;else{const q=u||{};x=q.index,h=q.injector,p=q.projectableNodes,m=q.ngModuleRef}const D=b?a:new Vc(Nt(a)),O=h||this.parentInjector;if(!m&&null==D.ngModule){const re=(b?O:this.parentInjector).get(Vd,null);re&&(m=re)}const N=D.create(O,p,void 0,m);return this.insert(N.hostView,x),N}insert(a,u){const h=a._lView,p=h[1];if(function gl(o){return Di(o[3])}(h)){const N=this.indexOf(a);if(-1!==N)this.detach(N);else{const q=h[3],re=new yf(q,q[6],q[3]);re.detach(re.indexOf(a))}}const m=this._adjustIndex(u),b=this._lContainer;!function Cc(o,a,u,h){const p=10+h,m=u.length;h>0&&(u[p-1][4]=a),h<m-10?(a[4]=u[p],mc(u,10+h,a)):(u.push(a),a[4]=null),a[3]=u;const b=a[17];null!==b&&u!==b&&function Ph(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(b,a);const x=a[19];null!==x&&x.insertView(o),a[2]|=128}(p,h,b,m);const x=z_(m,b),D=h[11],O=ip(D,b[7]);return null!==O&&function QT(o,a,u,h,p,m){h[0]=p,h[6]=a,cm(o,h,u,1,p,m)}(p,b[6],D,h,O,x),a.attachToViewContainerRef(),mc(z0(b),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=uE(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),h=V_(this._lContainer,u);h&&(yc(z0(this._lContainer),u),B_(h[1],h))}detach(a){const u=this._adjustIndex(a,-1),h=V_(this._lContainer,u);return h&&null!=yc(z0(this._lContainer),u)?new hf(h):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function uE(o){return o[8]}function z0(o){return o[8]||(o[8]=[])}function Rr(o,a){let u;const h=a[o.index];if(Di(h))u=h;else{let p;if(8&o.type)p=Rn(h);else{const m=a[11];p=m.createComment("");const b=Br(o,a);xo(m,ip(m,b),p,function eI(o,a){return jn(o)?o.nextSibling(a):a.nextSibling}(m,b),!1)}a[o.index]=u=yv(h,a,p,o),Vh(a,u)}return new yf(u,o,a)}class $0{constructor(a){this.queryList=a,this.matches=null}clone(){return new $0(this.queryList)}setDirty(){this.queryList.setDirty()}}class zd{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const h=null!==a.contentQueries?a.contentQueries[0]:u.length,p=[];for(let m=0;m<h;m++){const b=u.getByIndex(m);p.push(this.queries[b.indexInDeclarationView].clone())}return new zd(p)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==W0(a,u).matches&&this.queries[u].setDirty()}}class dE{constructor(a,u,h=null){this.predicate=a,this.flags=u,this.read=h}}class Ey{constructor(a=[]){this.queries=a}elementStart(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(a,p);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new Ey(u):null}template(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Fu{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new Fu(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(a,u,Hc(u,m)),this.matchTNodeWithReadOption(a,u,Pa(u,a,m,!1,!1))}else h===zl?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Pa(u,a,h,!1,!1))}matchTNodeWithReadOption(a,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Fd||p===Zc||p===zl&&4&u.type)this.addMatch(u.index,-2);else{const m=Pa(u,a,p,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function Hc(o,a){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===a)return u[h+1];return null}function fE(o,a,u,h){return-1===u?function hE(o,a){return 11&o.type?il(o,a):4&o.type?Xp(o,a):null}(a,o):-2===u?function pE(o,a,u){return u===Fd?il(a,o):u===zl?Xp(a,o):u===Zc?Rr(a,o):void 0}(o,a,h):Ra(o,o[1],u,a)}function $d(o,a,u,h){const p=a[19].queries[h];if(null===p.matches){const m=o.data,b=u.matches,x=[];for(let D=0;D<b.length;D+=2){const O=b[D];x.push(O<0?null:fE(a,m[O],b[D+1],u.metadata.read))}p.matches=x}return p.matches}function eg(o,a,u,h){const p=o.queries.getByIndex(u),m=p.matches;if(null!==m){const b=$d(o,a,p,u);for(let x=0;x<m.length;x+=2){const D=m[x];if(D>0)h.push(b[x/2]);else{const O=m[x+1],N=a[-D];for(let q=10;q<N.length;q++){const re=N[q];re[17]===re[3]&&eg(re[1],re,O,h)}if(null!==N[9]){const q=N[9];for(let re=0;re<q.length;re++){const fe=q[re];eg(fe[1],fe,O,h)}}}}}return h}function gE(o){const a=$e(),u=rn(),h=Da();yl(h+1);const p=W0(u,h);if(o.dirty&&$o(a)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const m=p.crossesNgTemplate?eg(u,a,h,[]):$d(u,a,p,h);o.reset(m,Ud),o.notifyOnChanges()}return!0}return!1}function si(o,a,u){const h=rn();h.firstCreatePass&&(yE(h,new dE(o,a,u),-1),2==(2&a)&&(h.staticViewQueries=!0)),qc(h,$e(),a)}function Ln(o,a,u,h){const p=rn();if(p.firstCreatePass){const m=ar();yE(p,new dE(a,u,h),m.index),function no(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(p,o),2==(2&u)&&(p.staticContentQueries=!0)}qc(p,$e(),u)}function G0(){return function mE(o,a){return o[19].queries[a].queryList}($e(),Da())}function qc(o,a,u){const h=new wy(4==(4&u));_m(o,a,h,h.destroy),null===a[19]&&(a[19]=new zd),a[19].queries.push(new $0(h))}function yE(o,a,u){null===o.queries&&(o.queries=new Ey),o.queries.track(new Fu(a,u))}function W0(o,a){return o.queries.getByIndex(a)}function _f(o,a){return Xp(o,a)}const TD=El("Input",o=>({bindingPropertyName:o}));function Oy(...o){}const sl=new Cr("Application Initializer");let Py=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Oy,this.reject=Oy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(Ad(m))u.push(m);else if(Jv(m)){const b=new Promise((x,D)=>{m.subscribe({complete:x,error:D})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(lt(sl,8))},o.\u0275prov=hn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ug=new Cr("AppId",{providedIn:"root",factory:function ib(){return`${sb()}${sb()}${sb()}`}});function sb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const IE=new Cr("Platform Initializer"),DE=new Cr("Platform ID"),AE=new Cr("appBootstrapListener");let SE=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=hn({token:o,factory:o.\u0275fac}),o})();const ob=new Cr("LocaleId",{providedIn:"root",factory:()=>sn(ob,Xe.Optional|Xe.SkipSelf)||function AD(){return"undefined"!=typeof $localize&&$localize.locale||Vp}()}),SD=new Cr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class MD{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let kD=(()=>{class o{compileModuleSync(u){return new V0(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=Wa(pn(u).declarations).reduce((b,x)=>{const D=Nt(x);return D&&b.push(new Vc(D)),b},[]);return new MD(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=hn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const kE=(()=>Promise.resolve(0))();function Ry(o){"undefined"==typeof Zone?kE.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class So{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ql(!1),this.onMicrotaskEmpty=new ql(!1),this.onStable=new ql(!1),this.onError=new ql(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function OD(){let o=$t.requestAnimationFrame,a=$t.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function lb(o){const a=()=>{!function ab(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call($t,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Gl(o),o.isCheckStableRunning=!0,dg(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Gl(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,m,b,x)=>{try{return cb(o),u.invokeTask(p,m,b,x)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),OE(o)}},onInvoke:(u,h,p,m,b,x,D)=>{try{return cb(o),u.invoke(p,m,b,x,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),OE(o)}},onHasTask:(u,h,p,m)=>{u.hasTask(p,m),h===p&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Gl(o),dg(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,p,m)=>(u.handleError(p,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!So.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(So.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,h){return this._inner.run(a,u,h)}runTask(a,u,h,p){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+p,a,Ui,Oy,Oy);try{return m.runTask(b,u,h)}finally{m.cancelTask(b)}}runGuarded(a,u,h){return this._inner.runGuarded(a,u,h)}runOutsideAngular(a){return this._outer.run(a)}}const Ui={};function dg(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Gl(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function cb(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function OE(o){o._nesting--,dg(o)}class PE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ql,this.onMicrotaskEmpty=new ql,this.onStable=new ql,this.onError=new ql}run(a,u,h){return a.apply(u,h)}runGuarded(a,u,h){return a.apply(u,h)}runOutsideAngular(a){return a()}runTask(a,u,h,p){return a.apply(u,h)}}let hg=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{So.assertNotInAngularZone(),Ry(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ry(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,p){return[]}}return o.\u0275fac=function(u){return new(u||o)(lt(So))},o.\u0275prov=hn({token:o,factory:o.\u0275fac}),o})(),Vu=(()=>{class o{constructor(){this._applications=new Map,Kd.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Kd.findTestabilityInTree(this,u,h)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=hn({token:o,factory:o.\u0275fac}),o})();class Gd{addToWindow(a){}findTestabilityInTree(a,u,h){return null}}function Wd(o){Kd=o}let ca,Kd=new Gd;const db=new Cr("AllowMultipleToken");class PD{constructor(a,u){this.name=a,this.token=u}}function hb(o,a,u=[]){const h=`Platform: ${a}`,p=new Cr(h);return(m=[])=>{let b=Bu();if(!b||b.injector.get(db,!1))if(o)o(u.concat(m).concat({provide:p,useValue:!0}));else{const x=u.concat(m).concat({provide:p,useValue:!0},{provide:Dv,useValue:"platform"});!function LE(o){if(ca&&!ca.destroyed&&!ca.injector.get(db,!1))throw new rt(400,"");ca=o.get(FE);const a=o.get(IE,null);a&&a.forEach(u=>u())}(Vl.create({providers:x,name:h}))}return function Ny(o){const a=Bu();if(!a)throw new rt(401,"");return a}()}}function Bu(){return ca&&!ca.destroyed?ca:null}let FE=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const x=function UE(o,a){let u;return u="noop"===o?new PE:("zone.js"===o?void 0:o)||new So({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),D=[{provide:So,useValue:x}];return x.run(()=>{const O=Vl.create({providers:D,parent:this.injector,name:u.moduleType.name}),N=u.create(O),q=N.injector.get(rm,null);if(!q)throw new rt(402,"");return x.runOutsideAngular(()=>{const re=x.onError.subscribe({next:fe=>{q.handleError(fe)}});N.onDestroy(()=>{Yd(this._modules,N),re.unsubscribe()})}),function RD(o,a,u){try{const h=u();return Ad(h)?h.catch(p=>{throw a.runOutsideAngular(()=>o.handleError(p)),p}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(q,x,()=>{const re=N.injector.get(Py);return re.runInitializers(),re.donePromise.then(()=>(function Mx(o){ln(o,"Expected localeId to be defined"),"string"==typeof o&&(Sx=o.toLowerCase().replace(/_/g,"-"))}(N.injector.get(ob,Vp)||Vp),this._moduleDoBootstrap(N),N))})})}bootstrapModule(u,h=[]){const p=VE({},h);return function ub(o,a,u){const h=new V0(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(u){const h=u.injector.get(fb);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new rt(403,"");u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new rt(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(lt(Vl))},o.\u0275prov=hn({token:o,factory:o.\u0275fac}),o})();function VE(o,a){return Array.isArray(a)?a.reduce(VE,o):Object.assign(Object.assign({},o),a)}let fb=(()=>{class o{constructor(u,h,p,m,b){this._zone=u,this._injector=h,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new U.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),D=new U.y(O=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{So.assertNotInAngularZone(),Ry(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{So.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{N.unsubscribe(),q.unsubscribe()}});this.isStable=(0,_e.T)(x,D.pipe((0,Ee.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new rt(405,"");let p;p=u instanceof Fc?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(p.componentType);const m=function NE(o){return o.isBoundToModule}(p)?void 0:this._injector.get(Vd),x=p.create(Vl.NULL,[],h||p.selector,m),D=x.location.nativeElement,O=x.injector.get(hg,null),N=O&&x.injector.get(Vu);return O&&N&&N.registerApplication(D,O),x.onDestroy(()=>{this.detachView(x.hostView),Yd(this.components,x),N&&N.unregisterApplication(D)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new rt(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Yd(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(AE,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(lt(So),lt(Vl),lt(rm),lt(rl),lt(Py))},o.\u0275prov=hn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Yd(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}let pb=!0,BE=!1;function ND(){return BE=!0,pb}function gb(){if(BE)throw new Error("Cannot enable prod mode after platform setup.");pb=!1}let fg=(()=>{class o{}return o.__NG_ELEMENT_ID__=Fy,o})();function Fy(o){return function pg(o,a,u){if(ul(o)&&!u){const h=Ir(o.index,a);return new hf(h,h)}return 47&o.type?new hf(a[16],a):null}(ar(),$e(),16==(16&o))}class ZE{constructor(){}supports(a){return Ci(a)}create(a){return new BD(a)}}const HE=(o,a)=>a;class BD{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||HE}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,h=this._removalsHead,p=0,m=null;for(;u||h;){const b=!h||u&&u.currentIndex<Cb(h,p,m)?u:h,x=Cb(b,p,m),D=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)p++;else{m||(m=[]);const O=x-p,N=D-p;if(O!=N){for(let re=0;re<O;re++){const fe=re<m.length?m[re]:m[re]=0,qe=fe+re;N<=qe&&qe<O&&(m[re]=fe+1)}m[b.previousIndex]=N-O}}x!==D&&a(b,x,D)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Ci(a))throw new rt(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let p,m,b,u=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let x=0;x<this.length;x++)m=a[x],b=this._trackByFn(x,m),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,m,b,x)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,b,x),h=!0),u=u._next}else p=0,function Fs(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[Sc()]();let h;for(;!(h=u.next()).done;)a(h.value)}}(a,x=>{b=this._trackByFn(p,x),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,x,b,p)),Object.is(u.item,x)||this._addIdentityChange(u,x)):(u=this._mismatch(u,x,b,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,h,p){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,p)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,p)):a=this._addAfter(new qE(u,h),m,p),a}_verifyReinsertion(a,u,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,p):a.currentIndex!=p&&(a.currentIndex=p,this._addToMoves(a,p)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const p=a._prevRemoved,m=a._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(a,u,h),this._addToMoves(a,h),a}_moveAfter(a,u,h){return this._unlink(a),this._insertAfter(a,u,h),this._addToMoves(a,h),a}_addAfter(a,u,h){return this._insertAfter(a,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,h){const p=null===u?this._itHead:u._next;return a._next=p,a._prev=u,null===p?this._itTail=a:p._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new wf),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,h=a._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wf),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class qE{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jd{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const u=a._prevDup,h=a._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class wf{constructor(){this.map=new Map}put(a){const u=a.trackById;let h=this.map.get(u);h||(h=new Jd,this.map.set(u,h)),h.add(a)}get(a,u){const p=this.map.get(a);return p?p.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cb(o,a,u){const h=o.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+a+p}class xb{constructor(){}supports(a){return a instanceof Map||Im(a)}create(){return new jD}}class jD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||Im(a)))throw new rt(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const h=a._prev;return u._next=a,u._prev=h,a._prev=u,h&&(h._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const p=this._records.get(a);this._maybeAddToChanges(p,u);const m=p._prev,b=p._next;return m&&(m._next=b),b&&(b._prev=m),p._next=null,p._prev=null,p}const h=new zE(a);return this._records.set(a,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(h=>u(a[h],h))}}class zE{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $E(){return new Eb([new ZE])}let Eb=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||$E()),deps:[[o,new Ha,new ps]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new rt(901,"")}}return o.\u0275prov=hn({token:o,providedIn:"root",factory:$E}),o})();function Ti(){return new Tb([new xb])}let Tb=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||Ti()),deps:[[o,new Ha,new ps]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(h)return h;throw new rt(901,"")}}return o.\u0275prov=hn({token:o,providedIn:"root",factory:Ti}),o})();const Zy=hb(null,"core",[{provide:DE,useValue:"unknown"},{provide:FE,deps:[Vl]},{provide:Vu,deps:[]},{provide:SE,deps:[]}]);let zD=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(lt(fb))},o.\u0275mod=De({type:o}),o.\u0275inj=fn({}),o})()},3942:(xt,Oe,V)=>{"use strict";V.d(Oe,{Z:()=>rt});var l=V(2090),$=V(4859),U=V(9681),_e=V(1877);class Ee{constructor(Ne,Ve){this._delegate=Ne,this.firebase=Ve,(0,U._addComponent)(Ne,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=Ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this._delegate.automaticDataCollectionEnabled=Ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ne=>{this._delegate.checkDestroyed(),Ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Ne,Ve=U._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(Ne);return!ft.isInitialized()&&"EXPLICIT"===(null===(ht=ft.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:Ve})}_removeServiceInstance(Ne,Ve=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ne).clearInstance(Ve)}_addComponent(Ne){(0,U._addComponent)(this._delegate,Ne)}_addOrOverwriteComponent(Ne){(0,U._addOrOverwriteComponent)(this._delegate,Ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Re(){const st=function ge(st){const Ne={},Ve={__esModule:!0,initializeApp:function He(me,H={}){const Fe=U.initializeApp(me,H);if((0,l.r3)(Ne,Fe.name))return Ne[Fe.name];const se=new st(Fe,Ve);return Ne[Fe.name]=se,se},app:ft,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function je(me){const H=me.name,Fe=H.replace("-compat","");if(U._registerComponent(me)&&"PUBLIC"===me.type){const se=(ue=ft())=>{if("function"!=typeof ue[Fe])throw Pe.create("invalid-app-argument",{appName:H});return ue[Fe]()};void 0!==me.serviceProps&&(0,l.ZB)(se,me.serviceProps),Ve[Fe]=se,st.prototype[Fe]=function(...ue){return this._getService.bind(this,H).apply(this,me.multipleInstances?ue:[])}}return"PUBLIC"===me.type?Ve[Fe]:null},removeApp:function ht(me){delete Ne[me]},useAsService:function gt(me,H){return"serverAuth"===H?null:H},modularAPIs:U}};function ft(me){if(!(0,l.r3)(Ne,me=me||U._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:me});return Ne[me]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function We(){return Object.keys(Ne).map(me=>Ne[me])}}),ft.App=st,Ve}(Ee);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:Re,extendNamespace:function Ne(Ve){(0,l.ZB)(st,Ve)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),st}(),X=new _e.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=ee;!function Ge(st){(0,U.registerVersion)("@firebase/app-compat","0.1.27",st)}()},9681:(xt,Oe,V)=>{"use strict";V.r(Oe),V.d(Oe,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>de,_DEFAULT_ENTRY_NAME:()=>ln,_addComponent:()=>Mn,_addOrOverwriteComponent:()=>hn,_apps:()=>cn,_clearComponents:()=>z,_components:()=>Sn,_getProvider:()=>fn,_registerComponent:()=>Qt,_removeServiceInstance:()=>Bn,deleteApp:()=>Xe,getApp:()=>it,getApps:()=>At,initializeApp:()=>Ye,onLog:()=>zt,registerVersion:()=>Un,setLogLevel:()=>Fr});var l=V(5861),$=V(4859),U=V(1877),_e=V(2090),Ee=V(8766);class Me{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function Pe(K){const he=K.getComponent();return"VERSION"===(null==he?void 0:he.type)}(Ke)){const Ct=Ke.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(Ke=>Ke).join(" ")}}const ge="@firebase/app",ee=new U.Yd("@firebase/app"),ln="[DEFAULT]",pt={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},cn=new Map,Sn=new Map;function Mn(K,he){try{K.container.addComponent(he)}catch(Ke){ee.debug(`Component ${he.name} failed to register with FirebaseApp ${K.name}`,Ke)}}function hn(K,he){K.container.addOrOverwriteComponent(he)}function Qt(K){const he=K.name;if(Sn.has(he))return ee.debug(`There were multiple attempts to register component ${he}.`),!1;Sn.set(he,K);for(const Ke of cn.values())Mn(Ke,K);return!0}function fn(K,he){const Ke=K.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),K.container.getProvider(he)}function Bn(K,he,Ke=ln){fn(K,he).clearInstance(Ke)}function z(){Sn.clear()}const Q=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ne{constructor(he,Ke,Ct){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw Q.create("app-deleted",{appName:this._name})}}const de="9.8.3";function Ye(K,he={}){"object"!=typeof he&&(he={name:he});const Ke=Object.assign({name:ln,automaticDataCollectionEnabled:!1},he),Ct=Ke.name;if("string"!=typeof Ct||!Ct)throw Q.create("bad-app-name",{appName:String(Ct)});const Ft=cn.get(Ct);if(Ft){if((0,_e.vZ)(K,Ft.options)&&(0,_e.vZ)(Ke,Ft.config))return Ft;throw Q.create("duplicate-app",{appName:Ct})}const Gt=new $.H0(Ct);for(const Wt of Sn.values())Gt.addComponent(Wt);const On=new ne(K,Ke,Gt);return cn.set(Ct,On),On}function it(K=ln){const he=cn.get(K);if(!he)throw Q.create("no-app",{appName:K});return he}function At(){return Array.from(cn.values())}function Xe(K){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(K){const he=K.name;cn.has(he)&&(cn.delete(he),yield Promise.all(K.container.getProviders().map(Ke=>Ke.delete())),K.isDeleted=!0)})).apply(this,arguments)}function Un(K,he,Ke){var Ct;let Ft=null!==(Ct=pt[K])&&void 0!==Ct?Ct:K;Ke&&(Ft+=`-${Ke}`);const Gt=Ft.match(/\s|\//),On=he.match(/\s|\//);if(Gt||On){const Wt=[`Unable to register library "${Ft}" with version "${he}":`];return Gt&&Wt.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),Gt&&On&&Wt.push("and"),On&&Wt.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void ee.warn(Wt.join(" "))}Qt(new $.wA(`${Ft}-version`,()=>({library:Ft,version:he}),"VERSION"))}function zt(K,he){if(null!==K&&"function"!=typeof K)throw Q.create("invalid-log-argument");(0,U.Am)(K,he)}function Fr(K){(0,U.Ub)(K)}const Lt="firebase-heartbeat-store";let Wn=null;function Xr(){return Wn||(Wn=(0,Ee.X3)("firebase-heartbeat-database",1,{upgrade:(K,he)=>{0===he&&K.createObjectStore(Lt)}}).catch(K=>{throw Q.create("storage-open",{originalErrorMessage:K.message})})),Wn}function bt(){return(bt=(0,l.Z)(function*(K){var he;try{return(yield Xr()).transaction(Lt).objectStore(Lt).get(ei(K))}catch(Ke){throw Q.create("storage-get",{originalErrorMessage:null===(he=Ke)||void 0===he?void 0:he.message})}})).apply(this,arguments)}function mt(K,he){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(K,he){var Ke;try{const Ft=(yield Xr()).transaction(Lt,"readwrite");return yield Ft.objectStore(Lt).put(he,ei(K)),Ft.done}catch(Ct){throw Q.create("storage-set",{originalErrorMessage:null===(Ke=Ct)||void 0===Ke?void 0:Ke.message})}})).apply(this,arguments)}function ei(K){return`${K.name}!${K.options.appId}`}class ir{constructor(he){this.container=he,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new ie(Ke),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var he=this;return(0,l.Z)(function*(){const Ct=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=kn();if(null===he._heartbeatsCache&&(he._heartbeatsCache=yield he._heartbeatsCachePromise),he._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!he._heartbeatsCache.heartbeats.some(Gt=>Gt.date===Ft))return he._heartbeatsCache.heartbeats.push({date:Ft,agent:Ct}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(Gt=>{const On=new Date(Gt.date).valueOf();return Date.now()-On<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,l.Z)(function*(){if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null===he._heartbeatsCache||0===he._heartbeatsCache.heartbeats.length)return"";const Ke=kn(),{heartbeatsToSend:Ct,unsentEntries:Ft}=function J(K,he=1024){const Ke=[];let Ct=K.slice();for(const Ft of K){const Gt=Ke.find(On=>On.agent===Ft.agent);if(Gt){if(Gt.dates.push(Ft.date),ae(Ke)>he){Gt.dates.pop();break}}else if(Ke.push({agent:Ft.agent,dates:[Ft.date]}),ae(Ke)>he){Ke.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:Ct}}(he._heartbeatsCache.heartbeats),Gt=(0,_e.L)(JSON.stringify({version:2,heartbeats:Ct}));return he._heartbeatsCache.lastSentHeartbeatDate=Ke,Ft.length>0?(he._heartbeatsCache.heartbeats=Ft,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),Gt})()}}function kn(){return(new Date).toISOString().substring(0,10)}class ie{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,l.Z)(function*(){return(yield he._canUseIndexedDBPromise)&&(yield function nn(K){return bt.apply(this,arguments)}(he.app))||{heartbeats:[]}})()}overwrite(he){var Ke=this;return(0,l.Z)(function*(){var Ct;if(yield Ke._canUseIndexedDBPromise){const Gt=yield Ke.read();return mt(Ke.app,{lastSentHeartbeatDate:null!==(Ct=he.lastSentHeartbeatDate)&&void 0!==Ct?Ct:Gt.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var Ke=this;return(0,l.Z)(function*(){var Ct;if(yield Ke._canUseIndexedDBPromise){const Gt=yield Ke.read();return mt(Ke.app,{lastSentHeartbeatDate:null!==(Ct=he.lastSentHeartbeatDate)&&void 0!==Ct?Ct:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...he.heartbeats]})}})()}}function ae(K){return(0,_e.L)(JSON.stringify({version:2,heartbeats:K})).length}!function Ze(K){Qt(new $.wA("platform-logger",he=>new Me(he),"PRIVATE")),Qt(new $.wA("heartbeat",he=>new ir(he),"PRIVATE")),Un(ge,"0.7.26",K),Un(ge,"0.7.26","esm2017"),Un("fire-js","")}("")},4859:(xt,Oe,V)=>{"use strict";V.d(Oe,{wA:()=>U,H0:()=>ge});var l=V(5861),$=V(2090);class U{constructor(ee,X,we){this.name=ee,this.instanceFactory=X,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const _e="[DEFAULT]";class Ee{constructor(ee,X){this.name=ee,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const X=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(X)){const we=new $.BH;if(this.instancesDeferred.set(X,we),this.isInitialized(X)||this.shouldAutoInitialize())try{const ut=this.getOrInitializeService({instanceIdentifier:X});ut&&we.resolve(ut)}catch(ut){}}return this.instancesDeferred.get(X).promise}getImmediate(ee){var X;const we=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),ut=null!==(X=null==ee?void 0:ee.optional)&&void 0!==X&&X;if(!this.isInitialized(we)&&!this.shouldAutoInitialize()){if(ut)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:we})}catch(Ge){if(ut)return null;throw Ge}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Pe(Re){return"EAGER"===Re.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:_e})}catch(X){}for(const[X,we]of this.instancesDeferred.entries()){const ut=this.normalizeInstanceIdentifier(X);try{const Ge=this.getOrInitializeService({instanceIdentifier:ut});we.resolve(Ge)}catch(Ge){}}}}clearInstance(ee=_e){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,l.Z)(function*(){const X=Array.from(ee.instances.values());yield Promise.all([...X.filter(we=>"INTERNAL"in we).map(we=>we.INTERNAL.delete()),...X.filter(we=>"_delete"in we).map(we=>we._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=_e){return this.instances.has(ee)}getOptions(ee=_e){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:X={}}=ee,we=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(we))throw Error(`${this.name}(${we}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ut=this.getOrInitializeService({instanceIdentifier:we,options:X});for(const[Ge,rt]of this.instancesDeferred.entries())we===this.normalizeInstanceIdentifier(Ge)&&rt.resolve(ut);return ut}onInit(ee,X){var we;const ut=this.normalizeInstanceIdentifier(X),Ge=null!==(we=this.onInitCallbacks.get(ut))&&void 0!==we?we:new Set;Ge.add(ee),this.onInitCallbacks.set(ut,Ge);const rt=this.instances.get(ut);return rt&&ee(rt,ut),()=>{Ge.delete(ee)}}invokeOnInitCallbacks(ee,X){const we=this.onInitCallbacks.get(X);if(we)for(const ut of we)try{ut(ee,X)}catch(Ge){}}getOrInitializeService({instanceIdentifier:ee,options:X={}}){let we=this.instances.get(ee);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=ee,Re===_e?void 0:Re),options:X}),this.instances.set(ee,we),this.instancesOptions.set(ee,X),this.invokeOnInitCallbacks(we,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,we)}catch(ut){}var Re;return we||null}normalizeInstanceIdentifier(ee=_e){return this.component?this.component.multipleInstances?ee:_e:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const X=this.getProvider(ee.name);if(X.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);X.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const X=new Ee(ee,this);return this.providers.set(ee,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,Oe,V)=>{"use strict";V.d(Oe,{in:()=>$,Yd:()=>Pe,Ub:()=>ge,Am:()=>Re});const l=[];var $=(()=>{return(ee=$||($={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",$;var ee})();const U={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},_e=$.INFO,Ee={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},Me=(ee,X,...we)=>{if(X<ee.logLevel)return;const ut=(new Date).toISOString(),Ge=Ee[X];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[Ge](`[${ut}]  ${ee.name}:`,...we)};class Pe{constructor(X){this.name=X,this._logLevel=_e,this._logHandler=Me,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in $))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?U[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...X),this._logHandler(this,$.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...X),this._logHandler(this,$.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,$.INFO,...X),this._logHandler(this,$.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,$.WARN,...X),this._logHandler(this,$.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...X),this._logHandler(this,$.ERROR,...X)}}function ge(ee){l.forEach(X=>{X.setLogLevel(ee)})}function Re(ee,X){for(const we of l){let ut=null;X&&X.level&&(ut=U[X.level]),we.userLogHandler=null===ee?null:(Ge,rt,...st)=>{const Ne=st.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch(ht){return null}}).filter(Ve=>Ve).join(" ");rt>=(null!=ut?ut:Ge.logLevel)&&ee({level:$[rt].toLowerCase(),message:Ne,args:st,type:Ge.name})}}}},8766:(xt,Oe,V)=>{"use strict";V.d(Oe,{Lj:()=>He,X3:()=>ft});var l=V(5861);let U,_e;const Pe=new WeakMap,ge=new WeakMap,Re=new WeakMap,ee=new WeakMap,X=new WeakMap;let Ge={get(H,Fe,se){if(H instanceof IDBTransaction){if("done"===Fe)return ge.get(H);if("objectStoreNames"===Fe)return H.objectStoreNames||Re.get(H);if("store"===Fe)return se.objectStoreNames[1]?void 0:se.objectStore(se.objectStoreNames[0])}return Ve(H[Fe])},set:(H,Fe,se)=>(H[Fe]=se,!0),has:(H,Fe)=>H instanceof IDBTransaction&&("done"===Fe||"store"===Fe)||Fe in H};function Ne(H){return"function"==typeof H?function st(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...Fe){return H.apply(ht(this),Fe),Ve(Pe.get(this))}:function(...Fe){return Ve(H.apply(ht(this),Fe))}:function(Fe,...se){const ue=H.call(ht(this),Fe,...se);return Re.set(ue,Fe.sort?Fe.sort():[Fe]),Ve(ue)}}(H):(H instanceof IDBTransaction&&function ut(H){if(ge.has(H))return;const Fe=new Promise((se,ue)=>{const pe=()=>{H.removeEventListener("complete",Ce),H.removeEventListener("error",Te),H.removeEventListener("abort",Te)},Ce=()=>{se(),pe()},Te=()=>{ue(H.error||new DOMException("AbortError","AbortError")),pe()};H.addEventListener("complete",Ce),H.addEventListener("error",Te),H.addEventListener("abort",Te)});ge.set(H,Fe)}(H),((H,Fe)=>Fe.some(se=>H instanceof se))(H,function Ee(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,Ge):H)}function Ve(H){if(H instanceof IDBRequest)return function we(H){const Fe=new Promise((se,ue)=>{const pe=()=>{H.removeEventListener("success",Ce),H.removeEventListener("error",Te)},Ce=()=>{se(Ve(H.result)),pe()},Te=()=>{ue(H.error),pe()};H.addEventListener("success",Ce),H.addEventListener("error",Te)});return Fe.then(se=>{se instanceof IDBCursor&&Pe.set(se,H)}).catch(()=>{}),X.set(Fe,H),Fe}(H);if(ee.has(H))return ee.get(H);const Fe=Ne(H);return Fe!==H&&(ee.set(H,Fe),X.set(Fe,H)),Fe}const ht=H=>X.get(H);function ft(H,Fe,{blocked:se,upgrade:ue,blocking:pe,terminated:Ce}={}){const Te=indexedDB.open(H,Fe),nt=Ve(Te);return ue&&Te.addEventListener("upgradeneeded",Ot=>{ue(Ve(Te.result),Ot.oldVersion,Ot.newVersion,Ve(Te.transaction))}),se&&Te.addEventListener("blocked",()=>se()),nt.then(Ot=>{Ce&&Ot.addEventListener("close",()=>Ce()),pe&&Ot.addEventListener("versionchange",()=>pe())}).catch(()=>{}),nt}function He(H,{blocked:Fe}={}){const se=indexedDB.deleteDatabase(H);return Fe&&se.addEventListener("blocked",()=>Fe()),Ve(se).then(()=>{})}const We=["get","getKey","getAll","getAllKeys","count"],je=["put","add","delete","clear"],gt=new Map;function me(H,Fe){if(!(H instanceof IDBDatabase)||Fe in H||"string"!=typeof Fe)return;if(gt.get(Fe))return gt.get(Fe);const se=Fe.replace(/FromIndex$/,""),ue=Fe!==se,pe=je.includes(se);if(!(se in(ue?IDBIndex:IDBObjectStore).prototype)||!pe&&!We.includes(se))return;const Ce=function(){var Te=(0,l.Z)(function*(nt,...Ot){const mn=this.transaction(nt,pe?"readwrite":"readonly");let ln=mn.store;return ue&&(ln=ln.index(Ot.shift())),(yield Promise.all([ln[se](...Ot),pe&&mn.done]))[0]});return function(Ot){return Te.apply(this,arguments)}}();return gt.set(Fe,Ce),Ce}!function rt(H){Ge=H(Ge)}(H=>xT(CT({},H),{get:(Fe,se,ue)=>me(Fe,se)||H.get(Fe,se,ue),has:(Fe,se)=>!!me(Fe,se)||H.has(Fe,se)}))},5861:(xt,Oe,V)=>{"use strict";function l(U,_e,Ee,Me,Pe,ge,Re){try{var ee=U[ge](Re),X=ee.value}catch(we){return void Ee(we)}ee.done?_e(X):Promise.resolve(X).then(Me,Pe)}function $(U){return function(){var _e=this,Ee=arguments;return new Promise(function(Me,Pe){var ge=U.apply(_e,Ee);function Re(X){l(ge,Me,Pe,Re,ee,"next",X)}function ee(X){l(ge,Me,Pe,Re,ee,"throw",X)}Re(void 0)})}}V.d(Oe,{Z:()=>$})}},xt=>{xt(xt.s=1681)}]);